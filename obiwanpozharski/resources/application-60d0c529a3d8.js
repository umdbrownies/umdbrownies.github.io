(function(){var e=this,t=e._,i={},n=Array.prototype,s=Object.prototype,o=Function.prototype,r=n.push,a=n.slice,l=n.concat,c=s.toString,d=s.hasOwnProperty,u=n.forEach,h=n.map,f=n.reduce,p=n.reduceRight,v=n.filter,m=n.every,b=n.some,g=n.indexOf,_=n.lastIndexOf,y=Array.isArray,w=Object.keys,k=o.bind,x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var S=x.each=x.forEach=function(e,t,n){if(null==e)return e;if(u&&e.forEach===u)e.forEach(t,n);else if(e.length===+e.length){for(var s=0,o=e.length;o>s;s++)if(t.call(n,e[s],s,e)===i)return}else for(var r=x.keys(e),s=0,o=r.length;o>s;s++)if(t.call(n,e[r[s]],r[s],e)===i)return;return e};x.map=x.collect=function(e,t,i){var n=[];return null==e?n:h&&e.map===h?e.map(t,i):(S(e,function(e,s,o){n.push(t.call(i,e,s,o))}),n)};var C="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return n&&(t=x.bind(t,n)),s?e.reduce(t,i):e.reduce(t);if(S(e,function(e,o,r){s?i=t.call(n,i,e,o,r):(i=e,s=!0)}),!s)throw new TypeError(C);return i},x.reduceRight=x.foldr=function(e,t,i,n){var s=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return n&&(t=x.bind(t,n)),s?e.reduceRight(t,i):e.reduceRight(t);var o=e.length;if(o!==+o){var r=x.keys(e);o=r.length}if(S(e,function(a,l,c){l=r?r[--o]:--o,s?i=t.call(n,i,e[l],l,c):(i=e[l],s=!0)}),!s)throw new TypeError(C);return i},x.find=x.detect=function(e,t,i){var n;return T(e,function(e,s,o){return t.call(i,e,s,o)?(n=e,!0):void 0}),n},x.filter=x.select=function(e,t,i){var n=[];return null==e?n:v&&e.filter===v?e.filter(t,i):(S(e,function(e,s,o){t.call(i,e,s,o)&&n.push(e)}),n)},x.reject=function(e,t,i){return x.filter(e,function(e,n,s){return!t.call(i,e,n,s)},i)},x.every=x.all=function(e,t,n){t||(t=x.identity);var s=!0;return null==e?s:m&&e.every===m?e.every(t,n):(S(e,function(e,o,r){return(s=s&&t.call(n,e,o,r))?void 0:i}),!!s)};var T=x.some=x.any=function(e,t,n){t||(t=x.identity);var s=!1;return null==e?s:b&&e.some===b?e.some(t,n):(S(e,function(e,o,r){return s||(s=t.call(n,e,o,r))?i:void 0}),!!s)};x.contains=x.include=function(e,t){return null==e?!1:g&&e.indexOf===g?-1!=e.indexOf(t):T(e,function(e){return e===t})},x.invoke=function(e,t){var i=a.call(arguments,2),n=x.isFunction(t);return x.map(e,function(e){return(n?t:e[t]).apply(e,i)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var n=-(1/0),s=-(1/0);return S(e,function(e,o,r){var a=t?t.call(i,e,o,r):e;a>s&&(n=e,s=a)}),n},x.min=function(e,t,i){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var n=1/0,s=1/0;return S(e,function(e,o,r){var a=t?t.call(i,e,o,r):e;s>a&&(n=e,s=a)}),n},x.shuffle=function(e){var t,i=0,n=[];return S(e,function(e){t=x.random(i++),n[i-1]=n[t],n[t]=e}),n},x.sample=function(e,t,i){return null==t||i?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var $=function(e){return null==e?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,i){return t=$(t),x.pluck(x.map(e,function(e,n,s){return{value:e,index:n,criteria:t.call(i,e,n,s)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,i,n){var s={};return i=$(i),S(t,function(o,r){var a=i.call(n,o,r,t);e(s,a,o)}),s}};x.groupBy=M(function(e,t,i){x.has(e,t)?e[t].push(i):e[t]=[i]}),x.indexBy=M(function(e,t,i){e[t]=i}),x.countBy=M(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,i,n){i=$(i);for(var s=i.call(n,t),o=0,r=e.length;r>o;){var a=o+r>>>1;i.call(n,e[a])<s?o=a+1:r=a}return o},x.toArray=function(e){return e?x.isArray(e)?a.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,i){return null==e?void 0:null==t||i?e[0]:0>t?[]:a.call(e,0,t)},x.initial=function(e,t,i){return a.call(e,0,e.length-(null==t||i?1:t))},x.last=function(e,t,i){return null==e?void 0:null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,i){return a.call(e,null==t||i?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var D=function(e,t,i){return t&&x.every(e,x.isArray)?l.apply(i,e):(S(e,function(e){x.isArray(e)||x.isArguments(e)?t?r.apply(i,e):D(e,t,i):i.push(e)}),i)};x.flatten=function(e,t){return D(e,t,[])},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.partition=function(e,t,i){t=$(t);var n=[],s=[];return S(e,function(e){(t.call(i,e)?n:s).push(e)}),[n,s]},x.uniq=x.unique=function(e,t,i,n){x.isFunction(t)&&(n=i,i=t,t=!1);var s=i?x.map(e,i,n):e,o=[],r=[];return S(s,function(i,n){(t?n&&r[r.length-1]===i:x.contains(r,i))||(r.push(i),o.push(e[n]))}),o},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=a.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=l.apply(n,a.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e),i=0;e>i;i++)t[i]=x.pluck(arguments,""+i);return t},x.object=function(e,t){if(null==e)return{};for(var i={},n=0,s=e.length;s>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,s=e.length;if(i){if("number"!=typeof i)return n=x.sortedIndex(e,t),e[n]===t?n:-1;n=0>i?Math.max(0,s+i):i}if(g&&e.indexOf===g)return e.indexOf(t,i);for(;s>n;n++)if(e[n]===t)return n;return-1},x.lastIndexOf=function(e,t,i){if(null==e)return-1;var n=null!=i;if(_&&e.lastIndexOf===_)return n?e.lastIndexOf(t,i):e.lastIndexOf(t);for(var s=n?i:e.length;s--;)if(e[s]===t)return s;return-1},x.range=function(e,t,i){arguments.length<=1&&(t=e||0,e=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((t-e)/i),0),s=0,o=new Array(n);n>s;)o[s++]=e,e+=i;return o};var E=function(){};x.bind=function(e,t){var i,n;if(k&&e.bind===k)return k.apply(e,a.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(a.call(arguments)));E.prototype=e.prototype;var s=new E;E.prototype=null;var o=e.apply(s,i.concat(a.call(arguments)));return Object(o)===o?o:s}},x.partial=function(e){var t=a.call(arguments,1);return function(){for(var i=0,n=t.slice(),s=0,o=n.length;o>s;s++)n[s]===x&&(n[s]=arguments[i++]);for(;i<arguments.length;)n.push(arguments[i++]);return e.apply(this,n)}},x.bindAll=function(e){var t=a.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var i={};return t||(t=x.identity),function(){var n=t.apply(this,arguments);return x.has(i,n)?i[n]:i[n]=e.apply(this,arguments)}},x.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(e,t,i){var n,s,o,r=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:x.now(),r=null,o=e.apply(n,s),n=s=null};return function(){var c=x.now();a||i.leading!==!1||(a=c);var d=t-(c-a);return n=this,s=arguments,0>=d?(clearTimeout(r),r=null,a=c,o=e.apply(n,s),n=s=null):r||i.trailing===!1||(r=setTimeout(l,d)),o}},x.debounce=function(e,t,i){var n,s,o,r,a,l=function(){var c=x.now()-r;t>c?n=setTimeout(l,t-c):(n=null,i||(a=e.apply(o,s),o=s=null))};return function(){o=this,s=arguments,r=x.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(o,s),o=s=null),a}},x.once=function(e){var t,i=!1;return function(){return i?t:(i=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){for(var t=arguments,i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.keys=function(e){if(!x.isObject(e))return[];if(w)return w(e);var t=[];for(var i in e)x.has(e,i)&&t.push(i);return t},x.values=function(e){for(var t=x.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=e[t[s]];return n},x.pairs=function(e){for(var t=x.keys(e),i=t.length,n=new Array(i),s=0;i>s;s++)n[s]=[t[s],e[t[s]]];return n},x.invert=function(e){for(var t={},i=x.keys(e),n=0,s=i.length;s>n;n++)t[e[i[n]]]=i[n];return t},x.functions=x.methods=function(e){var t=[];for(var i in e)x.isFunction(e[i])&&t.push(i);return t.sort()},x.extend=function(e){return S(a.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e},x.pick=function(e){var t={},i=l.apply(n,a.call(arguments,1));return S(i,function(i){i in e&&(t[i]=e[i])}),t},x.omit=function(e){var t={},i=l.apply(n,a.call(arguments,1));for(var s in e)x.contains(i,s)||(t[s]=e[s]);return t},x.defaults=function(e){return S(a.call(arguments,1),function(t){if(t)for(var i in t)void 0===e[i]&&(e[i]=t[i])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var P=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var s=c.call(e);if(s!=c.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=i.length;o--;)if(i[o]==e)return n[o]==t;var r=e.constructor,a=t.constructor;if(r!==a&&!(x.isFunction(r)&&r instanceof r&&x.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;i.push(e),n.push(t);var l=0,d=!0;if("[object Array]"==s){if(l=e.length,d=l==t.length)for(;l--&&(d=P(e[l],t[l],i,n)););}else{for(var u in e)if(x.has(e,u)&&(l++,!(d=x.has(t,u)&&P(e[u],t[u],i,n))))break;if(d){for(u in t)if(x.has(t,u)&&!l--)break;d=!l}}return i.pop(),n.pop(),d};x.isEqual=function(e,t){return P(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=y||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(e){return"function"==typeof e}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return d.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var i in e)if(e[i]!==t[i])return!1;return!0}},x.times=function(e,t,i){for(var n=Array(Math.max(0,e)),s=0;e>s;s++)n[s]=t.call(i,s);return n},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=x.invert(I.escape);var A={escape:new RegExp("["+x.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(I.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return I[e][t]})}}),x.result=function(e,t){if(null==e)return void 0;var i=e[t];return x.isFunction(i)?i.call(e):i},x.mixin=function(e){S(x.functions(e),function(t){var i=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return r.apply(e,arguments),N.call(this,i.apply(x,e))}})};var j=0;x.uniqueId=function(e){var t=++j+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,i){var n;i=x.defaults({},i,x.templateSettings);var s=new RegExp([(i.escape||O).source,(i.interpolate||O).source,(i.evaluate||O).source].join("|")+"|$","g"),o=0,r="__p+='";e.replace(s,function(t,i,n,s,a){return r+=e.slice(o,a).replace(L,function(e){return"\\"+z[e]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(r+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(r+="';\n"+s+"\n__p+='"),o=a+t.length,t}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{n=new Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(t)return n(t,x);var l=function(e){return n.call(this,e,x)};return l.source="function("+(i.variable||"obj")+"){\n"+r+"}",l},x.chain=function(e){return x(e).chain()};var N=function(e){return this._chain?x(e).chain():e};x.mixin(x),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];x.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!=e&&"splice"!=e||0!==i.length||delete i[0],N.call(this,i)}}),S(["concat","join","slice"],function(e){var t=n[e];x.prototype[e]=function(){return N.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}).call(this),function(){var e,t=this,i=t.Backbone,n=Array.prototype.slice,s=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var r=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){r=e},e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=/\s+/,l=e.Events={on:function(e,t,i){var n,s,o,r,l;if(!t)return this;for(e=e.split(a),n=this._callbacks||(this._callbacks={});s=e.shift();)l=n[s],o=l?l.tail:{},o.next=r={},o.context=i,o.callback=t,n[s]={tail:r,next:l?l.next:o};return this},off:function(e,t,i){var n,s,r,l,c,d;if(s=this._callbacks){if(!(e||t||i))return delete this._callbacks,this;for(e=e?e.split(a):o.keys(s);n=e.shift();)if(r=s[n],delete s[n],r&&(t||i))for(l=r.tail;(r=r.next)!==l;)c=r.callback,d=r.context,(t&&c!==t||i&&d!==i)&&this.on(n,c,d);return this}},trigger:function(e){var t,i,s,o,r,l,c;if(!(s=this._callbacks))return this;for(l=s.all,e=e.split(a),c=n.call(arguments,1);t=e.shift();){if(i=s[t])for(o=i.tail;(i=i.next)!==o;)i.callback.apply(i.context||this,c);if(i=l)for(o=i.tail,r=[t].concat(c);(i=i.next)!==o;)i.callback.apply(i.context||this,r)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var i;e||(e={}),t&&t.parse&&(e=this.parse(e)),(i=T(this,"defaults"))&&(e=o.extend({},i,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var i=this.get(e);return this._escapedAttributes[e]=o.escape(null==i?"":""+i)},has:function(e){return null!=this.get(e)},set:function(e,t,i){var n,s,r;if(o.isObject(e)||null==e?(n=e,i=t):(n={},n[e]=t),i||(i={}),!n)return this;if(n instanceof c&&(n=n.attributes),i.unset)for(s in n)n[s]=void 0;if(!this._validate(n,i))return!1;this.idAttribute in n&&(this.id=n[this.idAttribute]);var a=i.changes={},l=this.attributes,d=this._escapedAttributes,u=this._previousAttributes||{};for(s in n)r=n[s],(!o.isEqual(l[s],r)||i.unset&&o.has(l,s))&&(delete d[s],(i.silent?this._silent:a)[s]=!0),i.unset?delete l[s]:l[s]=r,o.isEqual(u[s],r)&&o.has(l,s)==o.has(u,s)?(delete this.changed[s],delete this._pending[s]):(this.changed[s]=r,i.silent||(this._pending[s]=!0));return i.silent||this.change(i),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var i=this,n=t.success;return t.success=function(e,s,o){return i.set(i.parse(e,o),t)?void(n&&n(i,e)):!1},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,i,n){var s,r;if(o.isObject(t)||null==t?(s=t,n=i):(s={},s[t]=i),n=n?o.clone(n):{},n.wait){if(!this._validate(s,n))return!1;r=o.clone(this.attributes)}var a=o.extend({},n,{silent:!0});if(s&&!this.set(s,n.wait?a:n))return!1;var l=this,c=n.success;n.success=function(e,t,i){var r=l.parse(e,i);return n.wait&&(delete n.wait,r=o.extend(s||{},r)),l.set(r,n)?void(c?c(l,e):l.trigger("sync",l,e,n)):!1},n.error=e.wrapError(n.error,l,n);var d=this.isNew()?"create":"update",u=(this.sync||e.sync).call(this,d,this,n);return n.wait&&this.set(r,a),u},destroy:function(t){t=t?o.clone(t):{};var i=this,n=t.success,s=function(){i.trigger("destroy",i,i.collection,t)};if(this.isNew())return s(),!1;t.success=function(e){t.wait&&s(),n?n(i,e):i.trigger("sync",i,e,t)},t.error=e.wrapError(t.error,i,t);var r=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||s(),r},url:function(){var e=T(this,"urlRoot")||T(this.collection,"url")||$();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var i in this._silent)this._pending[i]=!0;var n=o.extend({},e.changes,this._silent);this._silent={};for(var i in n)this.trigger("change:"+i,this,this.get(i),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var i in this.changed)this._pending[i]||this._silent[i]||delete this.changed[i];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,i=!1,n=this._previousAttributes;for(var s in e)o.isEqual(n[s],t=e[s])||((i||(i={}))[s]=t);return i},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error?t.error(this,i,t):this.trigger("error",this,i,t),!1):!0}});var d=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(d.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var i,n,r,a,l,c,d={},u={},h=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,r=e.length;r>i;i++){if(!(a=e[i]=this._prepareModel(e[i],t)))throw new Error("Can't add an invalid model to a collection");l=a.cid,c=a.id,d[l]||this._byCid[l]||null!=c&&(u[c]||this._byId[c])?h.push(i):d[l]=u[c]=a}for(i=h.length;i--;)e.splice(h[i],1);for(i=0,r=e.length;r>i;i++)(a=e[i]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=r,n=null!=t.at?t.at:this.models.length,s.apply(this.models,[n,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(i=0,r=this.models.length;r>i;i++)d[(a=this.models[i]).cid]&&(t.index=i,a.trigger("add",a,this,t));return this},remove:function(e,t){var i,n,s,r;for(t||(t={}),e=o.isArray(e)?e.slice():[e],i=0,n=e.length;n>i;i++)r=this.getByCid(e[i])||this.get(e[i]),r&&(delete this._byId[r.id],delete this._byCid[r.cid],s=this.indexOf(r),this.models.splice(s,1),this.length--,t.silent||(t.index=s,r.trigger("remove",r,this,t)),this._removeReference(r));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var i in e)if(e[i]!==t.get(i))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var i=0,n=this.models.length;n>i;i++)this._removeReference(this.models[i]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var i=this,n=t.success;return t.success=function(e,s,o){i[t.add?"add":"reset"](i.parse(e,o),t),n&&n(i,e)},t.error=e.wrapError(t.error,i,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var i=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var n=t.success;return t.success=function(s,o,r){t.wait&&i.add(s,t),n?n(s,o):s.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return o(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var i=e;t.collection=this,e=new this.model(i,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,i,n){("add"!=e&&"remove"!=e||i==this)&&("destroy"==e&&this.remove(t,n),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var u=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(u,function(e){d.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var h=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/:\w+/g,p=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(h.prototype,l,{initialize:function(){},route:function(t,i,n){return e.history||(e.history=new m),o.isRegExp(t)||(t=this._routeToRegExp(t)),n||(n=this[i]),e.history.route(t,o.bind(function(s){var o=this._extractParameters(t,s);n&&n.apply(this,o),this.trigger.apply(this,["route:"+i].concat(o)),e.history.trigger("route",this,i,o)},this)),this},navigate:function(t,i){e.history.navigate(t,i)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var i=0,n=e.length;n>i;i++)this.route(e[i][0],e[i][1],this[e[i][1]])}},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(f,"([^/]+)").replace(p,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},b=/^[#\/]/,g=/msie [\w.]+/;m.started=!1,o.extend(m.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,i=t.href.match(/#(.*)$/);return i?i[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var i=window.location.search;i&&(e+=i)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(b,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started");m.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),i=document.documentMode,n=g.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);n&&(this.iframe=r('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?r(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?r(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var s=window.location,a=s.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(b,""),window.history.replaceState({},document.title,s.protocol+"//"+s.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){r(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,t){if(!m.started)return!1;t&&t!==!0||(t={trigger:t});var i=(e||"").replace(b,"");this.fragment!=i&&(this._hasPushState?(0!=i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i,window.history[t.replace?"replaceState":"pushState"]({},document.title,i)):this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,t.replace),this.iframe&&i!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,i){i?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var _=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},y=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];o.extend(_.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,i){var n=document.createElement(e);return t&&r(n).attr(t),i&&r(n).html(i),n},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof r?e:r(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=T(this,"events"))){this.undelegateEvents();for(var t in e){var i=e[t];if(o.isFunction(i)||(i=this[e[t]]),!i)throw new Error('Method "'+e[t]+'" does not exist');var n=t.match(y),s=n[1],r=n[2];i=o.bind(i,this),s+=".delegateEvents"+this.cid,""===r?this.$el.bind(s,i):this.$el.delegate(r,s,i)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,i=w.length;i>t;t++){var n=w[t];e[n]&&(this[n]=e[n])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=T(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var i=C(this,e,t);return i.extend=this.extend,i};c.extend=d.extend=h.extend=_.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,i,n){var s=x[t];n||(n={});var a={type:s,dataType:"json"};return n.url||(a.url=T(i,"url")||$()),n.data||!i||"create"!=t&&"update"!=t||(a.contentType="application/json",a.data=JSON.stringify(i.toJSON())),e.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),e.emulateHTTP&&("PUT"===s||"DELETE"===s)&&(e.emulateJSON&&(a.data._method=s),a.type="POST",a.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s)}),"GET"===a.type||e.emulateJSON||(a.processData=!1),r.ajax(o.extend(a,n))},e.wrapError=function(e,t,i){return function(n,s){s=n===t?s:n,e?e(t,s,i):t.trigger("error",t,s,i)}};var S=function(){},C=function(e,t,i){var n;return n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(n,e),S.prototype=e.prototype,n.prototype=new S,t&&o.extend(n.prototype,t),i&&o.extend(n,i),n.prototype.constructor=n,n.__super__=e.prototype,n},T=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},$=function(){throw new Error('A "url" property or function must be specified')}}.call(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=i.sortedIndex,o=n.Events,r=n.View,a=r.prototype.remove,l="breakpoints",c=function(e,t,i){var n=s(i,e+1),o=s(i,t+1);return n!==o?i.slice(Math.min(n,o),Math.max(n,o)):[]},d=n.Resize={trigger:o.trigger,width:function(){return t(e).width()}};d[l]=[],i.each(["on","off","bind","unbind"],function(t){d[t]=function(n,s,r){o[t].call(this,n,s,r),this[l]=i.compact(i.map(i.keys(this._callbacks||{}),function(t){return e.parseInt(t)})).sort(function(e,t){return e-t})}}),n.View=r.extend({constructor:function(e){r.call(this,e),this[l]&&d.on(this[l],this.resize,this)},resize:function(){this.render()},remove:function(){return this[l]&&d.off(this[l],this.resize,this),a.call(this)}}),t(function(){var i=d.width();t(e).resize(function(){var e,t=d.width();t!==i&&(e=c(i,t,d[l]),e.length&&d.trigger(e.join(" "),t,t>i?"up":"down"),i=t)})})}(this),function(e){"use strict";var t=e.Spatula={},i=e.jQuery,n=e._,s=e.Backbone,o=n.isFunction,r=n.map,a=t.whenAll=function(e){return i.when.apply(i,e||[])},l=t.tryCall=function(e,t){var i=e&&e[t];return o(i)?i.apply(e,n.rest(arguments,2)):void 0},c={},d={},u={model:!0,collection:!0},h=[],f=[],p=function(e,t,i){c[e]=t,d[e]=i};t.ContainerView=s.View.extend({mod:0,transition:function(e){if(e===this.current)return e.render();var t=this,n=++t.mod,s=t.current,o=a();return t.current=e,s||t.$el.empty(),t.trigger("begin",e),s&&(s.hide&&(o=i.when(s.hide(),o)),o.done(function(){s.remove()})),o=a(r(this._cb,function(t){return t.call(this,e)}).concat([l(e,"load"),o])),o.fail(function(){var i=Array.prototype.slice.call(arguments);t.mod===n&&(t.current=null,t.$el.empty(),t.trigger.apply(t,["error",e].concat(i)))}),o=o.pipe(function(){return t.mod===n?(e.render(),t.$el.prepend(e.el),l(e,"ready"),t.trigger("ready",e),l(e,"show")):void 0}),o.pipe(function(){return t.mod!==n?i.Deferred().reject():(t.$el.css("minHeight",""),void t.trigger("end",e));
})},loader:function(e){(this._cb||(this._cb=[])).push(e)},render:function(){return l(this.current,"render"),this},ready:function(){return l(this.current,"ready"),this}}),t.RichView=s.View.extend({assets:u,load:function(e,t){var i=this;return i._load||(i._load=a(r(i.assets,function(e,t){return c[t].call(i,e).done(function(){i.trigger("load:"+t)})})).done(function(){i.trigger("load")})),i._load.then(e,t)},render:function(){var e=this,t=e.load();return"resolved"===t.state()?e.safeRender():e._render||(e._render=!0,t.then(function(){e.safeRender()})),e},safeRender:function(){},remove:function(){var e=this;return e.destroy(),e.trigger("destroy"),e.off(),n.each(e.assets,function(e,t){l(d,t,e)}),s.View.prototype.remove.apply(e,arguments),e},destroy:function(){}},{assetLoader:p}),p("scripts",function(e){return e=n.difference(e,h),a(r(e,function(e){return h.push(e),i.ajax(e,{dataType:"script",cache:!0,error:function(){h=n.without(h,e)}})}))}),i(function(){h=n.union(h,i("script[src]").not("[async]").map(function(){return i(this).attr("src")}).get())}),p("styles",function(e){return a(r(e,function(e){i("<link/>",{"class":"css-"+this.cid,rel:"stylesheet",type:"text/css",href:e}).appendTo("head")}))},function(){i("link.css-"+this.cid).remove()}),p("templates",function(e,t){return t||(t=this.templates={}),a(r(e,function(e,n){return i.ajax(e,{cache:!0,success:function(e){t[n]=e}})}))}),p("data",function(e){var t=this;return i.ajax(e,{dataType:"json",success:function(e){t.data=e}})}),n.each(u,function(e,t){p(t,function(e){return e=o(e.fetch)?e:this[t],l(e,"fetch")||a()})}),t.start=function(o){var r,a=s.history,l=/^([^\/]+?:\/\/[^\/]+?)(\/[^?#]*)/.exec(e.location.href);o=n.extend({pushState:!0,hashChange:!1},o),l&&a.start(o)&&(l=l[1]+a.options.root,r=l.length,i("body").on("click.spatula","a[href]",function(e){var i=this.href;e.metaKey||e.ctrlKey||e.isDefaultPrevented()||!i||i.substr(0,r)!==l||(i=i.substr(r),t.test(i)&&n.any(a.handlers,function(t){return t.route.test(i)?(e.preventDefault(),a.navigate(i,!0),!0):void 0}))}))},t.test=function(e){return!n.any(f,function(t){return t.test(e)})},t.exclude=function(e){n.isRegExp(e)||(e=s.Router.prototype._routeToRegExp.call({},e)),f.push(e)}}(this),function(e){"use strict";var t=e.Disney,i=e.Spatula,n=e.jQuery,s=e._,o=e.Backbone,r=o.sync,a=/^\/(?:[^\/]|$)/,l=t.ajaxBase;n(function(){var o=t.redirect,r=t.top=new i.ContainerView({el:"#main"});r.on("ready",function(t){var i=t.title;n.isFunction(i)&&(i=i.call(t)),i&&(e.document.title=i)}),o&&r.loader(o.loader),n("#error_page").length||s.defer(i.start)}),n.ajaxSetup({timeout:2e4}),l&&(o.sync=function(e,t,i){var n=i.url||t&&t.url;return a.exec(n)&&(i=s.extend({url:l+n.substr(1)},i)),r(e,t,i)})}(this),function(e,t){"use strict";t.support.css3=function(){function t(t,i){var n=e.document.body||e.document.documentElement,s=n.style,o=["Webkit","Moz","ms","O"];if(void 0!==s[t])return i?t:!0;t=t.charAt(0).toUpperCase()+t.substr(1);for(var r=0;r<o.length;r++)if(void 0!==s[o[r]+t])return i?o[r]+t:!0}return t}(),t.fn.selectTransitionEnd=function(){var t,i=e.document.createElement("fakeelement"),n={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"};for(t in n)if(void 0!==i.style[t])return n[t]}}(this,jQuery),function(e){"use strict";var t,i=e.console,n=e.Grill={},s=e.Spatula,o=e.jQuery,r=e._,a=e.Backbone,l=s.whenAll,c=a.Model,d=a.Collection,u=a.View,h=s.tryCall,f=function(t){var n=e.onerror;i&&i.error&&i.error(t.stack||t.toString()),n&&n(t.toString())},p=function(e,t){try{return h(e,t)}catch(i){f(i)}},v=function(e){return r.map(this.views,function(t){return p(t,e)})},m=o.support.css3("transition")?function(t){var i=o.Deferred(),n=o(e).selectTransitionEnd()+".grill";return o(".overlay",t).on(n,function(e){this===e.target&&(i.resolve(),t.off(n))}),i}:function(){return!0},b=n.Module=c.extend({initialize:function(){this.data=this.data(this.get("data")),this.on("change:data",function(e,t){e.data.reset(t)})},data:function(e){return new d(e)}}),g=n.Burger=d.extend({model:b,fetch:function(e){var t=n.burger,i=e&&e.success;return t?(delete n.burger,this.reset(this.parse(t)),i&&i(this,t),o.when()):d.prototype.fetch.call(this,e)},parse:function(e){for(var t in e)t in g.prototype||(this[t]=e[t]);return this.trigger("parse",e),e.stack}}),_=u.extend({initialize:function(e){this.template=e.template,this.render(),this.model.on("change",this.render,this)},render:function(){var e=this.$el;this.setElement(o(this.template.render(this.model))),e.replaceWith(this.$el)}}),y=n.ListView=u.extend({tagName:"ul",initialize:function(e){var t=this,i=t.collection;t.template=e.template,t.reset(),i.on("add",function(e,i){var n=i.indexOf(e),s=t.spawn(e);t.views.splice(n,0,s),0===n?t.$el.prepend(s.el):t.views[n-1].$el.after(s.el)}),i.on("remove",function(e,i,n){t.views.splice(n.index,1)[0].remove()}),i.on("reset",t.reset,t)},reset:function(){var e=this;return e.views&&r.invoke(e.views,"remove"),e.views=e.collection.map(function(t){var i=e.spawn(t);return e.$el.append(i.el),i}),e},spawn:function(e){return new _({model:e,template:this.template})}}),w={},k=n.ModuleView=s.RichView.extend({assets:{},tagName:"section",className:"module",safeRender:function(){var e=this.template;e&&e.render&&this.$el.html(e.render(this.model.toJSON()))}},{register:function(e,t,i){return w[e]=this.extend(t,i)},create:function(e,t){var i=w[e]||this,n=new i(t),s=n.model&&n.model.get("has_geo_restrictions"),o=n.model&&n.model.get("ref"),r=n.style_classes,a=n.model&&n.model.get("style"),l=a&&a.additional_style_classes;return n.$el.addClass(e).attr("data-module",e),s&&n.$el.attr("data-geo-temp-hidden","true"),o&&n.$el.attr("id","ref-"+o),r&&n.$el.addClass(r.join(" ")),l&&n.$el.addClass(l.join(" ")),n}}),x=y.prototype,S=n.BurgerView=y.extend({id:"burger",tagName:"article",className:"hidden",subview:k,initialize:function(e){x.initialize.call(this,e),o("<div/>",{"class":"overlay"}).appendTo(this.el)},load:function(){var e=this;return this.collection.fetch().pipe(function(){return l(v.call(e,"load"))})},spawn:function(e){return k.create(e.get("view"),{model:e})},itemOptions:function(){return{}},title:function(){return this.collection.title},url:function(){return this.collection.url},render:function(){v.call(this,"render")},ready:function(){l(v.call(this,"ready"))},show:function(){return this.$el.hasClass("hidden")?(this.$el.removeClass("hidden"),l([m(this.$el)].concat(v.call(this,"show")))):!0},hide:function(){return this.$el.hasClass("hidden")?!0:(this.$el.addClass("hidden"),l([m(this.$el)].concat(v.call(this,"hide"))))},remove:function(){v.call(this,"remove"),x.remove.call(this)}});n.BunView=k.extend({className:"module_container",tagName:"div"}),t={model:g,view:S},n.config=function(e){r.extend(t,e)},n.order=function(e){var i=t.model,n=t.view,s=new i;s.url=e,t.container.transition(new n({collection:s}))}}(this),function(e){"use strict";var t,i=e.Disney,n=e.jQuery,s=e._;i.DL=function(e){t=e},new(e.Backbone.Router.extend({routes:{"*p":"a"},a:function(i){var o=e.window.location.pathname;i&&"?register=1"===i&&"/"===o&&t.login();var r="/_grill/json/";i&&(r+=i),e.Grill.order(r),s.defer(function(){n("html,body").scrollTop(0)})}}))}(this),function(e){"use strict";var t=e.Disney,i=t.Cookie,n=e.Backbone,s=e._,o=/^([0-9a-f]+):([^:]+)/,r="dolMttAbn",a=7,l=function(){var e=o.exec(i.get(r)||"");return e&&{id:e[1],group:e[2]}},c=function(e){i.set(r,e.id+":"+e.group,{domain:i.domain(),path:"/",expires:a})},d=t.abn=s.extend({testcase:function(){return l()},parse:function(e){var n,o,r=e.abn,a=r&&r.cases,c=l(),d=-1;return a&&(o=s.pluck(a,"weight"),n=s.keys(a),!i.enabled()||c&&c.id!==r.id||(c?d=s.indexOf(n,c.group):(d=t.randi(o),d>=0&&(c={id:r.id,group:n[d]}))),e=a[n[0>d?0:d]].data,d>=0&&this.trigger("view",c,e)),e}},n.Events);d.on("view",c),t.randi=function(t){var i,n,s=0,o=t.length;for(i=o-1;i>-1;--i)s+=+t[i]||0;for(n=e.Math.random()*s,i=o-1;n>=0&&i>-2;--i)n-=+t[i]||0;return i+1}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.Modernizr;t.vis={deviceExcluded:function(e){var t=e.visibility,i=!1;if(t&&t.invisible_device_types){var o=s.mobile?"mobile":"desktop";i=n.contains(t.invisible_device_types,o)}return i},hasGeoRestrictions:function(e){var t=e.visibility;return t&&(t.allowed_regions||t.disallowed_regions)},geoExcluded:function(e,t){var i=e.get("visibility"),s=!1;return i&&(i.allowed_regions||i.disallowed_regions)&&(i.allowed_regions?s=!n.contains(i.allowed_regions,t):i.disallowed_regions&&(s=n.contains(i.disallowed_regions,t))),s},parse:function(e){var t=this,i=[];n.each(e.stack,function(e){t.hasGeoRestrictions(e)&&(e.has_geo_restrictions=!0),t.deviceExcluded(e)&&(e.device_hidden=!0,i.push(e))});var s=n.difference(e.stack,i);return n.extend(e,{stack:s}),e}},i(function(){t.top&&t.top.on("ready",function(e){n.isUndefined(e.collection)||n.isEmpty(e.collection.where({has_geo_restrictions:!0}))||t.geo(function(i){n.each(e.views,function(e){var n=e.model;n.get("has_geo_restrictions")&&(t.vis.geoExcluded(n,i)?e.remove():e.$el.removeAttr("data-geo-temp-hidden"))})})})})}(this),function(e){"use strict";var t=e.jQuery,i=e._,n=e.Backbone,s=e.Math,o=n.Collection,r=function(e,t){var i,n=new Array(e);if(t!==n[0])for(i=0;e>i;++i)n[i]=t;return n},a=function(e){return{models:e}};n.LazyCollection=o.extend({params:{limit:"limit",offset:"offset"},constructor:function(e,t){t||(t={}),this.count=t.count,this.min=t.min||e&&e.length||1,t.params&&(this.params=i.defaults(t.params,this.params)),o.call(this,e,t)},ensure:function(e){var i,n,o=this,r=o.count,a=o.length,l=o._ensure,c=o.params,d=s.max(e-a,o.min);return r&&(e=s.min(e,r)),a>=e?n=t.when():l?(n=t.Deferred(),l.always(function(){o.ensure(e).then(function(){n.resolveWith(arguments)},function(){n.rejectWith(arguments)})})):(i={},i[c.limit]=d,i[c.offset]=a,o.trigger("loading",o,!0),n=o._ensure=o.fetch({add:!0,data:i}).then(function(){o.length<a+d&&(o.count=o.length)}).always(function(){o._ensure=null,o.trigger("loading",o,!1)})),n},remaining:function(){var e=this.count;return e?e-this.length:null},loading:function(){return!!this._ensure},pages:function(e,t){var n,o,l=[],c=t&&t.whole,d=t&&t.pad,u=t&&t.nest,h=t&&t.fill;for(e=+e||1,o=0;o<this.length;o+=e)l.push(this.models.slice(o,o+e));if(o=l.length-1,c&&o>0&&l[o].length<e&&(--o,l.pop()),d&&(o>=0&&(l[o]=l[o].concat(r(e-l[o].length,h))),n=r(e,h)),u&&(l=i.map(l,a),n=a(n)),d){for(o=s.floor(this.count/e);l.length<o;)l.push(n);o=this.count-o*e,o>0&&!c&&(n=r(o,h),l.push(u?a(n):n))}return l}}),n.LazySliderCollection=n.LazyCollection.extend({constructor:function(e,t){this.loadedPageCounter=[],this.pageOptions={nest:!0},i.each(e,function(e){e.set("hidden",!0)}),n.LazyCollection.call(this,e,t)},startingIndex:0,lastIndex:function(e){return this.pages(e,this.pageOptions).length-1},page:function(e,t,n,s){var o=this.pages(t,this.pageOptions);if(i.each(o[e].models,function(e){e&&e.set("hidden",!1)}),this.nextPeek(e,o)){var r=o[e+1];i(n).times(function(e){var t=r.models[e*s];t&&t.set("hidden",!1)})}return i.contains(this.loadedPageCounter,e)||this.loadedPageCounter.push(e),o},loadedPages:function(){return this.loadedPageCounter.length},peeking:function(e){return this.length>e},nextPeek:function(e,t){return e<t.length-1}}),n.LazyFilterCollection=n.LazyCollection.extend({parse:function(e){return this.count=e.count,e.next?this.nextFilter=e.next:this.nextFilter=null,e.data},next:function(){this.nextFilter&&(this.url=this.baseUrl+this.nextFilter)}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},r=t.ping=function(t){if(t){var i=new e.Image;i.src=t.toString().replace(s,o)}};i("body").on("click","a[data-ping]",function(){r(this.getAttribute("data-ping"))})}(this),function(e){"use strict";var t=e.Grill,i=e.jQuery,n=e.Backbone,s=e.Disney,o=t.Burger,r=o.prototype,a=e.location,l=/[&?]draft_id=([^&]+)/.exec(a.search),c=/^\/_grill\/json(\/.*)/,d=t.Module.extend({data:function(e){var t,o=new n.LazyCollection(e,{model:s.Entity,params:{offset:"o",limit:"l"},count:this.get("count")}),r=this.collection.url;(t=c.exec(r))&&(r=t[1]);var a=r.indexOf("?")>=0?"&":"?";return r="/_grill/more"+r+a+i.param({r:this.get("ref")}),l&&(r+="&draft_id="+l[1]),o.url=r,o},subject:function(){return this.data.first()}}),u=o.extend({model:d,parse:function(e){var t=s.vis.parse(s.abn.parse(e)),i=r.parse.call(this,t);return i}});i(function(){var t=s.top;e.Grill.config({container:t,model:u})})}(this);var Hogan={};if(function(e,t){"use strict";function i(e){return String(null===e||void 0===e?"":e)}function n(e){return e=i(e),c.test(e)?e.replace(s,"&amp;").replace(o,"&lt;").replace(r,"&gt;").replace(a,"&#39;").replace(l,"&quot;"):e}e.Template=function(e,i,n,s){this.r=e||this.r,this.c=n,this.options=s,this.text=i||"",this.buf=t?[]:""},e.Template.prototype={r:function(){return""},v:n,t:i,render:function(e,t,i){return this.ri([e],t||{},i)},ri:function(e,t,i){return this.r(e,t,i)},rp:function(e,t,i,n){var s=i[e];return s?(this.c&&"string"==typeof s&&(s=this.c.compile(s,this.options)),s.ri(t,i,n)):""},rs:function(e,t,i){var n=e[e.length-1];if(!(d(n)||"object"==typeof n&&d(n=n.models)))return void i(e,t,this);for(var s=0;s<n.length;s++)e.push(n[s]),i(e,t,this),e.pop()},s:function(e,t,i,n,s,o,r){var a;return d(e)&&0===e.length?!1:("function"==typeof e&&(e=this.ls(e,t,i,n,s,o,r)),a=""===e||!!e,!n&&a&&t&&t.push("object"==typeof e?e:t[t.length-1]),a)},d:function(e,t,i,n){var s=e.split("."),o=this.f(s[0],t,i,n),r=null;if("."===e&&d(t[t.length-2]))return t[t.length-1];for(var a=1;a<s.length;a++)o&&"object"==typeof o&&(s[a]in o||(o=o.attributes)&&"object"==typeof o&&s[a]in o)?(r=o,o=o[s[a]]):o="";return n&&!o?!1:(n||"function"!=typeof o||(t.push(r),o=this.lv(o,t,i),t.pop()),o)},f:function(e,t,i,n){for(var s=!1,o=null,r=!1,a=t.length-1;a>=0;a--)if(o=t[a],o&&"object"==typeof o&&(e in o||(o=o.attributes)&&"object"==typeof o&&e in o)){s=o[e],r=!0;break}return r?(n||"function"!=typeof s||(s=this.lv(s,t,i)),s):n?!1:""},ho:function(e,t,i,n,s){var o=this.c,r=this.options;return r.delimiters=s,n=e.call(t,n),n=null==n?String(n):n.toString(),this.b(o.compile(n,r).render(t,i)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,i,n,s,o,r){var a=t[t.length-1],l=null;if(!n&&this.c&&e.length>0)return this.ho(e,a,i,this.text.substring(s,o),r);if(l=e.call(a),"function"==typeof l){if(n)return!0;if(this.c)return this.ho(l,a,i,this.text.substring(s,o),r)}return l},lv:function(e,t,n){var s=t[t.length-1],o=e.call(s);return"function"==typeof o&&(o=i(o.call(s)),this.c&&~o.indexOf("{{"))?this.c.compile(o,this.options).render(s,n):i(o)}};var s=/&/g,o=/</g,r=/>/g,a=/\'/g,l=/\"/g,c=/[&<>\"\']/,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}("undefined"!=typeof exports?exports:Hogan),this.Whiskers||!function(e){"use strict";var t=function(e,t){var i,n=this;for(e=e.split(".");e.length>1;)i=e.shift(),n=n.hasOwnProperty(i)?n[i]:n[i]={};n[e[0]]=t},i=e.Whiskers=function(n,s){t.call(i,n,new e.Hogan.Template(s))}}(this),Whiskers("errors.e404",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e404 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="404 Error"> <div class="message"> <h2>This page is not fully armed and operational.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.e500",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="e500 bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"> <div class="message"> <h2>It\'s a Trap! Or an internal server error.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),Whiskers("errors.enet",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<article id="error_page" class="enet bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('" alt="General Error"> <div class="message"> <h2>I don\'t know what all this trouble is about, but I\'m sure it must be your fault.</h2> <h1>Try something else?</h1> </div> </div> </article>'),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.jQuery,s=e.Whiskers,o=["https://a.dilcdn.com/sw/errors/e404-9c883fbf9964.jpg","https://a.dilcdn.com/sw/errors/e500-0ee07e3661e0.jpg","https://a.dilcdn.com/sw/errors/enet-ae2187e44c9f.jpg"],r=i.View.extend({render:function(){this.el.innerHTML=this.template.render({image:this.image})}}),a=r.extend({image:o[0],template:s.errors.e404,error:"404"}),l=r.extend({image:o[1],template:s.errors.e500,error:"500"}),c=r.extend({image:o[2],template:s.errors.enet,error:"network"});n(function(){t.top.on("error",function(e,i,n,s){"timeout"===n?t.top.transition(new c):"Not Found"===s?t.top.transition(new a):"abort"!==n&&t.top.transition(new l)}),"/"===t.ajaxBase&&e.setTimeout(function(){for(var t=0;t<o.length;++t)(new e.Image).src=o[t];o=null},4e3)})}(this),function(e){"use strict";e.jQuery(function(){var t=e.Backbone.history,i=10;t.on("route",function(){--i<0&&(t._hasPushState=!1)})})}(this),this.Disney=this.Disney||{},this.Disney.Style=this.Disney.Style||{},this.Disney.SocialServices=this.Disney.SocialServices||{},this.Disney.Style.breakpoints={midLow:480,midHigh:768,max:1024,wideMax:1200},function(e){"use strict";var t=e.jQuery,i=e.Grill,n=i.BurgerView;i.BurgerView=n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e};return i.ModuleView.create(e.get("view"),t)},cto:function(){var e=this.collection.cto;return e},url:function(){return this.collection.href}}),t(function(){e.Grill.config({view:i.BurgerView})})}(this),Whiskers("modals.modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<style type='text/css'> @media screen and (max-width: 767px){ #modal-container #modal-window .modal img.desktop{ display: none; } } @media screen and (min-width: 768px){ #modal-container #modal-window .modal img.mobile{ display: none; } } </style> <div class='modal-content'> <div class='modal-close top-right'></div> <section> "),n.s(n.f("header",e,t,1),e,t,0,339,540,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text",e,t,1),e,t,0,349,378,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <header>"),i.b(i.t(i.f("text",e,t,0))),i.b("</header> ")}),e.pop()),i.b(" "),i.s(i.f("image",e,t,1),e,t,0,398,529,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,411,453,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='desktop' src='"),i.b(i.v(i.f("desktop",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,477,517,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <img class='mobile' src='"),i.b(i.v(i.f("mobile",e,t,0))),i.b("'/> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </section> "),n.s(n.f("sections",e,t,1),e,t,0,576,974,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <section> <header>"),i.b(i.t(i.f("header",e,t,0))),i.b("</header> <ul> "),i.s(i.f("content",e,t,1),e,t,0,634,944,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d("images.assets.desktop_image",e,t,1),e,t,0,667,758,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> <a href='"),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='desktop' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" "),i.s(i.d("images.assets.mobile_image",e,t,1),e,t,0,822,912,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li> <a href='"),i.b(i.v(i.f("url",e,t,0))),i.b("' target='_blank'><img class='mobile' src='"),i.b(i.v(i.f("cdn_url",e,t,0))),i.b("'/></a> </li> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" </ul> </section> ")}),e.pop()),n.b(' <div class="bedazzlement"></div> </div>'),n.fl()}),function(e){"use strict";var t=e.Backbone,i=e.Grill||{},n=e.Whiskers,s=e._,o=t.View.extend({},{getInstance:function(){if(void 0===this._instance){var e=this;this._instance=new e}return this._instance}}),r=o.extend({el:"#modal-window",views:[],initialize:function(){this._bindEvents()},add:function(e){this.contains(e)||(this.el.appendChild(e.el),this.views.push(e))},contains:function(e){return this.views.indexOf(e)>=0},scrollStart:function(){if("object"==typeof this._bodyStyle&&this._bodyStyle.hasOwnProperty("cssText")){var t=-parseInt(e.document.body.style.top,10)||0;e.document.body.style.cssText=this._bodyStyle.cssText,e.scrollBy(0,t)}},scrollStop:function(){this._bodyStyle=s.extend({},e.document.body.style),e.document.body.style.top=-e.pageYOffset+"px",e.document.body.style.overflow="hidden",e.document.body.style.position="fixed"},show:function(t,i){var n=i&&i.render;(n||!this.contains(t))&&(t.el.innerHTML=t.render(),t.close||(t.close=new a({closeElement:t.el.querySelector(t.options.closeElement||".modal-close")})),this.add(t)),e.document.body.className+=" modal-show",t.close.show(),t.el.className+=" show",t.el.scrollTop=0,t.visible=!0,t.ready(),t._trackEvent("show"),this.scrollStop(),this.el.className+=" show"},hide:function(){e.document.body.className=e.document.body.className.replace(" modal-show",""),s.each(this.views,function(e){e.visible&&(e.el.className=e.el.className.replace(" show",""),e.visible=!1,e.close.hide(),e._trackEvent("hide"))}),this.el.className=this.el.className.replace(" show",""),this.scrollStart()},_bindEvents:function(){var e=this;this.el.addEventListener("click",function(t){this===t.target&&e.hide()})}}),a=o.extend({el:"#modal-close",initialize:function(e){var t=e&&e.closeElement;s.extend(e,{windowView:r.getInstance()}),t&&(this.el=t),this.options=e,this.el.addEventListener("click",this._closeWindow.bind(this))},show:function(){this.el.className=this.el.className.replace(" hidden","")},hide:function(){this.el.className.indexOf(" hidden")<0&&(this.el.className+=" hidden")},_closeWindow:function(){this.options.windowView.hide()}});i.ModalView=t.View.extend({className:"modal",options:{template:n.modals.modal,events:{}},constructor:function(e){t.View.apply(this,arguments);var i=this;s.extend(e,{windowView:r.getInstance(),keyEvents:[{name:"keyup",keyCode:27,callback:function(){i.hide()}}]}),s.extend(i.options,e),i.el.id=s.uniqueId(i.options.name),i.el.className+=" "+i.options.name,i._bindEvents()},ready:function(){},render:function(){return this.options.template.render(this.model)},show:function(e){var t=e&&e.event;t&&(t.preventDefault(),t.stopPropagation()),this.options.windowView.show(this,e)},hide:function(e){this.options.windowView.hide(e)},_bindEvents:function(){var t=this;t.options.events.onclick&&t.el.addEventListener("click",function(e){this===e.target&&t.hide()}),t.options.events.onkeyup&&s.each(t.options.keyEvents,function(i){var n=t._handleKeyEvent.bind(i);e.document.addEventListener(i.name,n)})},_handleKeyEvent:function(e){var t=this;t.keyCode===e.keyCode&&t.callback()},_trackEvent:function(t){var i=this.options.tracking||{};if(i.eventCategory&&t){var n={engagementMeta:i.engagementMeta,engagementType:i.eventCategory+"_"+t,eventCategory:i.eventCategory,action:t};e.cto.trackEvent(n)}}})}(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){if(e instanceof Date)return e;if(String(e).match(r))return String(e).match(/^[0-9]*$/)&&(e=Number(e)),String(e).match(/\-/)&&(e=String(e).replace(/\-/g,"/")),new Date(e);throw new Error("Couldn't cast `"+e+"` to a date object.")}function i(e){var t=e.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(t)}function n(e){return function(t){var n=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(n)for(var o=0,r=n.length;r>o;++o){var a=n[o].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=i(a[0]),d=a[1]||"",u=a[3]||"",h=null;a=a[2],l.hasOwnProperty(a)&&(h=l[a],h=Number(e[h])),null!==h&&("!"===d&&(h=s(u,h)),""===d&&10>h&&(h="0"+h.toString()),t=t.replace(c,h.toString()))}return t=t.replace(/%%/,"%")}}function s(e,t){var i="s",n="";return e&&(e=e.replace(/(:|;|\s)/gi,"").split(/\,/),1===e.length?i=e[0]:(n=e[0],i=e[1])),1===Math.abs(t)?n:i}var o=[],r=[],a={precision:100,elapse:!1};r.push(/^[0-9]*$/.source),r.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),r.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),r=new RegExp(r.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",w:"weeks",d:"daysToWeek",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},c=function(t,i,n){this.el=t,this.$el=e(t),this.interval=null,this.offset={},this.options=e.extend({},a),this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),n&&("function"==typeof n?(this.$el.on("update.countdown",n),this.$el.on("stoped.countdown",n),this.$el.on("finish.countdown",n)):this.options=e.extend({},a,n)),this.setFinalDate(i),this.start()};e.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var e=this;this.update(),this.interval=setInterval(function(){e.update.call(e)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(e){this.finalDate=t(e)},update:function(){if(0===this.$el.closest("html").length)return void this.remove();var t,i=void 0!==e._data(this.el,"events"),n=new Date;t=this.finalDate.getTime()-n.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&0>t?0:Math.abs(t),this.totalSecsLeft!==t&&i&&(this.totalSecsLeft=t,this.elapsed=n>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-n.getFullYear())},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))},dispatchEvent:function(t){var i=e.Event(t+".countdown");i.finalDate=this.finalDate,i.elapsed=this.elapsed,i.offset=e.extend({},this.offset),i.strftime=n(this.offset),this.$el.trigger(i)}}),e.fn.countdown=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){var i=e(this).data("countdown-instance");if(void 0!==i){var n=o[i],s=t[0];c.prototype.hasOwnProperty(s)?n[s].apply(n,t.slice(1)):null===String(s).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(n.setFinalDate.call(n,s),n.start()):e.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,s))}else new c(this,t[0],t[1])})}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ai.apply(null,arguments)}function t(e){Ai=e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t){for(var i in t)o(t,i)&&(e[i]=t[i]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function a(e,t,i,n){return Me(e,t,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(e){return null==e._pf&&(e._pf=l()),e._pf}function d(e){if(null==e._isValid){var t=c(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function u(e){var t=a(NaN);return null!=e?r(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var i,n,s;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=c(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Oi.length>0)for(i in Oi)n=Oi[i],s=t[n],"undefined"!=typeof s&&(e[n]=s);return e}function f(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),zi===!1&&(zi=!0,e.updateOffset(this),zi=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=v(t)),i}function b(e,t,i){var n,s=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(n=0;s>n;n++)(i&&e[n]!==t[n]||!i&&m(e[n])!==m(t[n]))&&r++;return r+o}function g(){}function _(e){return e?e.toLowerCase().replace("_","-"):e}function y(e){for(var t,i,n,s,o=0;o<e.length;){for(s=_(e[o]).split("-"),t=s.length,i=_(e[o+1]),i=i?i.split("-"):null;t>0;){if(n=w(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&b(s,i,!0)>=t-1)break;t--}o++}return null}function w(e){var t=null;if(!Li[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ji._abbr,require("./locale/"+e),k(t)}catch(i){}return Li[e]}function k(e,t){var i;return e&&(i="undefined"==typeof t?S(e):x(e,t),i&&(ji=i)),ji._abbr}function x(e,t){return null!==t?(t.abbr=e,Li[e]=Li[e]||new g,Li[e].set(t),k(e),Li[e]):(delete Li[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ji;if(!i(e)){if(t=w(e))return t;e=[e]}return y(e)}function C(e,t){var i=e.toLowerCase();Ni[i]=Ni[i+"s"]=Ni[t]=e}function T(e){return"string"==typeof e?Ni[e]||Ni[e.toLowerCase()]:void 0}function $(e){var t,i,n={};for(i in e)o(e,i)&&(t=T(i),t&&(n[t]=e[i]));return n}function M(t,i){return function(n){return null!=n?(E(this,t,n),e.updateOffset(this,i),this):D(this,t)}}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function E(e,t,i){return e._d["set"+(e._isUTC?"UTC":"")+t](i)}function P(e,t){var i;if("object"==typeof e)for(i in e)this.set(i,e[i]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function I(e,t,i){var n=""+Math.abs(e),s=t-n.length,o=e>=0;return(o?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function A(e,t,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(Ri[e]=s),t&&(Ri[t[0]]=function(){return I(s.apply(this,arguments),t[1],t[2])}),i&&(Ri[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,i,n=e.match(Wi);for(t=0,i=n.length;i>t;t++)Ri[n[t]]?n[t]=Ri[n[t]]:n[t]=j(n[t]);return function(s){var o="";for(t=0;i>t;t++)o+=n[t]instanceof Function?n[t].call(s,e):n[t];return o}}function z(e,t){return e.isValid()?(t=L(t,e.localeData()),Fi[t]=Fi[t]||O(t),Fi[t](e)):e.localeData().invalidDate()}function L(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Vi.lastIndex=0;n>=0&&Vi.test(e);)e=e.replace(Vi,i),Vi.lastIndex=0,n-=1;return e}function N(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function W(e,t,i){sn[e]=N(t)?t:function(e){return e&&i?i:t}}function V(e,t){return o(sn,e)?sn[e](t._strict,t._locale):new RegExp(F(e))}function F(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=m(e)}),i=0;i<e.length;i++)on[e[i]]=n}function B(e,t){R(e,function(e,i,n,s){n._w=n._w||{},t(e,n._w,n,s)})}function U(e,t,i){null!=t&&o(on,e)&&on[e](t,i._a,i,e)}function Y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function H(e){return this._months[e.month()]}function G(e){return this._monthsShort[e.month()]}function q(e,t,i){var n,s,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),
this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function Q(e,t){var i;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(i=Math.min(e.date(),Y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e)}function X(t){return null!=t?(Q(this,t),e.updateOffset(this,!0),this):D(this,"Month")}function J(){return Y(this.year(),this.month())}function Z(e){var t,i=e._a;return i&&-2===c(e).overflow&&(t=i[an]<0||i[an]>11?an:i[ln]<1||i[ln]>Y(i[rn],i[an])?ln:i[cn]<0||i[cn]>24||24===i[cn]&&(0!==i[dn]||0!==i[un]||0!==i[hn])?cn:i[dn]<0||i[dn]>59?dn:i[un]<0||i[un]>59?un:i[hn]<0||i[hn]>999?hn:-1,c(e)._overflowDayOfYear&&(rn>t||t>ln)&&(t=ln),c(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ee(e,t){var i=!0;return r(function(){return i&&(K(e+"\n"+(new Error).stack),i=!1),t.apply(this,arguments)},t)}function te(e,t){vn[e]||(K(t),vn[e]=!0)}function ie(e){var t,i,n=e._i,s=mn.exec(n);if(s){for(c(e).iso=!0,t=0,i=bn.length;i>t;t++)if(bn[t][1].exec(n)){e._f=bn[t][0];break}for(t=0,i=gn.length;i>t;t++)if(gn[t][1].exec(n)){e._f+=(s[6]||" ")+gn[t][0];break}n.match(en)&&(e._f+="Z"),we(e)}else e._isValid=!1}function ne(t){var i=_n.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ie(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function se(e,t,i,n,s,o,r){var a=new Date(e,t,i,n,s,o,r);return 1970>e&&a.setFullYear(e),a}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function re(e){return ae(e)?366:365}function ae(e){return e%4===0&&e%100!==0||e%400===0}function le(){return ae(this.year())}function ce(e,t,i){var n,s=i-t,o=i-e.day();return o>s&&(o-=7),s-7>o&&(o+=7),n=De(e).add(o,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function de(e){return ce(e,this._week.dow,this._week.doy).week}function ue(){return this._week.dow}function he(){return this._week.doy}function fe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function pe(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ve(e,t,i,n,s){var o,r=6+s-n,a=oe(e,0,1+r),l=a.getUTCDay();return s>l&&(l+=7),i=null!=i?1*i:s,o=1+r+7*(t-1)-l+i,{year:o>0?e:e-1,dayOfYear:o>0?o:re(e-1)+o}}function me(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function be(e,t,i){return null!=e?e:null!=t?t:i}function ge(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _e(e){var t,i,n,s,o=[];if(!e._d){for(n=ge(e),e._w&&null==e._a[ln]&&null==e._a[an]&&ye(e),e._dayOfYear&&(s=be(e._a[rn],n[rn]),e._dayOfYear>re(s)&&(c(e)._overflowDayOfYear=!0),i=oe(s,0,e._dayOfYear),e._a[an]=i.getUTCMonth(),e._a[ln]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[cn]&&0===e._a[dn]&&0===e._a[un]&&0===e._a[hn]&&(e._nextDay=!0,e._a[cn]=0),e._d=(e._useUTC?oe:se).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[cn]=24)}}function ye(e){var t,i,n,s,o,r,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,r=4,i=be(t.GG,e._a[rn],ce(De(),1,4).year),n=be(t.W,1),s=be(t.E,1)):(o=e._locale._week.dow,r=e._locale._week.doy,i=be(t.gg,e._a[rn],ce(De(),o,r).year),n=be(t.w,1),null!=t.d?(s=t.d,o>s&&++n):s=null!=t.e?t.e+o:o),a=ve(i,n,s,r,o),e._a[rn]=a.year,e._dayOfYear=a.dayOfYear}function we(t){if(t._f===e.ISO_8601)return void ie(t);t._a=[],c(t).empty=!0;var i,n,s,o,r,a=""+t._i,l=a.length,d=0;for(s=L(t._f,t._locale).match(Wi)||[],i=0;i<s.length;i++)o=s[i],n=(a.match(V(o,t))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&c(t).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),d+=n.length),Ri[o]?(n?c(t).empty=!1:c(t).unusedTokens.push(o),U(o,n,t)):t._strict&&!n&&c(t).unusedTokens.push(o);c(t).charsLeftOver=l-d,a.length>0&&c(t).unusedInput.push(a),c(t).bigHour===!0&&t._a[cn]<=12&&t._a[cn]>0&&(c(t).bigHour=void 0),t._a[cn]=ke(t._locale,t._a[cn],t._meridiem),_e(t),Z(t)}function ke(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function xe(e){var t,i,n,s,o;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],we(t),d(t)&&(o+=c(t).charsLeftOver,o+=10*c(t).unusedTokens.length,c(t).score=o,(null==n||n>o)&&(n=o,i=t));r(e,i||t)}function Se(e){if(!e._d){var t=$(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],_e(e)}}function Ce(e){var t=new f(Z(Te(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Te(e){var t=e._i,s=e._f;return e._locale=e._locale||S(e._l),null===t||void 0===s&&""===t?u({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new f(Z(t)):(i(s)?xe(e):s?we(e):n(t)?e._d=t:$e(e),e))}function $e(t){var o=t._i;void 0===o?t._d=new Date:n(o)?t._d=new Date(+o):"string"==typeof o?ne(t):i(o)?(t._a=s(o.slice(0),function(e){return parseInt(e,10)}),_e(t)):"object"==typeof o?Se(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}function Me(e,t,i,n,s){var o={};return"boolean"==typeof i&&(n=i,i=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=i,o._i=e,o._f=t,o._strict=n,Ce(o)}function De(e,t,i,n){return Me(e,t,i,n,!1)}function Ee(e,t){var n,s;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return De();for(n=t[0],s=1;s<t.length;++s)(!t[s].isValid()||t[s][e](n))&&(n=t[s]);return n}function Pe(){var e=[].slice.call(arguments,0);return Ee("isBefore",e)}function Ie(){var e=[].slice.call(arguments,0);return Ee("isAfter",e)}function Ae(e){var t=$(e),i=t.year||0,n=t.quarter||0,s=t.month||0,o=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*c+6e4*l+36e5*a,this._days=+r+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=S(),this._bubble()}function je(e){return e instanceof Ae}function Oe(e,t){A(e,0,0,function(){var e=this.utcOffset(),i="+";return 0>e&&(e=-e,i="-"),i+I(~~(e/60),2)+t+I(~~e%60,2)})}function ze(e){var t=(e||"").match(en)||[],i=t[t.length-1]||[],n=(i+"").match(Sn)||["-",0,0],s=+(60*n[1])+m(n[2]);return"+"===n[0]?s:-s}function Le(t,i){var s,o;return i._isUTC?(s=i.clone(),o=(p(t)||n(t)?+t:+De(t))-+s,s._d.setTime(+s._d+o),e.updateOffset(s,!1),s):De(t).local()}function Ne(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function We(t,i){var n,s=this._offset||0;return null!=t?("string"==typeof t&&(t=ze(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Ne(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==t&&(!i||this._changeInProgress?tt(this,Xe(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:Ne(this)}function Ve(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Fe(e){return this.utcOffset(0,e)}function Re(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ne(this),"m")),this}function Be(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(ze(this._i)),this}function Ue(e){return e=e?De(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Ye(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function He(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(h(e,this),e=Te(e),e._a){var t=e._isUTC?a(e._a):De(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!this._isUTC}function qe(){return this._isUTC}function Qe(){return this._isUTC&&0===this._offset}function Xe(e,t){var i,n,s,r=e,a=null;return je(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(r={},t?r[t]=e:r.milliseconds=e):(a=Cn.exec(e))?(i="-"===a[1]?-1:1,r={y:0,d:m(a[ln])*i,h:m(a[cn])*i,m:m(a[dn])*i,s:m(a[un])*i,ms:m(a[hn])*i}):(a=Tn.exec(e))?(i="-"===a[1]?-1:1,r={y:Je(a[2],i),M:Je(a[3],i),d:Je(a[4],i),h:Je(a[5],i),m:Je(a[6],i),s:Je(a[7],i),w:Je(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=Ke(De(r.from),De(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),n=new Ae(r),je(e)&&o(e,"_locale")&&(n._locale=e._locale),n}function Je(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Ze(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Ke(e,t){var i;return t=Le(t,e),e.isBefore(t)?i=Ze(e,t):(i=Ze(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function et(e,t){return function(i,n){var s,o;return null===n||isNaN(+n)||(te(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=i,i=n,n=o),i="string"==typeof i?+i:i,s=Xe(i,n),tt(this,s,e),this}}function tt(t,i,n,s){var o=i._milliseconds,r=i._days,a=i._months;s=null==s?!0:s,o&&t._d.setTime(+t._d+o*n),r&&E(t,"Date",D(t,"Date")+r*n),a&&Q(t,D(t,"Month")+a*n),s&&e.updateOffset(t,r||a)}function it(e,t){var i=e||De(),n=Le(i,this).startOf("day"),s=this.diff(n,"days",!0),o=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(t&&t[o]||this.localeData().calendar(o,this,De(i)))}function nt(){return new f(this)}function st(e,t){var i;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+this>+e):(i=p(e)?+e:+De(e),i<+this.clone().startOf(t))}function ot(e,t){var i;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+e>+this):(i=p(e)?+e:+De(e),+this.clone().endOf(t)<i)}function rt(e,t,i){return this.isAfter(e,i)&&this.isBefore(t,i)}function at(e,t){var i;return t=T(t||"millisecond"),"millisecond"===t?(e=p(e)?e:De(e),+this===+e):(i=+De(e),+this.clone().startOf(t)<=i&&i<=+this.clone().endOf(t))}function lt(e,t,i){var n,s,o=Le(e,this),r=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(s=ct(this,o),"quarter"===t?s/=3:"year"===t&&(s/=12)):(n=this-o,s="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-r)/864e5:"week"===t?(n-r)/6048e5:n),i?s:v(s)}function ct(e,t){var i,n,s=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(s,"months");return 0>t-o?(i=e.clone().add(s-1,"months"),n=(t-o)/(o-i)):(i=e.clone().add(s+1,"months"),n=(t-o)/(i-o)),-(s+n)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ut(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ht(t){var i=z(this,t||e.defaultFormat);return this.localeData().postformat(i)}function ft(e,t){return this.isValid()?Xe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.from(De(),e)}function vt(e,t){return this.isValid()?Xe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.to(De(),e)}function bt(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function gt(){return this._locale}function _t(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yt(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function wt(){return+this._d-6e4*(this._offset||0)}function kt(){return Math.floor(+this/1e3)}function xt(){return this._offset?new Date(+this):this._d}function St(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ct(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Tt(){return d(this)}function $t(){return r({},c(this))}function Mt(){return c(this).overflow}function Dt(e,t){A(0,[e,e.length],0,t)}function Et(e,t,i){return ce(De([e,11,31+t-i]),t,i).week}function Pt(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function It(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")}function At(){return Et(this.year(),1,4)}function jt(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Ot(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function zt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Lt(e){return this._weekdays[e.day()]}function Nt(e){return this._weekdaysShort[e.day()]}function Wt(e){return this._weekdaysMin[e.day()]}function Vt(e){var t,i,n;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(i=De([2e3,1]).day(t),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Ft(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=zt(e,this.localeData()),this.add(e-t,"d")):t}function Rt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Bt(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Ut(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Yt(e,t){return t._meridiemParse}function Ht(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gt(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function qt(e,t){t[hn]=m(1e3*("0."+e))}function Qt(){return this._isUTC?"UTC":""}function Xt(){return this._isUTC?"Coordinated Universal Time":""}function Jt(e){return De(1e3*e)}function Zt(){return De.apply(null,arguments).parseZone()}function Kt(e,t,i){var n=this._calendar[e];return"function"==typeof n?n.call(t,i):n}function ei(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function ti(){return this._invalidDate}function ii(e){return this._ordinal.replace("%d",e)}function ni(e){return e}function si(e,t,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(e,t,i,n):s.replace(/%d/i,e)}function oi(e,t){var i=this._relativeTime[e>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)}function ri(e){var t,i;for(i in e)t=e[i],"function"==typeof t?this[i]=t:this["_"+i]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ai(e,t,i,n){var s=S(),o=a().set(n,t);return s[i](o,e)}function li(e,t,i,n,s){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ai(e,t,i,s);var o,r=[];for(o=0;n>o;o++)r[o]=ai(e,o,i,s);return r}function ci(e,t){return li(e,t,"months",12,"month")}function di(e,t){return li(e,t,"monthsShort",12,"month")}function ui(e,t){return li(e,t,"weekdays",7,"day")}function hi(e,t){return li(e,t,"weekdaysShort",7,"day")}function fi(e,t){return li(e,t,"weekdaysMin",7,"day")}function pi(){var e=this._data;return this._milliseconds=Qn(this._milliseconds),this._days=Qn(this._days),this._months=Qn(this._months),e.milliseconds=Qn(e.milliseconds),e.seconds=Qn(e.seconds),e.minutes=Qn(e.minutes),e.hours=Qn(e.hours),e.months=Qn(e.months),e.years=Qn(e.years),this}function vi(e,t,i,n){var s=Xe(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function mi(e,t){return vi(this,e,t,1)}function bi(e,t){return vi(this,e,t,-1)}function gi(e){return 0>e?Math.floor(e):Math.ceil(e)}function _i(){var e,t,i,n,s,o=this._milliseconds,r=this._days,a=this._months,l=this._data;return o>=0&&r>=0&&a>=0||0>=o&&0>=r&&0>=a||(o+=864e5*gi(wi(a)+r),r=0,a=0),l.milliseconds=o%1e3,e=v(o/1e3),l.seconds=e%60,t=v(e/60),l.minutes=t%60,i=v(t/60),l.hours=i%24,r+=v(i/24),s=v(yi(r)),a+=s,r-=gi(wi(s)),n=v(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function yi(e){return 4800*e/146097}function wi(e){return 146097*e/4800}function ki(e){var t,i,n=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+yi(t),"month"===e?i:i/12;switch(t=this._days+Math.round(wi(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function xi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function Si(e){return function(){return this.as(e)}}function Ci(e){return e=T(e),this[e+"s"]()}function Ti(e){return function(){return this._data[e]}}function $i(){return v(this.days()/7)}function Mi(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function Di(e,t,i){var n=Xe(e).abs(),s=us(n.as("s")),o=us(n.as("m")),r=us(n.as("h")),a=us(n.as("d")),l=us(n.as("M")),c=us(n.as("y")),d=s<hs.s&&["s",s]||1===o&&["m"]||o<hs.m&&["mm",o]||1===r&&["h"]||r<hs.h&&["hh",r]||1===a&&["d"]||a<hs.d&&["dd",a]||1===l&&["M"]||l<hs.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=t,d[3]=+e>0,d[4]=i,Mi.apply(null,d)}function Ei(e,t){return void 0===hs[e]?!1:void 0===t?hs[e]:(hs[e]=t,!0)}function Pi(e){var t=this.localeData(),i=Di(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function Ii(){var e,t,i,n=fs(this._milliseconds)/1e3,s=fs(this._days),o=fs(this._months);e=v(n/60),t=v(e/60),n%=60,e%=60,i=v(o/12),o%=12;var r=i,a=o,l=s,c=t,d=e,u=n,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||d||u?"T":"")+(c?c+"H":"")+(d?d+"M":"")+(u?u+"S":""):"P0D"}var Ai,ji,Oi=e.momentProperties=[],zi=!1,Li={},Ni={},Wi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Ri={},Bi=/\d/,Ui=/\d\d/,Yi=/\d{3}/,Hi=/\d{4}/,Gi=/[+-]?\d{6}/,qi=/\d\d?/,Qi=/\d{1,3}/,Xi=/\d{1,4}/,Ji=/[+-]?\d{1,6}/,Zi=/\d+/,Ki=/[+-]?\d+/,en=/Z|[+-]\d\d:?\d\d/gi,tn=/[+-]?\d+(\.\d{1,3})?/,nn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,sn={},on={},rn=0,an=1,ln=2,cn=3,dn=4,un=5,hn=6;A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),C("month","M"),W("M",qi),W("MM",qi,Ui),W("MMM",nn),W("MMMM",nn),R(["M","MM"],function(e,t){t[an]=m(e)-1}),R(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);null!=s?t[an]=s:c(i).invalidMonth=e});var fn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vn={};e.suppressDeprecationWarnings=!1;var mn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],_n=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ee("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),C("year","y"),W("Y",Ki),W("YY",qi,Ui),W("YYYY",Xi,Hi),W("YYYYY",Ji,Gi),W("YYYYYY",Ji,Gi),R(["YYYYY","YYYYYY"],rn),R("YYYY",function(t,i){i[rn]=2===t.length?e.parseTwoDigitYear(t):m(t)}),R("YY",function(t,i){i[rn]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var yn=M("FullYear",!1);A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),C("week","w"),C("isoWeek","W"),W("w",qi),W("ww",qi,Ui),W("W",qi),W("WW",qi,Ui),B(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=m(e)});var wn={dow:0,doy:6};A("DDD",["DDDD",3],"DDDo","dayOfYear"),C("dayOfYear","DDD"),W("DDD",Qi),W("DDDD",Yi),R(["DDD","DDDD"],function(e,t,i){i._dayOfYear=m(e)}),e.ISO_8601=function(){};var kn=ee("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=De.apply(null,arguments);return this>e?this:e}),xn=ee("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=De.apply(null,arguments);return e>this?this:e});Oe("Z",":"),Oe("ZZ",""),W("Z",en),W("ZZ",en),R(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=ze(e)});var Sn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Cn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xe.fn=Ae.prototype;var $n=et(1,"add"),Mn=et(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Dn=ee("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dt("gggg","weekYear"),Dt("ggggg","weekYear"),Dt("GGGG","isoWeekYear"),Dt("GGGGG","isoWeekYear"),C("weekYear","gg"),C("isoWeekYear","GG"),W("G",Ki),W("g",Ki),W("GG",qi,Ui),W("gg",qi,Ui),W("GGGG",Xi,Hi),W("gggg",Xi,Hi),W("GGGGG",Ji,Gi),W("ggggg",Ji,Gi),B(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=m(e)}),B(["gg","GG"],function(t,i,n,s){i[s]=e.parseTwoDigitYear(t)}),A("Q",0,0,"quarter"),C("quarter","Q"),W("Q",Bi),R("Q",function(e,t){t[an]=3*(m(e)-1)}),A("D",["DD",2],"Do","date"),C("date","D"),W("D",qi),W("DD",qi,Ui),W("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),R(["D","DD"],ln),R("Do",function(e,t){t[ln]=m(e.match(qi)[0],10)});var En=M("Date",!0);A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),C("day","d"),C("weekday","e"),C("isoWeekday","E"),W("d",qi),W("e",qi),W("E",qi),W("dd",nn),W("ddd",nn),W("dddd",nn),B(["dd","ddd","dddd"],function(e,t,i){var n=i._locale.weekdaysParse(e);null!=n?t.d=n:c(i).invalidWeekday=e}),B(["d","e","E"],function(e,t,i,n){t[n]=m(e)});var Pn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),In="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),An="Su_Mo_Tu_We_Th_Fr_Sa".split("_");A("H",["HH",2],0,"hour"),A("h",["hh",2],0,function(){return this.hours()%12||12}),Ut("a",!0),Ut("A",!1),C("hour","h"),W("a",Yt),W("A",Yt),W("H",qi),W("h",qi),W("HH",qi,Ui),W("hh",qi,Ui),R(["H","HH"],cn),R(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),R(["h","hh"],function(e,t,i){t[cn]=m(e),c(i).bigHour=!0});var jn=/[ap]\.?m?\.?/i,On=M("Hours",!0);A("m",["mm",2],0,"minute"),C("minute","m"),W("m",qi),W("mm",qi,Ui),R(["m","mm"],dn);var zn=M("Minutes",!1);A("s",["ss",2],0,"second"),C("second","s"),W("s",qi),W("ss",qi,Ui),R(["s","ss"],un);var Ln=M("Seconds",!1);A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return 10*this.millisecond()}),A(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),A(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),A(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),A(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),A(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),C("millisecond","ms"),W("S",Qi,Bi),W("SS",Qi,Ui),W("SSS",Qi,Yi);var Nn;for(Nn="SSSS";Nn.length<=9;Nn+="S")W(Nn,Zi);for(Nn="S";Nn.length<=9;Nn+="S")R(Nn,qt);var Wn=M("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Vn=f.prototype;Vn.add=$n,Vn.calendar=it,Vn.clone=nt,Vn.diff=lt,Vn.endOf=yt,Vn.format=ht,Vn.from=ft,Vn.fromNow=pt,Vn.to=vt,Vn.toNow=mt,Vn.get=P,Vn.invalidAt=Mt,Vn.isAfter=st,Vn.isBefore=ot,Vn.isBetween=rt,Vn.isSame=at,Vn.isValid=Tt,Vn.lang=Dn,Vn.locale=bt,Vn.localeData=gt,Vn.max=xn,Vn.min=kn,Vn.parsingFlags=$t,Vn.set=P,Vn.startOf=_t,Vn.subtract=Mn,Vn.toArray=St,Vn.toObject=Ct,Vn.toDate=xt,Vn.toISOString=ut,Vn.toJSON=ut,Vn.toString=dt,Vn.unix=kt,Vn.valueOf=wt,Vn.year=yn,Vn.isLeapYear=le,Vn.weekYear=Pt,Vn.isoWeekYear=It,Vn.quarter=Vn.quarters=Ot,Vn.month=X,Vn.daysInMonth=J,Vn.week=Vn.weeks=fe,Vn.isoWeek=Vn.isoWeeks=pe,Vn.weeksInYear=jt,Vn.isoWeeksInYear=At,Vn.date=En,Vn.day=Vn.days=Ft,Vn.weekday=Rt,Vn.isoWeekday=Bt,Vn.dayOfYear=me,Vn.hour=Vn.hours=On,Vn.minute=Vn.minutes=zn,Vn.second=Vn.seconds=Ln,Vn.millisecond=Vn.milliseconds=Wn,Vn.utcOffset=We,Vn.utc=Fe,Vn.local=Re,Vn.parseZone=Be,Vn.hasAlignedHourOffset=Ue,Vn.isDST=Ye,Vn.isDSTShifted=He,Vn.isLocal=Ge,Vn.isUtcOffset=qe,Vn.isUtc=Qe,Vn.isUTC=Qe,Vn.zoneAbbr=Qt,Vn.zoneName=Xt,Vn.dates=ee("dates accessor is deprecated. Use date instead.",En),Vn.months=ee("months accessor is deprecated. Use month instead",X),Vn.years=ee("years accessor is deprecated. Use year instead",yn),Vn.zone=ee("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ve);var Fn=Vn,Rn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Un="Invalid date",Yn="%d",Hn=/\d{1,2}/,Gn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},qn=g.prototype;qn._calendar=Rn,qn.calendar=Kt,qn._longDateFormat=Bn,qn.longDateFormat=ei,qn._invalidDate=Un,qn.invalidDate=ti,qn._ordinal=Yn,qn.ordinal=ii,qn._ordinalParse=Hn,qn.preparse=ni,qn.postformat=ni,qn._relativeTime=Gn,qn.relativeTime=si,qn.pastFuture=oi,qn.set=ri,qn.months=H,qn._months=fn,qn.monthsShort=G,qn._monthsShort=pn,qn.monthsParse=q,qn.week=de,qn._week=wn,qn.firstDayOfYear=he,qn.firstDayOfWeek=ue,qn.weekdays=Lt,qn._weekdays=Pn,qn.weekdaysMin=Wt,qn._weekdaysMin=An,qn.weekdaysShort=Nt,qn._weekdaysShort=In,qn.weekdaysParse=Vt,qn.isPM=Ht,qn._meridiemParse=jn,qn.meridiem=Gt,k("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=ee("moment.lang is deprecated. Use moment.locale instead.",k),e.langData=ee("moment.langData is deprecated. Use moment.localeData instead.",S);var Qn=Math.abs,Xn=Si("ms"),Jn=Si("s"),Zn=Si("m"),Kn=Si("h"),es=Si("d"),ts=Si("w"),is=Si("M"),ns=Si("y"),ss=Ti("milliseconds"),os=Ti("seconds"),rs=Ti("minutes"),as=Ti("hours"),ls=Ti("days"),cs=Ti("months"),ds=Ti("years"),us=Math.round,hs={s:45,m:45,h:22,d:26,M:11},fs=Math.abs,ps=Ae.prototype;ps.abs=pi,ps.add=mi,ps.subtract=bi,ps.as=ki,ps.asMilliseconds=Xn,ps.asSeconds=Jn,ps.asMinutes=Zn,ps.asHours=Kn,ps.asDays=es,ps.asWeeks=ts,ps.asMonths=is,ps.asYears=ns,ps.valueOf=xi,ps._bubble=_i,ps.get=Ci,ps.milliseconds=ss,ps.seconds=os,ps.minutes=rs,ps.hours=as,ps.days=ls,ps.weeks=$i,ps.months=cs,ps.years=ds,ps.humanize=Pi,ps.toISOString=Ii,ps.toString=Ii,ps.toJSON=Ii,ps.locale=bt,ps.localeData=gt,ps.toIsoString=ee("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ii),ps.lang=Dn,A("X",0,0,"unix"),A("x",0,0,"valueOf"),W("x",Ki),W("X",tn),R("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),R("x",function(e,t,i){i._d=new Date(m(e))}),e.version="2.10.6",t(De),e.fn=Fn,e.min=Pe,e.max=Ie,e.utc=a,e.unix=Jt,e.months=ci,e.isDate=n,e.locale=k,e.invalid=u,e.duration=Xe,e.isMoment=p,e.weekdays=ui,e.parseZone=Zt,e.localeData=S,e.isDuration=je,e.monthsShort=di,e.weekdaysMin=fi,e.defineLocale=x,e.weekdaysShort=hi,e.normalizeUnits=T,e.relativeTimeThreshold=Ei;var vs=e;return vs}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.moment,s=e.jQuery;t.Countdown=function(e){this.el=e,this.render=function(){var e=s(this.el).find("li"),i=s.Deferred();return t.geo(function(r){if(e=e.filter(function(e,i){var n={get:function(){return s(i).data()}};return!t.vis.geoExcluded(n,r)}).slice(0,1),e.length){var a=e.find(".clock:first").html();e.each(function(e,t){var i=s(t),r=n.utc(i.data("datetime")),l=i.data("locked"),c=i.data("preStateModal"),d=i.data("postStateModal"),u=s(".clock",t),h=s(".cta",t),f=s(".title",t);i.removeClass("hidden"),l&&(r=r.local()),c&&o(c,h.filter(":not(.finished)").children("a")),d&&o(d,h.filter(".finished").children("a")),u.countdown(r.format("YYYY-MM-DD HH:mm"),function(e){e.elapsed||s(this).html(e.strftime(a)),h.filter(":not(.finished)").length||f.filter(":not(.finished)").addClass("center"),h.filter(".finished").length||f.filter(".finished").addClass("center"),f.add(h).filter(":not(.finished)").toggleClass("hidden",e.elapsed),f.add(h).filter(".finished").toggleClass("hidden",!e.elapsed),s(this).toggleClass("hidden",e.elapsed)})}),i.resolve()}else i.reject()}),i.promise()}};var o=function(e,t){var n=t.data("cto")||"",s=t.data("modalCto")||"",o=new i.ModalView({model:e,name:"countdown",tracking:{engagementMeta:n,eventCategory:"SW"+s+"Modal"}});t.on("click",function(e){o.show({event:e})})}}(this),function(e){"use strict";function t(){var t=e.window.location.pathname.split("/")[1],i=n('nav a[href^="/'+t+'"]'),s=n("#nav-outer-container").data("section"),o=i.data("section");n("nav a").removeClass("active"),i.addClass("active"),s&&n("#nav-outer-container").removeClass(s+"-content has-border"),t&&o&&n("#nav-outer-container").data("section",o).addClass(o+"-content has-border")}var i=e.Disney,n=e.jQuery;n(function(){"undefined"!=typeof i.top?i.top.on("ready",t):t()})}(this),function(e){"use strict";var t=e.NAV=e.NAV||{};t.queue=t.queue||[],t.opts=t.opts||{};var i=e.NAV,n=e.document,s=n.documentElement,o=String.prototype.trim,r=Array.prototype.splice,a=Array.prototype.slice,l=o||function(){return this.toString().replace(/^\s+|\s+$/g,"")},c={};e.NAV.load=function(t,i){var n=e.document,s=n.getElementsByTagName("script")[0],o=n.createElement("script");o.type="text/javascript",o.async="async",o.onload=o.onreadystatechange=function(e,t){var n=this,s=n.readyState,o=n.parentNode;!o||!t&&s&&"complete"!==s&&"loaded"!==s||(o.removeChild(this),!t&&i&&i())},o.src=t,s.parentNode.insertBefore(o,s),o=n=s=null};var d=function(e){var t=e.apply?e:i[e[0]];t&&t.apply&&t.apply(i,e.slice?e.slice(1):[])};e.setTimeout(function(){for(var e=i.queue||[],t=0;t<e.length;++t)d(e[t]);i.queue={push:d}},1),i.on=function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},i.off=function(e,t,i){var n,s,o,r=0;if(e)if(t){if(n=c[e])for(s=c[e]=[];r<n.length;++r)o=n[r],o.f===t&&(i?o.c===i:o.c===this)&&s.push(o)}else delete c[e];else c={};return this},i.trigger=function(e){var t,i=c[e],n=0,s=a.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))};var u=function(t){var i=this.length||0,n=0,s=0;if(t)if(t.nodeType||t===e)n=1,this[i]=t;else for(n=t.length||0;n>s;++s)this[i+s]=t[s];this.length=i+n},h=i.dom=function(e){return new u(e);
},f=function(e){var t=this,i=e.target||e.srcElement||s,n=e.fromElement;3===i.nodeType&&(i=i.parentNode),t.type=e.type,t.target=i,t.original=e,t.altKey=!!e.altKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t.ctrlKey=!!e.ctrlKey,t.charCode=e.charCode,t.keyCode=e.keyCode,t.relatedTarget=e.relatedTarget||(n===i?e.toElement:n),t.defaultPrevented=!!(e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())};f.prototype={preventDefault:function(){var e=this.original;this.defaultPrevented=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.original;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},u.prototype={splice:r,add:u,ea:function(e){for(var t=0,i=this.length;i>t;++t)e.call(this[t],t);return this},eaN:function(e){for(var t,i=0,n=this.length;n>i;++i)t=this[i],1===t.nodeType&&e.call(t,i);return this},before:function(e){return this.ea(function(){e.parentNode.insertBefore(this,e)})},after:function(e){var t=e.nextSibling;return t?this.before(t):this.ea(function(){e.parentNode.appendChild(this)})},rm:function(){return this.ea(function(){var e=this.parentNode;e&&e.removeChild(this)}),this},on:function(t,i){var n=a.call(arguments,2);return this.eaN(function(){var s,o=this,r=function(o){o=o||e.event||{type:t},s&&s.call(this,o),i.apply(this,[new f(o)].concat(n))};o.addEventListener?o.addEventListener(t,r,!1):(s=o["on"+t],o["on"+t]=r),o=null})},listener:function(e,t,i){var n=c[e]||(c[e]=[]);return t&&n.push({f:t,c:i}),this},trigger:function(e){var t,i=c[e],n=0,s=a.call(arguments,1);if(i)for(i=i.slice();n<i.length;++n)t=i[n],t.f.apply(t.c||this,s);"all"!==e&&this.trigger.apply(this,["all",e].concat(s))},hasC:function(e){for(var t,i=0,n=this.length;n>i;++i)if(t=this[i],1===t.nodeType&&(" "+t.className+" ").indexOf(" "+e+" ")>-1)return!0;return!1},addC:function(e){var t=e;return e=" "+e+" ",this.eaN(function(){var i=" "+(this.className||"")+" ";i.indexOf(e)<0&&(this.className=l.call(i+t))})},rmC:function(e){return e=" "+e+" ",this.eaN(function(){for(var t=" "+(this.className||"")+" ";t.indexOf(e)>-1;)t=t.replace(e," ");this.className=l.call(t)})},byTag:function(e){var t=h();return this.eaN(function(){t.add(this.getElementsByTagName(e))}),t}},h.byId=function(e){return h(n.getElementById(e))},h.byTag=function(e){return h(s).byTag(e)},h.byName=function(e){return h(n.getElementsByName(e))},h.byClass=function(e){return h(n.getElementsByClassName?n.getElementsByClassName(e):n.querySelectorAll(e))},h.parse=function(e){var t=n.createElement("div");return t.innerHTML=e,h(t.childNodes)},h.contains=s.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:s.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},h.create=function(e){return h(n.createElement(e))},i.go=function(e){return e}}(this),function(e){"use strict";function t(e){return a.Deferred(function(t){var i=e.displayName,n=e.profile,s=e.tokens,o={};i&&i.displayName&&(o.username=i.displayName),n&&n.swid&&(o.swid=n.swid),s&&s.access&&(o.token=s.access),t.resolve(o)}).promise()}function i(e){var t="url("+e+")";f().css({"background-image":t,"background-size":"100%","background-color":"transparent"})}function n(e){var t=new RegExp(d+"$");return e.match(t)?void f().removeAttr("style"):void i(e)}function s(){f().removeAttr("style")}var o,r=e.Disney.SocialServices,a=e.jQuery,l=e.NREUM,c="SMALL",d="default-SMALL-LOW.png",u=function(){return e.__disneySocial},h=function(){return e.__disneySocial.avatar},f=function(){return a("div.nav-login").find("span.user-avatar")};r.auth=function(i){var n,s=a.Deferred();if(!u()){var r="Unable to connect with SocialHub: Social Services are Unavailable";return l&&l.noticeError(r),s.reject(r),s.promise()}return t(i).then(function(e){n=e,o===e.token?s.resolve(e.swid):(o=e.token,u().authDisneyID(e.username,e.swid,e.token))}),u().onAuthDisneyID(function(){s.resolve(n.swid)}),e.setTimeout(function(){if("pending"===s.state()&&(s.reject("Unable to connect with Social Hub: Social Services never called back"),l)){var e=new Error("AVATAR SERVICE ERROR: __disneySocial.avatar.authDisneyID() did not respond");l.noticeError(e)}},5e3),s.promise()},r.unauth=function(){o=void 0,u().unauthDisneyID()},r.pickAvatar=function(e){e.refresh().then(r.auth).then(function(){h().pickAvatar(n,c)},function(e){l&&l.noticeError(e)})},r.displayAvatar=function(e){h().subscribeToAvatar(e,c,n,!0)},r.defaultAvatar=function(){s()}}(this),!jQuery.support.cors&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i,getOrPostRegEx=/^get|post$/i,sameSchemeRegEx=new RegExp("^"+location.protocol,"i"),xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(e,t,i){if(e.crossDomain&&e.async&&getOrPostRegEx.test(e.type)&&httpRegEx.test(t.url)&&sameSchemeRegEx.test(t.url)){var n=null,s=(t.dataType||"").toLowerCase();return{send:function(i,o){n=new XDomainRequest,/^\d+$/.test(t.timeout)&&(n.timeout=t.timeout),n.ontimeout=function(){o(500,"timeout")},n.onload=function(){var e="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,t={code:200,message:"success"},i={text:n.responseText};try{if("json"===s)try{i.json=JSON.parse(n.responseText)}catch(r){t.code=500,t.message="parseerror"}else if("xml"===s||"text"!==s&&xmlRegEx.test(n.contentType)){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;try{a.loadXML(n.responseText)}catch(r){a=void 0}if(!a||!a.documentElement||a.getElementsByTagName("parsererror").length)throw t.code=500,t.message="parseerror","Invalid XML: "+n.responseText;i.xml=a}}catch(l){throw l}finally{o(t.code,t.message,i,e)}},n.onerror=function(){o(500,"error",{text:n.responseText})},n.open(e.type,e.url),n.send()},abort:function(){n&&n.abort()}}}})}!function(e){"use strict";var t,i=e.jQuery,n=e.navigator,s="https:"===e.location.protocol,o=Array.prototype.slice,r=[],a=function(e){null===r?e(t):r.push(e)},l=e.cto={trackPagination:function(e){for(e+="";e.length<2;)e="0"+e;a(function(t){var i=t.pageName;i&&(t.pageName=i.replace(/\|page_\d+$/,"")+"|page_"+e,t.track())})}};i.each(["resetObj","track","trackEvent","trackLink","trackVideo","trackGame"],function(e,t){l[t]=function(){var e=o.call(arguments),i=e[0];i&&i.ctoSrcPath&&c(i.ctoSrcPath),a(function(i){i[t].apply(i,e)})}});var c=function(o){function a(){t=new e.CTO;var i=0,n=function(){i<r.length?(r[i](t),++i,e.setTimeout(n,200)):r=null};n()}n&&"preview"===n.loadPurpose||e.cto.account||(i(e).one("CTOReady",a),i.ajax((s?"https://global":"http://aglobal")+".go.com"+o,{dataType:"script",cache:!0}))}}(this),function(e){"use strict";var t=e.jQuery;e.Tracker={page:function(i){var n={pageName:""};t.extend(n,i),e.cto.track({pageName:n.pageName})},event:function(i){var n={eventCategory:null,action:null,label:null,value:null};t.extend(n,i),n.engagementType=n.eventCategory+":"+n.action,e.cto.trackEvent(n)},link:function(i){var n={linkPosition:null,linkName:null,isChrome:!1,href:null};t.extend(n,i),e.cto.trackLink(n.linkPosition,n.linkName,void 0,n.href),n.isChrome&&(n.linkPosition="Chrome: "+n.linkPosition)},video:function(i){var n={analyticsData:null,info:null};t.extend(n,i),e.cto.trackVideo(n.analyticsData)}},t(function(){t("#nav-outer-container").on("click","li a, #nav-sw-logo, #nav-sw-logo-bar, .sponsor a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";switch(s){case"ac":return;case"social":o="/"+i.attr("class"),s+="/link";break;case"section":o="/"+i.data("section"),s+="/link";break;case"swlogo":o="/starwars-logo",s="logo";break;case"sponsorship":o="/link";var r=i.attr("title");r&&(o+="/"+r);break;default:var a=i.text();a&&(o="/"+a),"object"==typeof s&&"slug"in s&&(s=s.slug)}e.Tracker.link({linkPosition:"top-nav/"+s+o,linkName:"top-nav/"+s,href:n})}),t("footer").on("click","#legal li a, .social-links li a",function(){var i=t(this),n=i.attr("href"),s=i.data("cto")||"",o="";"social"===s?(o="/"+i.attr("class"),s+="/"):o="/"+i.context.innerText.replace(/(\s|\/)/g,"-"),e.Tracker.link({linkPosition:"footer/"+s+"link"+o,linkName:"footer",href:n})})})}(this),function(e,t){"use strict";var i,n,s,o=e._,r=e.NAV,a=r.dom,l=e.document,c=a(l.documentElement),d=e.encodeURIComponent,u="https:"===e.location.protocol,h="sw_nav",f="";r.searchAttemptUsedPlacements={};var p=r.closeSearch=function(){var o=a.byId("nav-ac").rm();e.clearTimeout(s),i=f=n=t,o.length&&(c.rmC("nav-open-search"),c.hasC("nav-open-menu")||(c.rmC("nav-open"),r.trigger("close")),r.trigger("close:search"))},v=function(e,n){var o=i&&i.value;if(s=t,o!==t&&o!==f)if(f=o,""===o)p();else{var a=r.a+d(o)+"?"+(u?"s":"")+"&p="+e+(n?"&f[search_section]="+d(n):"");r.load(a),r.trigger("change:search",e)}},m=function(e){var t=a.byId("nav-ac").byTag("li"),i=t.length-1;i>=0&&(n=e,0>n&&(n=i),n>i&&(n=0),t.rmC("nav-active"),a(t[n]).addC("nav-active"))},b=function(e){m(n!==t?n+e:e>0?0:-1)},g=function(e){r.trigger("click"),r.trigger("click:search",e,this)},_={13:function(t){var i=a(a.byId("nav-ac").byTag("li")[n]).byTag("a")[0];return i?(g.call(i),e.location.href=i.href):r.trigger("submit:search",t),p(),!!i},27:function(){return i?(p(),!0):void 0},38:function(){return b(-1),!0},40:function(){return b(1),!0}},y=function(t,n,o){var r=_[t.keyCode];i=this,r?r.call(this,n)&&t.preventDefault():s||(s=e.setTimeout(function(){v(n,o)},100))};r.ac=function(e,t,i){return i=o.isUndefined(i)?"":i,a(e).byTag("form").ea(function(){var e=a(this);e.hasC("nav-search")&&e.byTag("input").ea(function(){"q"===this.name&&(t=t||h,this.setAttribute("autocomplete","off"),a(this).on("keydown",y,t,i))})}),e},r._aSac=function(e,s){var o=a.byId("nav-ac").rm();o.rm(),o=o.length,i&&(r.go(a.parse(s)).after(i).byTag("li").ea(function(i){a(this).on("mouseover",function(e){var t=e.target;(t===this||a.contains(this,t))&&m(i)}).on("mouseout",function(e){var i=e.relatedTarget;(!i||i!==this&&!a.contains(this,i))&&m(t)}).byTag("a").on("click",g,e)}),o?m(n):(c.hasC("nav-open-menu")||r.trigger("open"),r.trigger("open:search"),c.addC("nav-open-search"),c.addC("nav-open")),r.trigger("accept:search"))},c.on("click",function(t){var n=t.target;i&&n!==i&&e.setTimeout(p,0)});var w=e.cto,k=function(e){w&&w.trackLink(e)},x=function(e){var t=e.getAttribute("data-linkname"),i=e.getAttribute("data-linkposition"),n=e.getAttribute("data-linkinput");return t&&i?n?[t,i,n]:[t,i]:!1};r.on("change:search",function(e){w&&!r.searchAttemptUsedPlacements[e]&&(r.searchAttemptUsedPlacements[e]=!0,w.trackEvent({searchAttempt:"y",engagementType:e}))}),r.on("click:search",function(e,t){var i;e&&(i=x(e.target)),i||(i=x(t)),i[0]&&k({linkName:i[0],linkPosition:i[1],href:t.href,searchPhraseInput:i[2]})})}(this),function(e){"use strict";function t(){var t=E.byId("nav-login");t.add([z.chrome_togg[0],z.search[0],z.social[0]]),z.els=t,z.diff=z.full-z.cmprsd,i(),L.tog.on("click",function(){L.open=p(L.open,{el:[z.outer_container,L.bod],klass:["pushed","pushed"]}),A.event({eventCategory:"starwars",action:"nav-drawer-"+(L.open?"open":"closed"),abTest:"navigation"})}),L.overlay.on("click",function(){z.outer_container.hasC("pushed")&&(L.open=c())}),z.section_link.listener("close:drawer",function(){e.setTimeout(function(){L.open=c()},300)}),z.section_link.on("click",function(){E.byClass("active")[0]!==this&&z.section_link.trigger("close:drawer")}),z.mobile_logo.on("click",function(){z.section_link.trigger("close:drawer"),E.byClass("active")[0]!==this&&e.setTimeout(function(){L.open=c()},300)}),z.search_togg.on("click",function(){z.search_open=p(z.search_open,{el:[z.search,z.login],klass:["visible","visible"]});var e=z.search_open?"open":"closed";A.event({eventCategory:"starwars",action:"search-icon-"+e,abTest:"navigation"}),"open"===e?z.search_input[0].focus():(D.closeSearch(),z.search_input[0].blur())}),z.search_input.on("focus",function(){z.search.addC("visible")}),z.search_input.on("blur",function(){e.setTimeout(function(){z.search_open=!1,z.search.rmC("visible"),z.search_input[0].value="",D.searchAttemptUsedPlacements={}},200)}),z.search_form.on("submit",function(){e.cto.trackLink("navigation/search/link/search_enter","navigation/search")}),z.did_log_in.on("click",function(){u("log-in")}),z.did_sign_up.on("click",function(){u("sign-up")}),z.choose_avatar.on("click",function(){A.event({eventCategory:"starwars",action:"account",abTest:"choose-avatar"}),S&&T.pickAvatar(x)}),z.userName.on("click",function(){var e=E.byClass("logged-in");e.hasC("active")?e.rmC("active"):e.addC("active")}),z.chrome_togg.on("click",function(){var e={el:[z.d_chrome,z.chrome_cntrl,z.outer_container],klass:["show","hide","chrome_push"]};z.chrome_rst_top&&(z.chrome_open=!0,z.chrome_rst_top=!1),g(k)>0?(m(),z.chrome_rst_top=l("open")):(A.event({eventCategory:"starwars",action:"disney-chrome-"+(z.chrome_open?"hide":"show"),abTest:"navigation"}),z.chrome_open=p(z.chrome_open,e))})}function i(){k=E(e)[0],z.init_win_width=k.innerWidth,h(),n(),s(),y(k,"resize",$.throttle(function(){o(),d()},300)),"undefined"!=typeof C.top&&C.top.on("ready",function(){z.isSlim=z.outer_container.hasC("slim-nav"),z.isSlim&&a()})}function n(){D.a="/_sac/",D.ac(z.search[0],"navigation/search"),z.desktop=z.init_win_width>j.max,z.isSlim=z.outer_container.hasC("slim-nav"),(z.desktop&&z.isMob||z.isSlim)&&(L.bod.addC("compressed"),z.outer_container.rmC("full-nav"),z.outer_container.addC("compressed")),z.outer_container.hasC("countdown")&&L.bod.addC("countdown"),z.init_win_width>j.max&&!z.mobile&&y(k,"scroll",N)}function s(){if(C&&C.Countdown){var e=new C.Countdown(z.countdown);e.render().done(function(){z.countdown.addC("show")}).fail(function(){L.bod.rmC("countdown"),z.countdown.addC("hidden"),z.outer_container.rmC("countdown")})}}function o(){z.desktop=z.init_win_width>j.max,k.innerWidth>j.max?y(k,"scroll",N):w(k,"scroll",N)}function r(e){var t=$.isNumber(e);if(t&&e>=z.diff)z.outer_container.rmC("full-nav"),z.outer_container.addC("compressed");else if(t)return z.outer_container.rmC("compressed"),void z.outer_container.addC("full-nav");a()}function a(){z.els.eaN(function(){this.removeAttribute("style")}),z.bar[0].removeAttribute("style"),z.wrapper[0].removeAttribute("style")}function l(e){var t=[z.d_chrome,z.chrome_cntrl,z.outer_container],i=["show","hide","chrome_push"],n=0;if("open"===e){for(;n<t.length;n++)t[n].addC(i[n]);return!0}for(;n<t.length;n++)t[n].rmC(i[n]);return z.chrome_open=!1,!1}function c(){return L.open&&(z.outer_container.rmC("pushed"),L.bod.rmC("pushed")),!1}function d(){var e=k.innerWidth,t=e>j.max;D.closeSearch(),z.desktop=t,$.each(j,function(t){(e+1>t||t>e-1)&&(z.crssd_ovr=!0)}),r(!1),z.isMob||(t||z.willReset?z.willReset=!1:(z.bar[0].setAttribute("style",""),m(),z.willReset=!0),$.defer(function(){z.search_open=p(!0,{el:[z.search,z.login],klass:["visible","visible"]})})),t||z.isMob||(L.open=c(),z.isCompressed&&(z.outer_container.rmC("compressed"),z.isCompressed=!1)),e>=900&&(e<=j.max||z.desktop&&z.isMob)&&(z.outer_container.rmC("pushed"),L.bod.rmC("pushed")),!t||z.isCompressed||z.isMob||z.isSlim||(z.outer_container.addC("full-nav"),z.isCompressed=!0,z.outer_container.rmC("pushed"),L.bod.rmC("pushed")),z.desktop&&(z.isMob||z.isSlim)&&(z.outer_container.rmC("full-nav"),z.outer_container.addC("compressed"),z.outer_container.hasC("gapless")&&L.bod.addC("gapless"))}function u(e){x.current?x.current&&"log-in"===e?(A.event({eventCategory:"starwars",action:"account",abTest:"navigation"}),x.update()):(f(x),T.unauth()):(A.event({eventCategory:"starwars",action:e,abTest:"navigation"}),("sign-up"===e?x.signup:x.login).call(x).then(function(){A.event({eventCategory:"starwars",action:"log-in-success",abTest:"navigation"})},function(){A.event({eventCategory:"starwars",action:e+"-aborted",abTest:"navigation"})}))}function h(){if(x){var e=E.byClass("nav-login");x.refresh().then(function(t){t&&e.addC("show")}).fail(function(){e.addC("show")})}else z.login[0].setAttribute("display","none")}function f(e){e.logout().then(function(){A.event({eventCategory:"starwars",action:"sign out",abTest:"navigation"}),C.updateSWid(null),T.unauth(),S=!1})}function p(e,t){var i=t||{};if($.isEmpty(i))return!1;var n=$.values(i.el),s=$.values(i.klass);if(e)for(var o=0;o<n.length;o++)n[o].rmC(s[o]);else for(var r=0;r<n.length;r++)n[r].addC(s[r]);return e?!1:!0}function v(e,t,i,n){return e/=n/2,1>e?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)}function m(){var t=g(k),i=0-t,n=0,s=20,o=function(){n+=s;var r=v(n,t,i,120);P.body.scrollTop=P.documentElement.scrollTop=r,120>n&&e.setTimeout(o,s)};o()}function b(e,t){var i=M.round(100*(1-e/t*1.15))/100;return i>0?i:0}function g(){return void 0!==k.pageYOffset?k.pageYOffset:(P.documentElement||P.body.parentNode||P.body).scrollTop}function _(t,i){var n=!1,s=!0,o=t.document,r=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",c=o.addEventListener?"":"on",d=function(e){("readystatechange"!==e.type||"complete"===o.readyState)&&(("load"===e.type?t:o)[l](c+e.type,d,!1),!n&&(n=!0)&&i.call(t,e.type||e))},u=function(){try{r.doScroll("left")}catch(t){return void e.setTimeout(u,50)}d("poll")};if("complete"===o.readyState)i.call(t,"lazy");else{if(o.createEventObject&&r.doScroll){try{s=!t.frameElement}catch(h){}s&&u()}o[a](c+"DOMContentLoaded",d,!1),o[a](c+"readystatechange",d,!1),t[a](c+"load",d,!1)}}function y(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}function w(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent&&e.detachEvent("on"+t,i)}var k,x,S,C=e.Disney,T=C.SocialServices,$=e._,M=e.Math,D=e.NAV,E=D.dom,P=e.document,I=e.Modernizr,A=e.Tracker,j=C.Style.breakpoints,O=C.Cookie,z={depth:0,init_win_width:0,diff:0,cmprsd:70,full:300,search_open:!1,chrome_open:!1,chrome_rst_top:!1,desktop:!1,isCompressed:!1,els:{},bar:E.byId("navbar"),countdown:E.byId("countdown"),outer_container:E.byId("nav-outer-container"),d_chrome:E.byId("chrome-container"),chrome_cntrl:E.byId("chrome-controls"),logo:E.byId("nav-sw-logo"),wrapper:E.byId("nav-wrapper"),did_log_in:E.byClass("disid-login"),did_sign_up:E.byClass("disid-signup"),choose_avatar:E.byClass("choose-avatar"),userName:E.byClass("disid-user"),login:E.byId("nav-login"),social:E.byId("social-links"),search:E.byId("nav-search-container"),search_form:E.byId("topnav-search"),search_input:E.byId("nav-search-input"),search_togg:E.byId("nav-search-icon"),chrome_togg:E.byId("chrome-controls-container"),section_link:E.byClass("section-link"),mobile_logo:E.byId("nav-sw-logo-bar"),o_pre:I.prefixed("opacity"),isMob:I.mobile},L={open:!1,tog:E.byId("nav-drawer-toggle"),bod:E.byId("body-wrapper"),overlay:E.byId("page-overlay")};C.NAV=function(e){function t(){(x.watched()||x.current)&&(C.updateSWid(x.current),S||T.auth(x.current).then(function(e){T.displayAvatar(e),S=!0},function(){T.defaultAvatar(),S=!1}))}x=e,x.on("login",t)},C.updateSWid=function(t){var i=E.byClass("nav-login"),n=E.byClass("disid-user"),s="innerText"in z.login?"innerText":"textContent";if(t){var o="",r=e.unescape(t.profile.swid);O.set("SWID",r,{domain:O.domain(),expires:7300,raw:!0}),t.displayName&&t.displayName.displayName?o=t.displayName.displayName:t.profile&&t.profile.username&&(o=t.profile.username),i.addC("logged-in");for(var a=0;a<n.length;a++)n[a][s]=o}else i.rmC("logged-in")},_(e,t);var N=$.throttle(function(){var t=g(this);if(z.isSlim=z.outer_container.hasC("slim-nav"),z.modalOpen=P.body.className.indexOf("modal-show")>=0,e.GOC&&e.GOC.queue.push(["closeSearch"]),0!==t&&z.chrome_open&&!z.chrome_rst_top&&l("close"),0===t&&z.chrome_rst_top&&(z.chrome_open=!0,z.chrome_rst_top=!1),!(z.isCompressed&&t>=z.diff||!z.desktop||z.isMob||z.isSlim||z.modalOpen)){var i="height:"+(z.full-(t<z.diff?t:z.diff))+"px;",n=b(t,z.diff)+"",s=z.o_pre+":"+n;z.depth=t,z.isCompressed=t>=z.diff,z.bar[0].setAttribute("style",i),z.wrapper[0].setAttribute("style",s),r(t)}},5)}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e._,s="change:watched",o=function(e,t){t?this.retain():this.release()},r=function(e){e!==s&&this.trigger.apply(this,arguments)},a=function(e){this.current=n.extend(this.current||{},n.reduce(e,function(e,t,i){return t&&(e[i]=t),e},{}))},l=function(){this.current=void 0},c={},d=["login","logout","signup","refresh","update"],u=t.GuestContext=function(e){this._h=e||{},this.on("login",a),this.on("signup",a),this.on("refresh",a),this.on("update",a),this.on("logout",l)};u.actions=d,n.extend(u.prototype,i.Events,{_r:0,retain:function(){return 0===this._r++&&this.trigger(s,this,!0),this},release:function(){this._r>0&&0===--this._r&&this.trigger(s,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new u(c);return e._p=this,e.current=this.current,e.on(s,o,this),this.on("all",r,e),e},disown:function(e){e.off(s,o,this),this.off("all",r,e),e._r>0&&this.release()}});var h=function(){throw"Not implemented"};n.each(d,function(e){u.prototype[e]=function(){return(this._h[e]||h).apply(this,arguments)},c[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e,t){"use strict";function i(){}var n,s,o=e.Disney,r=e._,a=e.JSON,l=r.rest,c={query:i,provide:i,pub:i,sub:i};a&&e.postMessage&&(e.addEventListener?(n=function(t){e.addEventListener("message",t,!1)},s=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(n=function(t){e.attachEvent("onmessage",t)},s=function(t){e.detachEvent("onmessage",t)})),o.xdc=function(e,i,o,d){function u(t){var n=v+a.stringify([t].concat(l(arguments)));e.postMessage(n,i)}function h(e){var n,s,o=p.length;e.origin===i&&"string"==typeof e.data&&e.data.substr(0,o)===p&&(n=a.parse(e.data.substr(o)),"string"==typeof n[0]&&(s=r.has(f,n[0])&&f[n[0]])&&s.apply(t,l(n)))}var f,p="xdc "+o+" ",v="xdc "+(d||o)+" ",m={},b={},g={};return n?(n(h),f={call:function(e,i,n){function s(){if(a++)throw"reply already sent";u("reply",i,r.toArray(arguments))}var o=r.has(b,e)&&b[e],a=0,l=!1;if(o)try{o.apply(t,n.concat([s])),l=!0}finally{l||u("error",i,"unexpected remote exception")}else u("error",i,"undefined remote procedure: "+e)},reply:function(e,i){var n=r.has(m,e)&&m[e];n&&(delete m[e],n.apply(t,i))},notify:function(e,i){var n,s,o=r.has(g,e)&&g[e];if("number"==typeof i.length){if(o)for(n=0,s=o.length;s>n;++n)o[n].apply(t,i);"all"!==e&&f.notify("all",[e].concat(i))}},error:function(e,t){var i=r.has(m,e)&&m[e];if(i)throw delete m[e],""+t}},{query:function(e){var t=l(arguments),i=t[t.length-1],n=r.uniqueId();i&&(m[n]=i,u("call",e,n,r.initial(t)))},provide:function(e,t){b[e]=t},pub:function(e){u("notify",e,l(arguments))},sub:function(e,t){var i=g[e];i||(i=g[e]=[]),i.push(t)},close:function(){s(h)}}):c}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._,s=e.document,o=/^([^\/:]+:\/\/[^\/]+)\//;t.initGuestConsumer=function(r,a){var l=o.exec(r)||o.exec(e.location.href),c=i.Deferred(),d={};return n.each(t.GuestContext.actions,function(e){d[e]=function(){return c.then(function(t){return i.Deferred(function(i){t.query(e,function(e,t){t?i.reject(t):i.resolve(e)})})})}}),d=new t.GuestContext(d),c.then(function(e){e.sub("all",function(){d.trigger.apply(d,n.toArray(arguments))})}),l?!function(){var e,n=s.createElement("div"),o=s.createElement("iframe");o.setAttribute("allowtransparency","true"),o.setAttribute("frameBorder","0"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("scrolling","no"),o.setAttribute("style","overflow:hidden;display:block;"),o.src=r,n.setAttribute("style","display:none;min-height:2000px;position:absolute;top:0;bottom:0;width:100%;z-index:10000;"),n.appendChild(o),a=a||s.body,a.appendChild(n),a.style.position="relative",e=t.xdc(o.contentWindow,l[1],"guest"),e.provide("ready",function(t){t(),c.resolve(e)}),d.on("open",function(){n.style.display="block",o.focus&&o.focus(),i("html,body").scrollTop(0)}),d.on("close",function(){n.style.display="none"})}():c.reject(),d}}(this),function(e){"use strict";var t=e.Disney,i=e._,n=e.jQuery;t.initEmptyGuestConsumer=function(){var e={};return i.each(t.GuestContext.actions,function(t){e[t]=function(){return n.Deferred()}}),new t.GuestContext(e)}}(this),function(e){"use strict";function t(){var t=i.DidOpts,n=o.size(t),s=0,r="?";for(var a in t)t.hasOwnProperty(a)&&(r+=a+"="+t[a],n!==s+1&&(r+="&"),s++);return i.didBase?i.initGuestConsumer(i.didBase+e.location.host+encodeURI(r)):void i.initEmptyGuestConsumer()}var i=e.Disney,n=e.Grill,s=e.jQuery,o=e._,r=t();if(i.NAV(r),i.DL&&i.DL(r),n){var a=n.BurgerView.extend({initialize:function(){this.guest=r.spawn(),n.BurgerView.prototype.initialize.apply(this,arguments)},spawn:function(e){var t={model:e,guest:this.guest};return n.ModuleView.create(e.get("view"),t)},remove:function(){return r.disown(this.guest),n.BurgerView.prototype.remove.call(this)}});s(function(){e.Grill.config({container:i.top,view:a})})}}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery;i(function(){i("footer #utility");t.top.on("ready",function(e){})})}(this),Whiskers("page_elements.page_styles",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css"> /* header background images and color settings */ '),n.s(n.f("header_theming",e,t,1),e,t,0,93,1441,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 1025px){ "),i.s(i.f("image",e,t,1),e,t,0,143,234,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,266,969,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar{ background-color: rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b("); } #nav-outer-container.full-nav #nav-header-bg .nav-header-fade { background-color: rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 1); background-image: -webkit-linear-gradient(left, rgb("),i.b(i.v(i.f("rgb",e,t,0))),i.b(") 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-image: linear-gradient(to right,"),i.b(i.v(i.f("rgb",e,t,0))),i.b(" 0%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.9) 15%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.8) 27%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.5) 50%, rgba("),i.b(i.v(i.f("rgb",e,t,0))),i.b(", 0.15) 75%, transparent 100%); background-color: transparent; "),i.s(i.f("hex",e,t,1),e,t,0,831,958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00"),i.b(i.v(i.f("hex",e,t,0))),i.b("', endColorstr='#FF"),i.b(i.v(i.f("hex",e,t,0))),i.b("', GradientType=0)\";")}),e.pop()),i.b(" } ")}),e.pop()),i.b(" } @media screen and (min-width: 1025px) and (-webkit-min-device-pixel-ratio: 1.3), not all, not all, only screen and (min-resolution: 125dpi), only screen and (min-resolution: 1.3dppx){ "),i.s(i.f("image_retina",e,t,1),e,t,0,1194,1292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container.full-nav #navbar #nav-header-bg{ background-image: url("),i.b(i.v(i.f("image_retina",e,t,0))),i.b("); } ")}),e.pop()),i.b(" } "),i.s(i.f("hidden",e,t,1),e,t,0,1323,1429,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #nav-outer-container{ display: none; } #body-wrapper, #body-wrapper:not(.compressed){ margin-top: 0px; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("footer_theming",e,t,1),e,t,0,1480,1663,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("footer_transparency",e,t,1),e,t,0,1505,1638,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" footer{ background: none; min-height: 210px; } footer #utility{ padding-top: 0; } footer #utility .social-links p{ margin-top: 0; } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" /* page background images and color settings */ "),n.s(n.f("background_theming",e,t,1),e,t,0,1754,3142,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("background_color",e,t,1),e,t,0,1776,1839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-color: "),i.b(i.v(i.f("background_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_left",e,t,1),e,t,0,1889,1966,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-left{ background-image: url("),i.b(i.v(i.f("vertical_repeating_left",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("vertical_repeating_right",e,t,1),e,t,0,2024,2103,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .starfield.star-right{ background-image: url("),i.b(i.v(i.f("vertical_repeating_right",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("centered_background_image",e,t,1),e,t,0,2163,2580,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-position: top center; background-repeat: no-repeat; } "),i.s(i.f("mobile",e,t,1),e,t,0,2260,2347,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #background-styles{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); background-size: 768px auto; } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2371,2567,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #background-styles{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); background-size: 1600px auto; } .starfield.star-right, .starfield.star-left{ visibility: hidden; } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("content_background_image",e,t,1),e,t,0,2640,3112,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-repeat: no-repeat; background-position: top center; } "),i.s(i.f("mobile",e,t,1),e,t,0,2736,2821,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #burger-container{ background-size: 100% auto; background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2845,3099,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (min-width: 768px){ #burger-container{ background-size: 133% auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } @media screen and (min-width: 1200px){ #burger-container{ background-size: 1600px auto; background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("section_styles",e,t,1),e,t,0,3185,3625,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .section-color, .module .rich-text-enabled a{ color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } .section-border{ border-color: "),i.b(i.v(i.f("color",e,t,0))),i.b(" !important; } html.no-touch .module.rich_text, html.no-touch .module .rich-text-enabled a:hover, html.no-touch .module.stats a:hover{ color: rgb("),i.b(i.v(i.f("rgb_lighten",e,t,0))),i.b("); } html.no-touch .module a.underline:hover:after, html.no-touch .module .module_header ul li.underline:not(.active) > span:hover:after{ border-bottom-color: "),i.b(i.v(i.f("color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" </style>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e._;i(function(){t.top.on("ready",function(t){var s=i("#body-wrapper"),o=i("#nav-outer-container"),r=i("#nav-inner-container"),a=i("#background-styles"),l=o.is(":visible");if(o.removeClass("nav-text-color-dark nav-text-color-light"),t.collection&&t.collection.style){var c=t.collection.style,d=e.Whiskers.page_elements.page_styles.render(c),u=c.section_class||"";i("#style-pack-theming").html(d),s.attr("data-section",u)}if(c&&c.background_theming&&s.addClass("body-text-color-"+c.background_theming.text_color),c&&c.header_theming){var h=c.header_theming,f="slim"===h.style;s.toggleClass("compressed",f),o.addClass("nav-text-color-"+h.text_color),o.toggleClass("compressed",f),f?o.removeClass("full-nav").addClass("slim-nav"):o.removeClass("slim-nav").addClass("full-nav")}else o.removeClass("nav-text-color-dark nav-text-color-light");c&&c.background_theming&&c.background_theming.content_background_image&&l&&(s.addClass("gapless"),o.addClass("gapless"));var p=function(){var e=0;if(l){var t=r.height(),n=i("#navbar").height();e=t>0?t:n}a.css("background-position","top "+e+"px center")};p(),i(e.window).on("scroll",n.debounce(p))})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Math,s=/%%([a-z0-9]+)%%/g,o=function(e,t){return"rng"===t?""+n.floor(1e18*n.random()):""},r=function(t){if(t){var n=t.toString().replace(s,o),r=e.document.createElement("iframe");r.src=n,r.frameborder="0",r.height="1",r.width="1",r.style.display="none",i(e.document.body).prepend(r)}};i(function(){t.top.on("ready",function(e){var t=e.collection;t&&t.floodlight&&r(t.floodlight)})})}(this),function(e){"use strict";var t=e.Spatula;t.exclude("news"),t.exclude("news?*p"),t.exclude("news/*p"),t.exclude("events"),t.exclude("events?*p"),t.exclude("events/*p"),t.exclude("feed"),t.exclude("feed?*p"),
t.exclude("feed/*p"),t.exclude("wp-content"),t.exclude("wp-content?*p"),t.exclude("wp-content/*p"),t.exclude("wp-includes"),t.exclude("wp-includes?*p"),t.exclude("wp-includes/*p"),t.exclude("the-force-awakens"),t.exclude("the-force-awakens?*p"),t.exclude("the-force-awakens/*p"),t.exclude(/search.*/)}(this),Whiskers("search.results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="search-bound'),n.s(n.f("meta",e,t,1),e,t,0,60,111,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("total",e,t,1),e,t,1,0,0,"")||i.b(" no_results display-view module")}),e.pop()),n.b('"> '),n.s(n.f("meta",e,t,1),e,t,0,132,810,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <section class="search_top"> '),i.b(' <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),i.b(i.v(i.f("placeholder",e,t,0))),i.b('" spellcheck="false" autocorrect="off" autocapitalize="off" value="'),i.s(i.f("keywords",e,t,1),e,t,0,533,545,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("keywords",e,t,0)))}),e.pop()),i.b('"> <span class="search-button"> <input class="large button" type="submit" value="'),i.b(i.v(i.d("translations.search",e,t,0))),i.b('"> </span> </div> '),i.s(i.f("active_section",e,t,1),e,t,0,699,771,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<input type="hidden" value="'),i.b(i.v(i.f("active_filter",e,t,0))),i.b('" name="f[search_section]">')}),e.pop()),i.b(" </form> </section> ")}),e.pop()),n.b(' <div class="refine-container"> '),n.b(' <section class="facet_groups"> <p class="refine-title">'),n.s(n.f("meta",e,t,1),e,t,0,946,979,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.sw_refine_search",e,t,0)))}),e.pop()),n.b("</p> "),n.s(n.f("primary",e,t,1),e,t,0,1005,1421,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("facets",e,t,1),e,t,0,1017,1409,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("search_section",e,t,1),e,t,0,1037,1389,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="filter-container'),i.s(i.f("active",e,t,1),e,t,0,1081,1088,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"> <a class="'),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-filter" href="'),i.b(i.v(i.f("url",e,t,0))),i.b('"> <span class="facet-icon '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b("-icon"),i.s(i.f("active",e,t,1),e,t,0,1211,1219,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" present")}),e.pop()),i.b('"></span> <span class="facet-name '),i.b(i.t(i.f("searchIcons",e,t,0))),i.b('-content">'),i.b(i.v(i.f("label",e,t,0))),i.b("</span> "),i.s(i.f("count",e,t,1),e,t,0,1318,1362,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="num-result"> ['),i.b(i.v(i.f("count",e,t,0))),i.b("]</span>")}),e.pop()),i.b(" </a> </section> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' </section> </div> <div class="search-view-container"> '),n.s(n.f("meta",e,t,1),e,t,0,1497,2846,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,1508,2565,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="totals"> <h2 class="'),i.s(i.f("active_section",e,t,1),e,t,0,1620,1630,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("in-section")}),e.pop()),i.b('"><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&rdquo;</strong></span></h2> "),i.s(i.f("active_section",e,t,1),e,t,0,1808,2056,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-content"> <div class="section-type"> <span class="in">'),i.b(i.v(i.d("translations.in",e,t,0))),i.b('</span> <span class="section-icon '),i.b(i.v(i.f("active_class",e,t,0))),i.b('-icon"></span> <span class="type-label">'),i.b(i.v(i.f("active_section",e,t,0))),i.b("</span> </div> </div> ")}),e.pop()),i.b(" </div> ")),i.b(" "),i.s(i.f("suggestion",e,t,1),e,t,0,2114,2549,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="suggestion"> <h2><strong>'),i.b(i.v(i.f("total",e,t,0))),i.b("</strong> "),i.b(i.v(i.d("translations.results_for",e,t,0))),i.b(" <strong>&ldquo;"),i.b(i.v(i.f("actual",e,t,0))),i.b("&rdquo;</strong></h2> "),i.s(i.f("corrected",e,t,1),e,t,0,2261,2379,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <h3>"),i.b(i.v(i.d("translations.search_instead_for",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("literal_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("keywords",e,t,0))),i.b("</a>&rdquo;?</h3> ")}),e.pop()),i.b(" "),i.s(i.f("corrected",e,t,1),e,t,1,0,0,"")||(i.b(" <h3> "),i.b(i.v(i.d("translations.did_you_mean",e,t,0))),i.b(' &ldquo;<a href="'),i.b(i.v(i.f("suggestion_url",e,t,0))),i.b('" class="route">'),i.b(i.v(i.f("suggestion",e,t,0))),i.b("</a>&rdquo;? </h3> ")),i.b(" </div> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="suggestionNoResults"> <h2>'),i.b(i.v(i.d("translations.no_results",e,t,0))),i.b(' <span class="search-term"><strong>&ldquo;'),i.b(i.v(i.f("keywords",e,t,0))),i.b("&ldquo;</strong></span></h2> </div> <p>"),i.b(i.t(i.d("translations.sw_please_try_another_search",e,t,0))),i.b("</p> ")),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("primary",e,t,1),e,t,0,2868,3278,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("total",e,t,1),e,t,0,2879,2924,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(" "),i.b(i.rp("everything",e,t,"")),i.b(" ")}),e.pop()),i.b(" "),i.b(" "),i.s(i.f("total",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.s(i.f("hasLatest",e,t,1),e,t,0,2978,3252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <section class="search_results_none"> <div class="module_header"> <h2 class="module_title">'),i.s(i.f("meta",e,t,1),e,t,0,3079,3109,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.latest_videos",e,t,0)))}),e.pop()),i.b('</h2> </div> <div class="blocks-bound"> <span class="blocks-container"> '),i.s(i.f("latest",e,t,1),e,t,0,3201,3214,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("entity",e,t,"")),i.b(" ")}),e.pop()),i.b(" </span> </div> </section> ")}),e.pop()),i.b(" ")),i.b(" ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("search.no_results",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="building-block-config '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-content without-description with-image third image-top ratio-2x1 short mob-width-full mob-image-top"> <div class="building-block"> <div class="building-block-aspect"> <div class="building-block-padding"> <a class="building-block-wrapper" href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,353,374,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),n.b('> <div class="image-wrapper"> <div class="aspect"> <img src="'),n.b(n.v(n.f("noResult_image_src",e,t,0))),n.b('" class="thumb" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),n.s(n.f("duration",e,t,1),e,t,0,589,614,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<time>"),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),n.b(' <div class="content-bumper"> <div class="content-info"> <h3 class="title">'),n.b(n.v(n.f("title",e,t,0))),n.b('</h3> </div> </div> <div class="metadata"> <div class="anchored-text"> <h4 class="category-info"> <span class="content-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span> <span class="category-name">'),n.b(n.v(n.f("section_label",e,t,0))),n.b('</span> </h4> </div> </div> <div class="decal"></div> </div> </a> </div> </div> </div> </div> '),n.fl()}),Whiskers("search.everything",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="search-view"> <section class="search_results '),n.s(n.f("more_url",e,t,1),e,t,0,70,78,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("has-more")}),e.pop()),n.b('"> <ul> '),n.s(n.f("results",e,t,1),e,t,0,111,962,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<li class="'),i.b(i.v(i.f("type",e,t,0))),i.b(" "),i.b(i.v(i.f("section_class",e,t,0))),i.b('-content result"> <div class="title-wrap"> <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-title"> <h3 class="title bolder-list result_ul" aria-hidden="true">'),i.b(i.v(i.f("title",e,t,0))),i.b("</h3> </a> "),i.s(i.f("section_label",e,t,1),e,t,0,335,574,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("meta",e,t,1),e,t,0,344,565,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("show_in",e,t,1),e,t,0,356,553,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="type-container"> <div class="section-type"> '),i.s(i.f("type",e,t,1),e,t,0,422,479,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="section-icon '),i.b(i.v(i.f("section_class",e,t,0))),i.b('-icon"></span>')}),e.pop()),i.b(' <span class="type-label">'),i.b(i.v(i.f("section_label",e,t,0))),i.b("</span> </div> </div> ")}),e.pop())}),e.pop())}),e.pop()),i.b(' </div> <div class="search-desc'),i.s(i.f("image_url",e,t,1),e,t,1,0,0,"")||i.b(" no-image"),i.b('"> '),i.s(i.f("result_image_src",e,t,1),e,t,0,684,799,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="route result-image"> <img src="'),i.b(i.v(i.f("result_image_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" align="left"> </a> ')}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,837,874,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <p class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p> ")}),e.pop()),i.b(" "),i.s(i.d("sitelinks.length",e,t,1),e,t,0,912,928,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.rp("sitelinks",e,t,"")),i.b(" ")}),e.pop()),i.b(" </div> </li>")}),e.pop()),n.b(" </ul> "),n.s(n.f("more_url",e,t,1),e,t,0,994,1212,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more blue button large" role="button" onclick=""> <span class="label">'),i.s(i.f("meta",e,t,1),e,t,0,1125,1151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.d("translations.show_more",e,t,0)))}),e.pop()),i.b('</span> <span class="spinner"></span> </div> </div> ')}),e.pop()),n.b(" </section> </div>"),n.fl()}),Whiskers("search.sitelinks",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <ul class="search_sitelinks"> '),n.s(n.f("sitelinks",e,t,1),e,t,0,74,336,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class ="'),i.s(i.f("image_url",e,t,1),e,t,0,101,113,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_image_sl")}),e.pop()),i.b(" "),i.s(i.f("description",e,t,1),e,t,0,144,155,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has_desc_sl")}),e.pop()),i.b('"> <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('" data-linkname="OrganicResults/link/'),i.b(i.v(i.f("slug",e,t,0))),i.b("-"),i.b(i.v(i.f("id",e,t,0))),i.b("/"),i.b(i.v(i.f("text",e,t,0))),i.b('" data-linkposition="sitesearch:results:OrganicResults'),i.b(i.v(i.f("index",e,t,0))),i.b('/">'),i.b(i.v(i.f("text",e,t,0))),i.b("</a> </li> ")}),e.pop()),n.b(" </ul> "),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=e.Backbone,s=e.jQuery,o=e.Math,r=o.min(e.devicePixelRatio,2);t.LumiereHelpers={sizes:[160,320,480,600,768,960,1200,1536,1920],imgSrc:function(e,t){var a=o.min(n.Resize.width(),i.wideMax),l=t*a*r*.94,c=this.nativeSize(e),d=c&&c.width,u=d,h=e;return s(this.sizes).each(function(e,t){return u=t,t>l?!1:void 0}),d>u&&(h+="&width="+u),h},nativeSize:function(e){var t=e&&e.split("?")[1],i=t&&decodeURIComponent(t).split("region=")[1];if(i){var n=i.split("&")[0].split(","),s=n[2],o=n[3];return{width:s,height:o}}}}}(this),function(e){"use strict";function t(e,t){t=n.isUndefined(t)?"":t,e.target.placeholder=t}var i=e.jQuery,n=e._,s=e.NAV,o=e.Disney,r=e.Spatula,a=e.Tracker,l=e.Whiskers,c=e.Backbone,d=o.Style.breakpoints,u=function(e){var t="OrganicResults";return' data-linkposition="sitesearch:results:'+t+this.index+'/" data-linkname="'+t+"/"+e+"/"+this.slug+"-"+this.id+'"'};o.SearchView=r.RichView.extend({title:"Search",initialize:function(t){var i=o.search;if(this.options=t,i){delete o.search;var s=i.meta.translations,r={sw_placeholder:"Search Star Wars",sw_refine_search:"Refine Your Search",sw_please_try_another_search:"Please try another search or browse the recommendations below."};n.defaults(s,r),this.placeholder=s.sw_placeholder,i.meta.translations=s,this.data=i}e.Spatula.exclude(/.*/)},safeRender:function(){var e=l.search,t=c.Resize.width()>=d.midLow,i=n.extend({searchIcons:function(){return this.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")},ctoLinkAttr:function(){return u.call(this,"link")},ctoImgAttr:function(){return u.call(this,"thumb")},result_image_src:function(){var e=this.image_url;if(e){var t=.125;return o.LumiereHelpers.imgSrc(e,t)}},noResult_image_src:function(){var e=this.base_images&&this.base_images.desktop.ratio_16x9;if(e){var i=t?.33:1;return o.LumiereHelpers.imgSrc(e,i)}},placeholder:this.placeholder,hasLatest:this.data.latest?!0:!1},this.data);this.el.innerHTML=l.search.results.render(i,{entity:e.no_results,everything:e.everything,sitelinks:e.sitelinks}),s&&s.ac(this.el,"srp/search_module")},cto:function(){return this.data.cto},events:{"click .show_more_container":function(t){var n=this,s=n.data.primary,o=i(t.currentTarget),r=o.attr("href"),l=i.trim(i(t.target).attr("alt")||o.text()),c="search",d=i(t.target).is("img")?"thumb":"link",u=[c,d].join("/"),h=[u,l].join("/");a.link({linkName:h,linkPosition:u,href:r}),t.preventDefault(),this.$(".show_more").addClass("loading"),i.getJSON("/search/more.json"+s.more_url,function(t){s.results=s.results.concat(t.results),s.more_url=t.more_url,n.safeRender(),e.cto.track(),n.$(".show_more").removeClass("loading")})},"click input[name=q]":function(e){t(e)},"onfocus input[name=q]":function(e){t(e)},"blur input[name=q]":function(e){t(e,this.placeholder),s.searchAttemptUsedPlacements={}},"click a":function(e){var t=i(e.currentTarget),n=t.attr("href"),s=t.data("cto")||"";"ac"!==s&&("img"===e.target.nodeName.toLowerCase()&&(t=i(e.target)),a.link({linkName:t.data("linkname"),linkPosition:t.data("linkposition"),href:n}))},"submit form.nav-search":function(){a.link({linkName:"srp/searchbox/search_enter",linkPosition:"srp/searchbox"})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.Backbone.Router.extend({routes:{"search?*params":"search"},search:function(e){var i=new t.SearchView({params:e?"?"+e:""});t.top.transition(i)}});new i}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Spinner={};i(function(){var s,o=t.top,r=i("#spinner"),a=function(){r.fadeIn("fast")},l=function(){e.clearTimeout(s),r.hide()};o.on("begin",function(){l(),s=e.setTimeout(a,1e3)}).on("ready",l).on("error",l),n=t.Spinner={show:function(){a()},hide:function(){l()}}})}(this),function(e){"use strict";e.Disney.FormElements=e.Disney.FormElements||{};var t=e.Disney.FormElements,i=e.Whiskers,n=e.jQuery;n(function(){t.characterCountdown={renderTemplate:function(e){var t={rows:e.rows,maxLength:e.maxLength||140,tag:e.tag,label:e.label,required:e.required};return i.modules.shared_components.character_countdown.render(t)},onReady:function(e){e.each(function(){var e=n(this),t=e.next(".count-remaining"),i=e.attr("maxlength");t.html(i),e.on("keyup",function(){var e=n(this).val(),s=i-e.length;t.html(s)})})}}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.Spatula||{};i(function(){t.top.on("ready",function(t){if(t&&t.collection){var s=t.collection.optimizely;if(s&&!i.isEmptyObject(s))if(n.test=function(){return!1},e.optimizely)e.optimizely.push(["activate"]);else{var o="https://cdn.optimizely.com/js/"+s.project_id+".js";i.getScript([o],function(){e.optimizely&&e.optimizely.push(["activate"])})}}})})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=t.Cookie,s=365;i(function(){var e=i("#cookie-warning");e.length&&"true"!==n.get("cookies-accepted")&&(e.removeClass("hidden"),e.children("#cookie-accept").on("click",function(t){n.set("cookies-accepted","true",{domain:n.domain(),expires:s}),e.addClass("hidden"),t.preventDefault()}))})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=i.isFunction,s=function(t){var i=e.onerror,n=e.console;n&&n.error&&n.error(t.stack||t.toString()),i&&i(t.toString())};i(function(){t.top.on("ready",function(t){var i=e.cto,o={};if(n(t.cto)&&(o=t.cto()),o&&o.account)try{i.resetObj(),i.track(o)}catch(r){s(r)}})})}(this),function(e){"use strict";var t=e.Tracker,i=e.jQuery,n="#burger > [data-module]",s=".slides li",o=function(e){return null!=e&&(e=i.trim(e).replace(/[^a-z0-9_:, \-]/gi,"").replace(/\s+/g," ")),e},r=function(e,t,n){var s=e.closest(t);return s.length?i(t,n).index(s):-1},a=function(e,t,a,l){var c=[],d=i(n).index(t),u=r(e,".entity,.item,.col,.building-block",t),h=r(e,s,t),f=r(e,".button",e.closest(s+","+n)),p=r(e,".all",t),v=o(i.trim(t.data("slug")))||o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text()))||"no title";return c.push(v,"mod"+(d+1)),u>=0?c.push("item"+(u+1)):h>=0&&c.push("slide"+(h+1)),l&&c.push(l),f>=0?a="button"+(f+1):r(e,".gallery-item",t)>=0&&(a=null),a&&c.push(a),p>=0&&c.push("viewall"),c.join("/")},l=function(e,t,i){var n=r(e,".suggested",t),s=r(e,".card .next",t);return n>=0?"card/suggested/p"+n+"/"+i:s>=0?"card/next/p"+s+"/"+i:r(e,"#next_container",t)>=0?("link"===i&&(i="details"),"upnext/"+i):a(e,t,i)},c=function(e,t,s){var l=o(i.trim(t.find("h1,h2,h3,h4,h5,h6").eq(0).text())),c=i(n).index(t),d=r(e,".modal-window .arrow-next",t),u=r(e,".modal-window .arrow-prev",t),h=r(e,".modal-window .modal-close",t);if(d>=0||u>=0||h>=0){var f=e.data("viewtype"),p=parseInt(e.data("currentitem"),10)+1,v="ad"===f?"ad":"item"+p,m=l+"/mod"+(c+1)+"/"+v+"/modal";return m}return a(e,t,s)};i("body").on("click","#burger a[href], #burger .button, #burger .launches-modal",function(e){var s,r=i(this),d=i(e.target),u=d.is("img"),h=r.closest(n),f=u?"thumb":"link",p=o(r.closest("[data-title]").data("title")||u&&d.attr("alt")||r.text()),v=o(h.data("module")),m=o(r.closest("[data-convert]").data("convert"));"search"!==v&&h.length&&(s=("watch"===v?l:"image_gallery"===v?c:a)(r,h,f,m),t.link({linkName:v+"/"+s,linkPosition:v+"/"+s+"/"+p,href:r.attr("href")}))})}(this),Whiskers("modules.auto_modal",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="auto_modal-bound"> <div class="modal-window"> <div class="modal-content '),n.s(n.f("noBranding",e,t,1),e,t,0,99,105,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("center")}),e.pop()),n.b('"> '),n.s(n.f("branding",e,t,1),e,t,0,136,240,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("top",e,t,1),e,t,0,145,231,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="top-branding"> <img class="branding top-branding" src="'),i.b(i.v(i.f("top",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="'),n.b(n.v(n.f("playerType",e,t,0))),n.b(' video-player module"> <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),n.b(n.rp("player",e,t,"")),n.b(" </div> </div> </div> </div> </div> </div> </div> "),n.s(n.f("branding",e,t,1),e,t,0,590,676,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bottom",e,t,1),e,t,0,602,664,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="bottom-branding"> <img src="'),i.b(i.v(i.f("bottom",e,t,0))),i.b('"/> </div> ')}),e.pop()),i.b(" ")}),e.pop()),n.b(' </div> <div class="modal-footer"> '),n.s(n.f("socialShare",e,t,1),e,t,0,740,757,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("social_share",e,t,""))}),e.pop()),n.b(' </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div>'),n.fl()}),Whiskers("modules.shared_components.nowlive_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='nowlive-inline-player reserved-ratio'> <iframe width='100%' height='100%' scrolling='no' frameborder='0' src='//iframe.nowlive.com/event/"),n.b(n.v(n.f("nowlive_id",e,t,0))),n.s(n.f("nowlive_query",e,t,1),e,t,0,181,199,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("?"),i.b(i.v(i.f("nowlive_query",e,t,0)))}),e.pop()),n.b("'> </iframe> </div>"),n.fl()}),Whiskers("modules.shared_components.youtube_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="youtube-inline-player reserved-ratio"> <iframe width="100%" height="100%" src="//www.youtube.com/embed/'),n.b(n.v(n.f("youtube_id",e,t,0))),n.b("?rel=0&autohide=1&showinfo=0&color=white&wmode=opaque"),n.s(n.f("youtube_query",e,t,1),e,t,0,200,218,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("&"),i.b(i.v(i.f("youtube_query",e,t,0)))}),e.pop()),n.b('" frameborder="0" allowfullscreen> </iframe> </div>'),n.fl()}),Whiskers("modules.shared_components.social_share",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("socialShare",e,t,1),e,t,0,16,880,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="social-share-links"> '),i.s(i.f("facebook",e,t,1),e,t,0,63,323,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(' <span class="social-share service facebook" data-social-type="facebook" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-share-url="'),i.b(i.v(i.f("source",e,t,0))),i.b('" data-href=""> <span class="social-icon fb-f-icon">Facebook</span> </span> ')}),e.pop()),i.b(" "),i.s(i.f("twitter",e,t,1),e,t,0,349,592,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="social-share service twitter" data-social-type="twitter" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-href="https://twitter.com/intent/tweet?url='),i.b(i.v(i.f("sourceEncoded",e,t,0))),i.b("&text="),i.b(i.v(i.f("titleEncoded",e,t,0))),i.b('"> <span class="social-icon twitter-icon">Tweet</span> </span> ')}),e.pop()),i.b(" "),i.s(i.f("google_plus",e,t,1),e,t,0,621,856,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <span class="social-share service google_plus" data-social-type="google_plus" data-text="'),i.b(i.v(i.f("title",e,t,0))),i.b('" data-href="https://plus.google.com/share?url='),i.b(i.v(i.f("sourceEncoded",e,t,0))),i.b('"> <span class="social-icon googleplus-icon">Google-Plus</span> </span> ')}),e.pop()),i.b(" </div> ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.jQuery;t.Social=t.Social||{init:function(e){var n=t.Social[e].callback,s=t.Social[e].url;i.getScript(s,n)},shareFacebook:function(t){e.FB.ui({method:"share",href:t})},shareSocial:function(t,i){e.open(t,i,"height=440,width=550,resizable=1")},bindShareClick:function(){i(".social-share.service").on("click",function(e){e.preventDefault();var n=i(this),s=n.data("social-type"),o=n.data("share-url"),r=n.data("href");"facebook"===s&&t.Social.shareFacebook(o),"twitter"===s&&t.Social.shareSocial(r,s),"google_plus"===s&&t.Social.shareSocial(r,s)})}},t.Social.facebook={url:"//connect.facebook.net/en_US/sdk.js",callback:function(){e.FB.init({appId:i("meta[property='fb:app_id']").attr("content"),status:!0,cookie:!0,xfbml:!0,version:"v2.0"})}},t.Social.google={url:"//apis.google.com/js/plusone.js"},i(function(){i("<div/>",{id:"fb-root"}).appendTo("body"),t.top.on("ready",function(){t.Social.bindShareClick()})})}(this),function(e){"use strict";var t=e.Whiskers,i=e.Grill,n=e.Disney,s=e._,o=e.jQuery;i.ModuleView.register("auto_modal",{template:t.modules.auto_modal,initialize:function(){s.extend(this,{partials:{player:t.modules.shared_components[this._playerType()],social_share:t.modules.shared_components.social_share},socialShare:this.model.collection&&this.model.collection.social_share_networks,title:this.model.get("title")||o("title").get(0).textContent,source:e.location.href})},render:function(){var e=this.model.get("schema_json")||{},t=e.branding,i=s.extend(e,{noBranding:t&&!t.top&&!t.bottom,playerType:this._playerType(),socialShare:this.socialShare,title:this.title,source:this.source,sourceEncoded:encodeURIComponent(this.source),titleEncoded:encodeURIComponent(this.title)});if(this.modalShouldAppear()&&this._playerType()){if(this.$el.html(this.template.render(i,this.partials)),this.socialShare){var o=this.socialShare;o.facebook&&n.Social.init("facebook"),o.google_plus&&n.Social.init("google")}this.bindModalEvents(),this.showModal()}},showModal:function(){var e=this.$el.find(".modal-window");e.addClass("first-shown"),e.addClass("modal-show"),e.css("visibility","visible"),o("body").addClass("no-scroll")},bindModalEvents:function(){var t=this,i=t.$el;i.on("click",".modal-window .modal-close, .modal-overlay",function(){i.find(".modal-window").delay(100).remove(),o("body").removeClass("no-scroll")}),o(e.window).resize(s.debounce(function(){t.fixVideoSize()},100)),t.fixVideoSize()},ready:function(){var t=this,i=27;o(e.document).keyup(function(e){switch(e.keyCode){case i:t.$el.find(".modal-window .modal-close").trigger("click")}})},modalShouldAppear:function(){var e=this.model.get("schema_json")||{},t=(new Date).getTime();if(e.start_time&&e.end_time){var i=Date.parse(e.start_time),n=Date.parse(e.end_time);return t>=i&&n>t}return!1},fixVideoSize:function(){var t=o(e.window).height(),i=t>800?1.25:1.1,n=s.min([1280,t*i]);this.$el.find(".video-player.module .bound").css("max-width",n+"px")},_playerType:function(){var e=this.model.get("schema_json")||{};return e.youtube_id?"youtube_player":e.nowlive_id?"nowlive_player":void 0}})}(this),Whiskers("modules.catalog",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,1455,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="poster-container"> <div class="poster-box '),i.s(i.f("isMobile",e,t,1),e,t,0,120,128,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("isMobile")}),e.pop()),i.b('"> <div class="aspect"><img src="'),i.b(i.v(i.f("poster_image_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width="100%"></div> </div> </div> <div class="description-container '),i.b(i.v(i.f("section_class",e,t,0))),i.b('-content"> '),i.s(i.f("logo_src",e,t,1),e,t,0,321,361,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("logo_src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),i.b(' <h1 class="'),i.s(i.f("logo_src",e,t,1),e,t,0,399,407,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("has-logo")}),e.pop()),i.b('"> '),i.s(i.d("header_data.title",e,t,1),e,t,0,445,468,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" "),i.s(i.d("header_data.title",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("title",e,t,0))),i.b(' </h1> <div class="desc"> '),i.s(i.d("header_data.desc",e,t,1),e,t,0,591,640,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="quote">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</span>")}),e.pop()),i.b(" "),i.b(i.v(i.f("desc",e,t,0))),i.b(" "),i.s(i.f("price",e,t,1),e,t,0,681,718,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<span class="price">$'),i.b(i.v(i.f("price",e,t,0))),i.b("</span>")}),e.pop()),i.b(' </div> <p class="meta"> '),i.s(i.f("rating",e,t,1),e,t,0,764,798,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<span>"),i.b(i.v(i.f("rated",e,t,0))),i.b(": "),i.b(i.v(i.f("rating",e,t,0))),i.b("</span>")}),e.pop()),i.b(" "),i.s(i.f("release",e,t,1),e,t,0,822,1001,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <span>"),i.s(i.f("reRelease",e,t,1),e,t,0,843,861,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reReleasedText",e,t,0)))}),e.pop()),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b("Released:"),i.b(" "),i.s(i.f("reRelease",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("release",e,t,0))),i.s(i.f("reRelease",e,t,1),e,t,0,966,979,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("reRelease",e,t,0)))}),e.pop()),i.b("</span> ")}),e.pop()),i.b(" "),i.s(i.f("platform_data",e,t,1),e,t,0,1032,1082,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <span>"),i.b(i.v(i.f("available_on",e,t,0))),i.b(": "),i.b(i.v(i.f("platform_data",e,t,0))),i.b("</span> ")}),e.pop()),i.b(' </p> <div class="cta"> '),i.s(i.f("retailerData",e,t,1),e,t,0,1141,1176,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="retail-button"></div> ')}),e.pop()),i.b(" "),i.s(i.f("hasButton",e,t,1),e,t,0,1208,1419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="links-container"> '),i.s(i.f("buttons",e,t,1),e,t,0,1251,1399,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button large links '),i.b(i.v(i.f("type",e,t,0))),i.b(' underline" '),i.s(i.f("convert",e,t,1),e,t,0,1329,1356,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-convert="'),i.b(i.v(i.f("convert",e,t,0))),i.b('"')}),e.pop()),i.b(' target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </div> </div> </div> ")}),e.pop()),n.fl()}),Whiskers("modules.shared_components.product_button",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="purchase_product"> <a class="button large'),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b(" clear"),n.b('"> <div class="bedazzlement"></div> '),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b('<div class="arrow-left"></div>'),n.b(" "),n.s(n.f("purchase_cta",e,t,1),e,t,0,211,227,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("purchase_cta",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("purchase_cta",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,0,280,293,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("Pre-order Now")}),e.pop()),n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b("Coming Soon"),n.b(" ")),n.b(" "),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b('<div class="arrow-right"></div>'),n.b(' </a> <div class="buy '),n.s(n.f("retail_links",e,t,1),e,t,1,0,0,"")||n.b("no_flyout"),n.b('" data-convert="buy"> <ul> '),n.s(n.f("retail_links",e,t,1),e,t,0,549,641,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li><a href="'),i.b(i.v(i.f("content_url",e,t,0))),i.b('" target="_blank" data-retailer="'),i.b(i.v(i.f("title",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></li> ")}),e.pop()),n.b(" </ul> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.Whiskers;t.ProductButtonView=i.View.extend({_flyoutVisible:!1,flyoutVisible:function(e){return"undefined"==typeof e?this._flyoutVisible:(this._flyoutVisible=e,void this.renderFlyout())},initialize:function(){this.render()},render:function(){var e=this;this.$el.html(n.modules.shared_components.product_button.render(e.model)),this.$el.click(function(){e.flyoutVisible(!e.flyoutVisible()),e.trigger("change",e)})},renderFlyout:function(){var e=this.$(".buy");this.flyoutVisible()?e.addClass("active"):e.removeClass("active")}})}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=i.Style.breakpoints,s=n.midHigh.toString(),o=e.Whiskers,r=e.Backbone,a=e._;t.ModuleView.register("catalog",{breakpoints:s,template:o.modules.catalog,render:function(){var e,t=this,s=t.model.data.first(),o=t.model.get("data")[0],l=o.buttons,c=r.Resize.width()>=n.midLow,d=t.model.get("translations"),u=new Date,h=u.getUTCDate(),f=u.getUTCMonth()+1,p=u.getUTCFullYear(),v=!1;10>h&&(h="0"+h),10>f&&(f="0"+f),u=p+"-"+f+"-"+h;var m=(o.re_release_date<=u?d.re_released:d.re_releasing)+":";"Game"===o.type&&(e=o.platforms,e&&e.length>0&&(e=e.join(", "))),(e||o.rating||o.release)&&(v=!0);var b=a.extend({platform_data:e,meta:v,reReleasedText:m,hasButton:!!l,poster_image_src:function(){var e=this.get("poster_image");if(e){var t=c?.38:1;return i.LumiereHelpers.imgSrc(e,t)}},logo_src:function(){var e=this.get("logo_image");if(e){var t=c?.33:1;return i.LumiereHelpers.imgSrc(e,t)}}},d,t.model);t.$el.html(t.template.render(b,{}));var g=s.get("retailerData");g&&g.retail_links.length&&new i.ProductButtonView({el:t.$(".retail-button"),model:g})},ready:function(){var e=this.model.get("style"),t=e&&e.background_color;t&&this.$el.css({"background-color":t})}})}(this),Whiskers("modules.disclaimer",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div class="rules-container inner-container"> <div class="links"> '),n.s(n.f("data",e,t,1),e,t,0,95,166,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" class="button small" target="_blank">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),n.b(" </div> "),n.s(n.d("header_data.desc",e,t,1),e,t,0,204,275,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="description rich-text-enabled">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</div>")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e._,n=e.Whiskers;t.ModuleView.register("disclaimer",{template:n.modules.disclaimer,render:function(){var e=i.extend({},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.disid_module",function(e,t,i){"use strict";var n=this;
return n.b(i=i||""),n.b('<div class="bound oneid-disabled"> <div class="did-container nav-login"> <div class="did-pre-state"> '),n.s(n.d("header_data.desc",e,t,1),e,t,0,122,228,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="description rich-text-enabled"> <div>'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</div> </div><!-- description --> ")}),e.pop()),n.b(' <div class="did-nav"> <div class="nav-items"> <span class="login">'),n.b(n.v(n.d("config_translations.nav_login",e,t,0))),n.b('</span> <span class="separator"> // </span> <span class="signup">'),n.b(n.v(n.d("config_translations.nav_signup",e,t,0))),n.b('</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-prestate --> <div class="did-post-state"> <div class="did-nav"> <div class="user-info"> <p class="display-name"></p> '),n.s(n.f("avatar_enabled",e,t,1),e,t,0,655,690,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="user-avatar"></span> ')}),e.pop()),n.b(' </div><!-- user-info --> <div class="nav-items"> <span class="account">'),n.b(n.v(n.d("config_translations.nav_account",e,t,0))),n.b('</span> <span class="separator"> // </span> '),n.s(n.f("avatar_enabled",e,t,1),e,t,0,879,979,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="avatar">'),i.b(i.v(i.d("config_translations.nav_avatar",e,t,0))),i.b('</span> <span class="separator"> // </span> ')}),e.pop()),n.b(' <span class="logout">'),n.b(n.v(n.d("config_translations.nav_logout",e,t,0))),n.b("</span> </div><!-- nav-items --> </div><!-- did-nav --> </div><!-- did-nav-poststate --> </div><!-- did-container --> </div><!-- bound -->"),n.fl()}),function(e){"use strict";var t,i=e.Disney,n=i.SocialServices,s=e.Grill,o=e.Tracker,r=e.Whiskers,a=e._;s.ModuleView.register("disid_module",{template:r.modules.disid_module,className:"module full-width-mob hidden",events:{"click .login":function(){this.options.guest.login()},"click .logout":function(){this.options.guest.logout()},"click .signup":function(){this.options.guest.signup()},"click .account":function(){this.options.guest.update()},"click .avatar":function(){this.avatar()}},initialize:function(){this.options.guest.retain()},ready:function(){this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this),this.options.guest.on("close",this.closedUI,this),this.options.guest.on("init",this.oneidEnabled,this)},render:function(){var e=this.model.collection.config_translations||{},t={nav_signup:"sign up",nav_login:"log in",nav_logout:"log out",nav_avatar:"avatar",nav_account:"account"};a.defaults(e,t);var i=a.extend({avatar_enabled:this.model.collection.config.avatar_enabled,config_translations:e},this.model);this.$el.html(this.template.render(i))},oneidEnabled:function(){this.$el.removeClass("hidden")},login:function(){this.$el.find(".did-container").addClass("loggedin"),this.$el.find(".display-name").text(this.options.guest.current.displayName.displayName),t||n.auth(this.options.guest.current).then(function(e){n.displayAvatar(e),t=!0},function(){n.defaultAvatar(),t=!1}),this.track("logged in","DisID Module")},logout:function(){this.$el.find(".did-container").removeClass("loggedin"),this.$el.find(".display-name").text(""),n.unauth(),t=!1,this.track("logged out","DisID Module")},closedUI:function(){this.track("closed ui","DisID Module")},avatar:function(){t&&n.pickAvatar(this.options.guest),this.track("account","choose-avatar")},track:function(e,t){o.event({eventCategory:"starwars",action:e,abTest:t})},destroy:function(){this.options.guest&&this.options.guest.release()}})}(this),Whiskers("modules.display",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("module_style_options",e,t,1),e,t,0,102,179,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,115,166,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <style type=text/css> "),i.b(i.rp("module_styles",e,t,"")),i.b(" </style> ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="bound '),n.s(n.f("style",e,t,1),e,t,0,233,272,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("layout",e,t,1),e,t,0,244,261,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("layout-"),i.b(i.v(i.f("layout",e,t,0)))}),e.pop())}),e.pop()),n.s(n.f("hasMore",e,t,1),e,t,0,294,302,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" peeking")}),e.pop()),n.b('"> '),n.s(n.f("header_data",e,t,1),e,t,0,333,351,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("hasFilters",e,t,1),e,t,0,383,402,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("filters_header",e,t,""))}),e.pop()),n.b(' <div class="blocks-bound"> <div class="blocks-container ref-'),n.b(n.v(n.f("ref",e,t,0))),n.b('"> '),n.b(n.t(n.f("blockList",e,t,0))),n.b(" </div> </div> "),n.s(n.f("hasMore",e,t,1),e,t,0,530,793,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="peek"> <div class="show_more_container"> <a class="show_more button large section-color underline" role="button"> <span class="label">'),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b('</span> <span class="loading-label">'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b("...</span> </a> </div> </div> ")}),e.pop()),n.b(' </div> <div class="module-spinner"> <span class="loader"></span> </div>'),n.fl()}),Whiskers("entities.block",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="building-block-config '),n.b(n.v(n.f("block_name",e,t,0))),n.b(" "),n.b(n.v(n.f("section_class",e,t,0))),n.b("-content "),n.s(n.f("block_style_override",e,t,1),e,t,0,100,122,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("block-override-content")}),e.pop()),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,0,168,183,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("social-override")}),e.pop()),n.b(" "),n.s(n.f("block_styles",e,t,1),e,t,0,221,597,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("width",e,t,0))),i.b(" image-"),i.b(i.v(i.f("image_placement",e,t,0))),i.b(" "),i.s(i.f("content_height",e,t,1),e,t,0,277,310,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("content-height-"),i.b(i.v(i.f("content_height",e,t,0)))}),e.pop()),i.b(" ratio-"),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b(" "),i.b(i.v(i.f("height",e,t,0))),i.b(" "),i.s(i.f("mobile_overrides",e,t,1),e,t,0,385,575,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("width",e,t,1),e,t,0,396,415,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-width-"),i.b(i.v(i.f("width",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("image_placement",e,t,1),e,t,0,446,475,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-image-"),i.b(i.v(i.f("image_placement",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("fixed_height",e,t,1),e,t,0,513,557,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-fixed-height mob-height-"),i.b(i.v(i.f("fixed_height",e,t,0)))}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("dynamic_desc",e,t,1),e,t,1,0,0,"")||n.b("no-desc"),n.b(" "),n.s(n.f("author_data",e,t,1),e,t,0,673,683,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" editorial")}),e.pop()),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,0,718,732,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("suppress-links")}),e.pop()),n.b(" "),n.s(n.f("suppressTruncation",e,t,1),e,t,0,774,793,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("suppress-truncation")}),e.pop()),n.b(" "),n.s(n.f("showMore",e,t,1),e,t,0,830,839,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("show-more")}),e.pop()),n.b(" "),n.s(n.f("lastRow",e,t,1),e,t,0,865,873,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("last-row")}),e.pop()),n.b(" "),n.s(n.f("revealed",e,t,1),e,t,0,899,907,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("revealed")}),e.pop()),n.b(" "),n.s(n.f("youtube_id",e,t,1),e,t,0,936,950,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("youtube-inline")}),e.pop()),n.b('"> <div class="building-block '),n.s(n.f("oldBatch",e,t,1),e,t,0,1008,1017,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("old-batch")}),e.pop()),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,0,1056,1189,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("block-style-override "),i.s(i.f("background_image",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("bg "),i.s(i.f("logo_image",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("logo "),i.s(i.f("text",e,t,1),e,t,1,0,0,"")||i.b("no-"),i.b("text ")}),e.pop()),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,0,1235,1250,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("social-override")}),e.pop()),n.b(" "),n.s(n.f("description",e,t,1),e,t,1,0,0,"")||n.b("no-desc"),n.b(" "),n.s(n.f("social_override",e,t,1),e,t,1,0,0,"")||n.s(n.f("block_style_override",e,t,1),e,t,1,0,0,"")||n.s(n.f("short_title",e,t,1),e,t,0,1372,1392,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("short-title-override")}),e.pop()),n.b('"> <div class="building-block-aspect"> <div class="building-block-padding"> <div class="building-block-wrapper"> <div class="image-wrapper"> <div class="aspect"> '),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||(n.b('<a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("target_blank",e,t,1),e,t,0,1668,1684,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),n.b(">")),n.b(" "),n.s(n.f("thumb_sized",e,t,1),e,t,0,1737,1809,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("thumb_sized",e,t,0))),i.b('" class="thumb reserved-ratio" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('">')}),e.pop()),n.b(" "),n.s(n.f("thumb_sized",e,t,1),e,t,1,0,0,"")||(n.b('<img src="'),n.b(n.v(n.f("thumb_base",e,t,0))),n.b('" class="thumb reserved-ratio" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('">')),n.b(" "),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.b("</a>"),n.b(" "),n.s(n.f("youtube_id",e,t,1),e,t,0,2041,2060,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("youtube_player",e,t,""))}),e.pop()),n.b(' </div> </div> <div class="content-wrapper '),n.s(n.f("block_styles",e,t,1),e,t,0,2135,2440,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("text_style_overrides",e,t,1),e,t,0,2161,2414,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("tablet",e,t,1),e,t,0,2173,2271,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-overrides "),i.s(i.f("line_clamp_n_lines",e,t,1),e,t,0,2210,2247,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-trim-"),i.b(i.v(i.f("line_clamp_n_lines",e,t,0))),i.b("-lines")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,2295,2401,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-overrides "),i.s(i.f("line_clamp_n_lines",e,t,1),e,t,0,2336,2377,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-trim-"),i.b(i.v(i.f("line_clamp_n_lines",e,t,0))),i.b("-lines")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b('" > <div class="bedazzlement"></div> '),n.b(" "),n.s(n.f("duration",e,t,1),e,t,0,2530,2555,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<time>"),i.b(i.v(i.f("duration",e,t,0))),i.b("</time>")}),e.pop()),n.b(" "),n.b(' <div class="content-bumper"> <div class="content-info"> '),n.s(n.f("block_style_override",e,t,1),e,t,0,2673,2788,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("logo_image",e,t,1),e,t,0,2688,2773,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="logo-image-wrapper"><img src="'),i.b(i.v(i.f("logo_image",e,t,0))),i.b('" class="logo-image"></div> ')}),e.pop())}),e.pop()),n.b(' <h3 class="title"> '),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,2860,2929,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,2895,2911,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,1,0,0,"")||(n.b(' <span class="long-title">'),n.b(n.v(n.f("title",e,t,0))),n.b("</span> "),n.s(n.f("short_title",e,t,1),e,t,0,3041,3089,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="short-title">'),i.b(i.v(i.f("short_title",e,t,0))),i.b("</span>")}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("block_style_override",e,t,1),e,t,0,3157,3173,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("text.title",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("suppressLinks",e,t,1),e,t,1,0,0,"")||n.s(n.f("href",e,t,1),e,t,0,3226,3230,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),n.b(" </h3> "),n.s(n.f("dynamic_desc",e,t,1),e,t,0,3281,3601,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="desc-sizer"> '),i.s(i.f("suppressLinks",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,3334,3403,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,3369,3385,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(' <p class="desc'),i.s(i.f("author_data",e,t,1),e,t,0,3461,3494,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("photo",e,t,1),e,t,0,3471,3484,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" author-image")}),e.pop())}),e.pop()),i.b('">'),i.b(i.t(i.f("dynamic_desc",e,t,0))),i.b("</p> "),i.s(i.f("suppressLinks",e,t,1),e,t,1,0,0,"")||i.s(i.f("href",e,t,1),e,t,0,3562,3566,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(' </div> </div> <div class="metadata '),n.s(n.f("author_data",e,t,1),e,t,0,3670,3716,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("author-data "),i.s(i.f("photo",e,t,1),e,t,0,3692,3705,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" author-image")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("block_styles",e,t,1),e,t,0,3750,4127,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("editorial_config",e,t,1),e,t,0,3772,4105,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,3784,3867,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,3793,3801,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("mob-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,3820,3830,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" mob-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,3849,3858,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" mob-date")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("tablet",e,t,1),e,t,0,3890,3973,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,3899,3907,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("tab-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,3926,3936,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" tab-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,3955,3964,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" tab-date")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,3997,4092,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("name",e,t,1),e,t,0,4006,4018,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("desktop-name")}),e.pop()),i.s(i.f("photo",e,t,1),e,t,0,4037,4051,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" desktop-photo")}),e.pop()),i.s(i.f("date",e,t,1),e,t,0,4070,4083,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" desktop-date")}),e.pop())}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' "> <div class="anchored-text"> '),n.s(n.f("author_data",e,t,1),e,t,0,4192,4309,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="author-data"> '),i.s(i.f("name",e,t,1),e,t,0,4228,4292,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<h4 class="author-name">'),i.b(i.v(i.d("translations.by_author",e,t,0))),i.b(" "),i.b(i.v(i.f("name",e,t,0))),i.b("</h4>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(' <h4 class="category-info"> <span class="content-icon '),n.b(n.v(n.f("section_class",e,t,0))),n.b('-icon"></span> '),n.s(n.f("social_override",e,t,1),e,t,1,0,0,"")||(n.b(' <span class="category-name">'),n.b(n.v(n.f("section_label",e,t,0))),n.b("</span> "),n.s(n.f("extra_info",e,t,1),e,t,0,4500,4549,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="extra-info">// '),i.b(i.v(i.f("extra_info",e,t,0))),i.b("</span>")}),e.pop()),n.b(" ")),n.b(" </h4> </div> "),n.s(n.f("author_data",e,t,1),e,t,0,4615,4727,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("photo",e,t,1),e,t,0,4625,4717,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="triangle-crop"><img class="author-photo" src="'),i.b(i.v(i.f("photo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("name",e,t,0))),i.b('"></div> ')}),e.pop())}),e.pop()),n.b(' </div> <div class="decal"></div> '),n.b(" </div> </div> </div> </div> </div> </div>"),n.fl()}),Whiskers("modules.shared_components.module_header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="module_header'),n.s(n.f("seeAll",e,t,1),e,t,0,36,48,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" has-see-all")}),e.pop()),n.b('"> <h2 class="module_title">'),n.b(n.t(n.d("header_data.title",e,t,0))),n.b(" //</h2> "),n.s(n.d("header_data.desc",e,t,1),e,t,0,140,189,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="module_desc">'),i.b(i.t(i.d("header_data.desc",e,t,0))),i.b("</p>")}),e.pop()),n.b(" "),n.s(n.f("seeAll",e,t,1),e,t,0,222,287,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a class="see-all" href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a>")}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("modules.shared_components.filters_header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="module_header filters_header has-list has-dropdown"> <div class="category-container"> <span class="browse">browse</span> <span class="module_title">'),n.b(n.v(n.f("firstTitle",e,t,0))),n.b('</span> <span class="drop-expand"></span> </div> <ul class="drop-container filters-container cols-'),n.b(n.v(n.f("numFilters",e,t,0))),n.s(n.f("maxFilterClass",e,t,1),e,t,0,305,316,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" filter-max")}),e.pop()),n.b('"> '),n.s(n.f("filters",e,t,1),e,t,0,350,463,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<li class="filter-name" '),i.s(i.f("next",e,t,1),e,t,0,383,403,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('data-next="'),i.b(i.v(i.f("next",e,t,0))),i.b('"')}),e.pop()),i.b(' data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"><span>'),i.b(i.v(i.f("title",e,t,0))),i.b("</span></li>")}),e.pop()),n.b(" </ul> </div>"),n.fl()}),Whiskers("partials.style_overrides.modules.display",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,43,361,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .bedazzlement, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.editorial:not(.sixth) .building-block .content-wrapper, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.editorial:not(.quarter) .building-block .content-wrapper, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.editorial .building-block .content-wrapper{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; background-image: none; } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("bg_color",e,t,1),e,t,0,409,2536,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_5 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_5 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_6 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el1_6 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_5B .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_5B .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_3A .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_3A .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b(" ; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_2 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el2_2 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el3_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_3 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_3 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_4 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_4 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_5 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_5 .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_6 .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .el4_6 .content-wrapper:after{ border-left: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } @media screen and (min-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top:not(.sixth):not(.quarter) .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } } @media screen and (max-width: 767px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-image-top:not(.mob-width-half):not(.block-override-content) .content-wrapper:after{ border-top: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-tall .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-tall .content-wrapper:after, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-medium .content-wrapper:before, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-medium .content-wrapper:after{ border-left: 6px solid "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; border-top: 6px solid transparent; right: -2px; } } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("title_color",e,t,1),e,t,0,2601,2674,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config .title a{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("title_hover_color",e,t,1),e,t,0,2713,2798,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config .title a:hover{ color: "),i.b(i.v(i.f("title_hover_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.s(n.f("desc_color",e,t,1),e,t,0,2836,2882,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .desc{ color: "),i.b(i.v(i.f("desc_color",e,t,0))),i.b("; } ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("decal_opacity",e,t,1),e,t,0,2935,2998,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .decal{ opacity: "),i.b(i.v(i.f("decal_opacity",e,t,0))),i.b(" !important; } ")}),e.pop()),n.b(" "),n.s(n.f("toggle_decal",e,t,1),e,t,0,3034,4188,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(" @media screen and (min-width: 1024px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.third .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.sixth .decal{ background-position: -100% 100%; } } "),i.b(" @media screen and (min-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.quarter .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.half .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.two-thirds .decal{ background-position: -100% 100%; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.three-quarters .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.third .decal{ background-position: -200% 100%; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-top.two-thirds .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .image-left.half .decal{ background-position: -300% 100%; } } "),i.b(" @media screen and (max-width: 767px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-image-top:not(.block-override-content):not(.editorial).mob-width-full .building-block .content-wrapper .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-fixed-height.mob-height-medium .content-wrapper .decal, #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .mob-fixed-height.mob-height-short .content-wrapper .decal{ background-position: -100% 100%; } .ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(" .building-block-config.mob-fixed-height.mob-height-tall .content-wrapper .decal{ background-position: -200% 100%; } } ")}),e.pop()),n.b(" "),n.b(" #ref-"),n.b(n.v(n.f("ref",e,t,0))),n.b(" .building-block .content-wrapper .content-info:after{ display: none; }"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Backbone,s=e.Disney,o=s.Style.breakpoints,r=e.jQuery,a=e._,l=t.ModuleView.extend({className:"module display-view",template:i.modules.display,initialize:function(){var t=this.model.get("randomize_module_data"),i=this,r=i.model,l="lazy_display"===i.model.get("view")&&t?a.shuffle(r.get("data")):r.get("data"),c=r.get("filters"),d=c&&a.reject(c,function(e){return 0===e.count}),u=r.get("show_more_options"),h=r.get("building_blocks")&&r.get("building_blocks").length,f=u&&u.num_rows||1,p=f*h,v=u&&h,m=r.get("default_block_styles"),b=r.get("translations")||{},g={by_author:"By:"};if(a.extend(i,{showMoreEnabled:!!u,blocksPerRow:h,rowsPerBatch:f,visPerBatch:p,peeksPerBatch:v}),i.blockModel=n.Model.extend({translations:a.defaults(b,g),block_styles:function(){return this.get("block_styles")||r.get("default_block_styles")},thumb_sized:function(){var e=n.Resize.width(),t=e>=o.midHigh,i=this.get("block_images"),a=this.get("base_images"),l=this.get("rel_image_width")||m.rel_image_width,c=t?l:1,d=this.get("rel_width")||m.rel_width,u=t?d:1,h=u*c,f=768>h*e?"mobile":"desktop";if(!i){if(a){var p=a[f]["ratio_"+r.get("default_thumb_ratio")];return s.LumiereHelpers.imgSrc(p,h)}return this.get("default_thumb")}var v=i[f];return v?s.LumiereHelpers.imgSrc(v,h):void 0}}),d&&d.length>0){var _=d[0];a.extend(i,{filters:d,filterRoot:"/_grill/filter"+e.location.pathname,activeFilter:_.title}),l=_.data,i.filterCollectionViews={},this.filterCollectionViews[_.title]=i.blockListView=i.setNewBlockListView(_)}else i.blockListView=i.setNewBlockListView(r.attributes);i.blockListView.loadFirstBlocks(l)},render:function(){var e=this.model,t=this.blockListView,n=this.filters&&this.filters.length,o=e.get("style_options")||[],r=a.extend({translations:e.get("translations"),blockList:s.placeHtml(t),showMore:!!this.showMoreEnabled,hasMore:this.showMoreEnabled&&t.collection.hasMore(),hasFilters:!!this.filters,numFilters:n,filters:this.filters,firstTitle:this.activeFilter,maxFilterClass:n>5,style_options:o},e);this.$el.html(this.template.render(r,{block:i.entities.block,module_header:i.modules.shared_components.module_header,filters_header:i.modules.shared_components.filters_header,module_styles:i.partials.style_overrides.modules.display})),s.placeSwap(this,t),this.showMoreEnabled&&(this.updateLoadingButton(!1),this.updatePeek(t)),this.$('.filter-name[data-title="'+this.activeFilter+'"]').addClass("active")},ready:function(){var e=this.$(".building-block-padding").outerHeight(),t=this.$(".blocks-container").position().top,i=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+i),this.$(".youtube-inline-player").length>0&&r(".youtube-inline-player iframe").on("load",function(){r(this).addClass("loaded")})},blocksToModels:function(e){var t=this,i=[];return r.each(e,function(e,n){i.push(new t.blockModel(n))}),i},setNewBlockListView:function(e){var s=this,o=s.model.data,r=new n.LazyCollection([],{count:e.count,model:s.blockModel});if(a.extend(r,{title:e.title,page:1,visBlocks:[],nextVisBlocks:[],peekBlocks:[],reserveBlocks:[],blockSequence:e.building_blocks&&e.building_blocks.join("-"),hasMore:function(){var e=n.Resize.width()>=768,t=e?this.page*s.visPerBatch:this.length;return t<this.count}}),s.filterRoot)r.url=e.next?s.filterRoot+e.next:null;else if(o.remaining()>0){var l=o.url.replace("/_grill/more","/_grill/moar"),c=o.length,d=o.remaining();r.url=l+"&limit="+d+"&offset="+c}else r.url=null;var u=new t.ListView({collection:r,className:function(){return"blocks-list-view active "+r.blockSequence},template:{render:function(e){return a.extend(e,{suppressLinks:s.suppressLinks,suppressTruncation:s.suppressTruncation}),i.entities.block.render(e,{youtube_player:i.modules.shared_components.youtube_player})}}});return a.extend(u,{render:function(){s.$(".blocks-container").append(this.el),s.showMoreEnabled&&s.updatePeek(this)},loadFirstBlocks:function(e){var t=this.collection,i=s.blocksToModels(e),n=i.splice(0,s.visPerBatch),o=i.splice(0,s.peeksPerBatch),r=n.concat(o),l=i;a.each(o,function(e){e.set({revealed:!0,oldBatch:!0})}),a.extend(t,{visBlocks:n,nextVisBlocks:[],peekBlocks:o,reserveBlocks:l}),t.add(r)}}),u}});l.register("display"),l.register("featured_single",{suppressLinks:!0,suppressTruncation:!0});var c=l.extend({events:function(){return this.lazyEvents},lazyEvents:{"click .show_more_container":function(){this.loadingMoreBlocks||this.loadMoreBlocks(this.blockListView.collection)}},updateLoadingButton:function(e){this.$el.toggleClass("loading-more",e)},loadMoreBlocks:function(e){var t,i=this.visPerBatch;e.page++,this.updateLoadingButton(!0),this.$(".blocks-bound").removeClass("first-batch");var n=e.page*i,s=e.visBlocks.length,o=n-s,a=e.peekBlocks.length,l=o-a,c=[];e.nextVisBlocks=e.peekBlocks,e.peekBlocks=[],l>0&&(c=e.reserveBlocks.splice(0,l),r.merge(e.nextVisBlocks,c)),r.merge(e.visBlocks,e.nextVisBlocks),this.showMoreEnabled&&(e.peekBlocks=e.reserveBlocks.splice(0,this.peeksPerBatch)),t=c.concat(e.peekBlocks),e.add(t),this.updateLoadingButton(!1),this.updatePeek(this.blockListView),e.reserveBlocks.length<this.visPerBatch&&e.url&&!this.loadingMoreBlocks&&this.fetchBackupBlocks(e)},fetchBackupBlocks:function(e){var t=this;t.updateLoadingButton(!0),this.loadingMoreBlocks=!0,r.getJSON(e.url,function(i){r.each(i.data,function(i,n){e.reserveBlocks.push(new t.blockModel(n))}),e.url=i.next?t.filterRoot+i.next:null,t.loadingMoreBlocks=!1,t.updateLoadingButton(!1)})},updatePeek:function(t){var i=t.collection,n={vis:i.visBlocks.length,peek:i.peekBlocks.length,nextVis:i.nextVisBlocks.length,newRows:Math.ceil(i.nextVisBlocks.length/this.blocksPerRow)},s=a.pluck(t.views,"$el"),o=r(s).map(function(){return this.toArray()}),l=o.slice(0,n.vis),c=l.slice(-1*n.nextVis),d=c.find(".building-block"),u=o.slice(n.vis,n.vis+n.peek),h=o.find(".building-block-padding"),f=h.outerHeight(),p=120,v=p*n.newRows,m=1;if(a.each(i.visBlocks,function(e){e.set("lastRow",!1)}),a.each(i.peekBlocks,function(e){e.set("lastRow",!0)}),f>0){var b={},g=function(e){b["$row"+e].css("height",f)};if(this.rowsPerBatch>1&&n.newRows>1){for(var _=0;_<this.rowsPerBatch;_++){var y="row-"+(_+1)+"-of-batch",w=c.slice(_*this.blocksPerRow,(_+1)*this.blocksPerRow);w.addClass(y),b["$row"+(_+1)]=w.find(".building-block")}g(m);var k=e.setInterval(function(){g(++m),m===n.newRows&&e.clearInterval(k)},p)}else d.css("height",f);e.setTimeout(function(){u.addClass("revealed"),a.each(i.peekBlocks,function(e){e.set("revealed",!0)}),d.css("height","auto")},v)}else u.addClass("revealed");this.updateLoadingButton(!1),this.$el.toggleClass("has-more",i.hasMore())}});c.register("line_up"),c.register("lazy_display");var d=c.extend({filterContent:!0,events:function(){return a.extend(this.lazyEvents,this.filterEvents)},filterEvents:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")},"click .filter-name":function(e){var t=this,i=r(e.currentTarget),n=i.attr("data-title"),s=i.index(),o=t.$(".filter-name.active"),a=t.filterCollectionViews[n];if(t.activeFilter!==n)if(o.add(".drop-container").removeClass("active"),t.$(".category-container .module_title").html(n),t.$(".blocks-bound").addClass("first-batch"),i.addClass("active"),t.activeFilter=n,a)t.replaceView(a);else{var l=t.setNewBlockListView(t.filters[s]);t.updateSpinner(!0),r.getJSON(l.collection.url,function(e){l.loadFirstBlocks(e.data),l.collection.url=e.next?t.filterRoot+e.next:null,t.replaceView(l),t.filterCollectionViews[n]=l,t.updateSpinner(!1)})}}},replaceView:function(e){this.blockListView.$el.removeClass("active"),this.blockListView=e,this.blockListView.$el.index()<0?this.blockListView.render():this.blockListView.$el.addClass("active"),this.$el.toggleClass("has-more",this.blockListView.collection.hasMore())},updateSpinner:function(e){this.$el.toggleClass("replacing-data",e)}});d.register("display_filters")}(this),Whiskers("modules.error",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="error_page e'),n.b(n.v(n.f("error_code",e,t,0))),n.b(' bound"> <div class="inner"> <img src="'),n.b(n.v(n.f("image",e,t,0))),n.b('"> <div class="message"> <h2>'),n.b(n.v(n.f("desc",e,t,0))),n.b("</h2> <h1>"),n.b(n.v(n.f("title",e,t,0))),n.b("</h1> </div> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e._;t.ModuleView.register("error",{template:i.modules.error,
initialize:function(){var e=this.model.get("style"),t=e&&e.images&&e.images.foreground_image||{},i=t.url;this.image=i},render:function(){var e=n.extend({image:this.image},this.model);this.$el.html(this.template.render(e))}})}(this),Whiskers("modules.fb_comments",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="module_content'),n.s(n.f("header_data",e,t,1),e,t,1,0,0,"")||n.b(" no-header"),n.b('"> <div class="facebook-comments"> '),n.s(n.d("translations.legal",e,t,1),e,t,0,197,385,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <p class="legal-blurb"> '),i.b(i.v(i.d("translations.legal",e,t,0))),i.b(" "),i.s(i.d("translations.facebook_faq",e,t,1),e,t,0,275,349,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.d("translations.facebook_faq",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.learn_more",e,t,0))),i.b("</a>. ")}),e.pop()),i.b(" </p> ")}),e.pop()),n.b(' <div class="fb-comments" data-href="'),n.b(n.v(n.f("href",e,t,0))),n.b('" data-width="100%" data-numposts="5" data-colorscheme="dark"></div> </div> </div> </div>'),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Disney,s=e._;t.ModuleView.register("fb_comments",{template:i.modules.fb_comments,render:function(){var t=this.model,o=t.get("translations")||{},r=e.location,a=r.protocol+"//"+n.portal+r.pathname;s.defaults(o,{learn_more:"Learn More"});var l=s.extend({href:a},t,o);this.$el.html(this.template.render(l,{module_header:i.modules.shared_components.module_header})),n.Social.init("facebook")}})}(this),Whiskers("modules.header",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e._;t.ModuleView.register("header",{className:"module full-height",template:i.modules.header,render:function(){var e=n.extend({},this.model);this.$el.html(this.template.render(e,{module_header:i.modules.shared_components.module_header}))}})}(this),Whiskers("modules.image_gallery.image_gallery",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css">'),n.b(n.rp("moduleStyles",e,t,"")),n.b("</style> "),n.s(n.f("data",e,t,1),e,t,0,58,2844,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="gallery-bound"> <div id="print-image"> <div class="print-frame"> <div class="img-wrapper"> <img> <div class="info"> <p class="print-notice"> &copy; 2014 Star Wars </p> <span class="caption"></span> </div> </div> </div> </div> <div class="gallery_header"> <div class="gallery_banner_container section-border"> <div class="banner_img open-gallery"> <div class="scaler"></div> <img src="'),i.b(i.v(i.f("banner",e,t,0))),i.b('"> </div> </div> <div class="content-wrapper"> <div class="bedazzlement"></div> '),i.b(' <div class="content_description"> <h1><span class="open-gallery">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b("</span></h1> "),i.s(i.f("description",e,t,1),e,t,0,679,721,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b("</p>")}),e.pop()),i.b(" "),i.s(i.f("parent_page",e,t,1),e,t,0,754,856,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("parent_page",e,t,0))),i.b('" class="parent_page_link underline section-color">'),i.b(i.v(i.f("parent_page_title",e,t,0))),i.b("</a> ")}),e.pop()),i.b(' </div> <div class="gallery_external_links"> <div class="gallery-meta"> <div class="image-total"> <span class="total-icon"></span> <p>'),i.b(i.v(i.f("numImages",e,t,0))),i.b(" "),i.b(i.v(i.d("translations.images",e,t,0))),i.b("</p> </div> "),i.s(i.f("socialShare",e,t,1),e,t,0,1071,1087,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),i.b(" </div> </div> </div> </div> "),i.s(i.f("showThumbs",e,t,1),e,t,0,1147,1958,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div id="gallery_thumb_grid"> <ul class ="img-cols"> '),i.s(i.f("thumbViewList",e,t,1),e,t,0,1219,1238,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.f("thumbViewList",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("thumbViewList",e,t,1),e,t,1,0,0,"")||(i.b(" "),i.b(" "),i.s(i.f("noscript_images",e,t,1),e,t,0,1358,1398,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("modules/image_gallery/gallery_thumb",e,t,""))}),e.pop()),i.b(" ")),i.b(" </ul> </div> "),i.s(i.f("show_pagination",e,t,1),e,t,0,1471,1712,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="static_pagination"> '),i.s(i.f("prev_page",e,t,1),e,t,0,1518,1592,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("prev_page",e,t,0))),i.b('" class="prev_page"> &laquo; Previous Page</a>')}),e.pop()),i.b(" "),i.s(i.f("next_page",e,t,1),e,t,0,1621,1690,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="?page='),i.b(i.v(i.f("next_page",e,t,0))),i.b('" class="next_page">Next Page &raquo;</a>')}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" "),i.s(i.f("hasMore",e,t,1),e,t,0,1745,1945,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="show_more_container"> <div class="show_more button large section-color" role="button"> <span class="label"> '),i.b(i.v(i.d("translations.show_more",e,t,0))),i.b(' </span> <span class="spinner"></span> </div> </div> ')}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.b(' <div class="modal-window"> <div class="modal-header"></div> <div class="modal-content"> '),i.b(i.t(i.f("imageViewList",e,t,0))),i.b(' <div class="arrows"> <div class="arrow-sizer prev"><span class="arrow-prev clicon" data-title="prev"></span></div> <div class="arrow-sizer next"><span class="arrow-next clicon" data-title="next"></span></div> </div> </div> <div class="modal-footer"> '),i.s(i.f("socialShare",e,t,1),e,t,0,2412,2428,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),i.b(' <span class="print"></span> <span class="image-count"><span class="current-count">1</span> '),i.b(i.v(i.d("translations.of",e,t,0))),i.b(" "),i.b(i.v(i.f("numImages",e,t,0))),i.b('</span> </div> <div class="loading-status"><span>'),i.b(i.v(i.d("translations.loading",e,t,0))),i.b('...</span></div> <div class="modal-info"> <h2 class="modal-title">'),i.b(i.v(i.f("gallery_title",e,t,0))),i.b('</h2> </div> <div class="modal-close clicon" data-title="close"></div> </div> <div class="modal-overlay"></div> </div> ')}),e.pop()),n.fl()}),Whiskers("modules.image_gallery.gallery_thumb",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<li class="gallery-item item thumb launches-modal '),n.s(n.f("active",e,t,1),e,t,0,61,67,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),n.b('" data-title="thumb" itemscope itemtype="http://schema.org/ImageObject"> <div class="center-crop"> <div class="img-aspect"> <a itemprop="contentURL" href="'),n.b(n.v(n.f("image_fog",e,t,0))),n.b('"> <img class="thumbnail-image" title="'),n.b(n.v(n.f("seo_title",e,t,0))),n.b('" alt="'),n.b(n.v(n.f("seoCaption",e,t,0))),n.b('" src="'),n.b(n.v(n.f("thumbnail_image_fog",e,t,0))),n.b('" itemprop="thumbnailUrl"> <div class="active-indicator"></div> </a> </div> <div class="zoom-overlay" '),n.s(n.f("touchDevice",e,t,1),e,t,0,467,484,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' ontouchstart=" "')}),e.pop()),n.b('> <div class="zoom-icon"></div> </div> </div> <meta itemprop="caption" content="'),n.b(n.v(n.f("caption",e,t,0))),n.b('"> <meta itemprop="name" content="'),n.b(n.v(n.f("seoTitle",e,t,0))),n.b('"> </li>'),n.fl()}),Whiskers("modules.image_gallery.image_gallery_slide",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<li class="content-container item-'),n.b(n.v(n.f("slide",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b("-"),n.b(n.v(n.f("index",e,t,0))),n.b(" "),n.b(n.v(n.f("type",e,t,0))),n.b('"> <div class="image-info"> '),n.s(n.f("caption",e,t,1),e,t,0,111,149,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="description">'),i.b(i.v(i.f("caption",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> <div class="gallery-image-sizer"> <img class="gallery-image"> </div> </li>'),n.fl()}),Whiskers("partials.style_overrides.modules.image_gallery",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("module_style_options",e,t,1),e,t,0,25,1521,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,38,950,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bg_color",e,t,1),e,t,0,52,419,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper:before, .module.image_gallery .content-wrapper:after{ border-left-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } @media screen and (max-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } } ")}),e.pop()),i.b(" "),i.s(i.f("desc_color",e,t,1),e,t,0,448,543,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .description{ color: "),i.b(i.v(i.f("desc_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("title_color",e,t,1),e,t,0,575,651,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .open-gallery{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("toggle_decal",e,t,1),e,t,0,685,792,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement:after{ background-position: 300% 100%; } ")}),e.pop()),i.b(" "),i.s(i.f("decal_opacity",e,t,1),e,t,0,828,931,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content-wrapper .bedazzlement:after{ opacity: "),i.b(i.v(i.f("decal_opacity",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("image_gallery",e,t,1),e,t,0,981,1502,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,994,1489,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("module_link_color",e,t,1),e,t,0,1017,1124,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .parent_page_link{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("module_link_hover_color",e,t,1),e,t,0,1175,1294,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .content_description .parent_page_link:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("image_count_color",e,t,1),e,t,0,1345,1466,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.image_gallery .gallery_external_links .gallery-meta .image-total p{ color: "),i.b(i.v(i.f("image_count_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.placeSwap=function(e,t){return t?(t.render(),void e.$("#"+t.cid).replaceWith(t.el)):function(t){t&&i(e,t)}};t.placeHtml=function(e){return e?'<div id="'+e.cid+'"></div>':null}}(this),function(e,t,i){"use strict";var n="swipeasaurus",s="."+n,o={effect:"slide",loop:!0,index:0,speed:300,delay:0},r=Math.abs,a=Math.min,l=e.setTimeout,c=e.clearTimeout,d=["Webkit","Moz","ms","O"],u=e.document.documentElement,h=function(e){var t,n=0;if(u.style[e]!==i)return e;for(t=e.charAt(0).toUpperCase()+e.substr(1);n<d.length;n++)if(u.style[d[n]+t]!==i)return d[n]+t},f=!!h("perspective"),p=!!h("transition"),v=!!h("transform"),m=(h("transform")||"transform").replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),b=function(){return(new Date).getTime()},g=function(e,i){return t("<span/>",{"class":e,title:i,role:"button",onclick:""})},_={slide:{c:{overflow:"hidden"},s:{opacity:1,transitionProperty:m+", visibility"},a:p&&v?function(e,t,i){i=i?i+"ms":"0ms";var n=r(t)<2;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(n?"0ms":i),visibility:n?"visible":"hidden",transform:f?"translate3d("+100*t+"%,0,0)":"translateX("+100*t+"%)"})}:function(e,t,i){var n=this,s=function(){e.css("left",100*(t*(1-n._r-n._l)+n._l)+"%")},o=e.width();i&&o?e.stop().css("left",e.position().left).animate({left:t*o+"px"},i,s):s()}},fade:{c:{overflow:""},s:{transform:"translate3d(0,0,0)",transitionProperty:"opacity, visibility"},a:p?function(e,t,i){i=i?i+"ms":"0";var n=r(t),s=1>n,o=.5>n;e.css({transitionDuration:i+", 0ms",transitionDelay:"0ms, "+(s?"0ms":i),visibility:s?"visible":"hidden",opacity:1-a(1,n),zIndex:o?1:0})}:function(e,t,i){var n=r(t),s=1>n;s&&e.css({visibility:"visible"}),e.stop().animate({opacity:1-a(1,n)},i,function(){s||e.css({visibility:"hidden"})})}}},y={scroll:function(){t(this.$el).scrollLeft(0)}},w=function(e,t){var i=e[t]||e.peek;return i>0&&.5>i?i:0},k=function(e,i){var n,o=this,r=o.$slides=e.children(),a=o.length=r.length,l=o._w=!!i.loop,c=o._l=w(i,"left"),d=o._r=w(i,"right"),u=1-c-d;o._s=+i.speed,o.index=i.index,o.$el=e,t.each(y,function(t,n){var r=e;"mouse"===t.substr(0,5)&&i.arrows&&(r=e.parent()),r.on(t+s,function(e){n.call(o,e)})}),r.on("focusin",function(){o.slide(t(this).index())}),i.dots&&a>1&&(n=r.map(function(e){return g("dot",e)[0]}),n.on("click",function(e){var i=t(e.currentTarget).index();o.slide(i)}),e.on("slide",function(e,t){n.removeClass("active").eq(t).addClass("active")}),e.after(t("<div/>",{"class":"dots","aria-hidden":"true"}).append(n))),t.each({prev:["Previous",0],next:["Next",a-1]},function(n,s){var r;i[n]?r=t(i[n]):i.arrows&&(r=e.siblings("."+n),!r.length&&a>1&&e.after(r=g(n,s[0]))),r&&(r.on("click",t.proxy(o[n],o)),l||e.on("slide",function(e,t){r.toggleClass("disabled",t===s[1])}))}),e.css({zIndex:1,position:"relative"}),r.each(function(e){t(this).css({display:"block",position:0===e?"relative":"absolute",width:100*u+"%",left:100*c+"%",top:0})}),o.effect(i.effect),o.start(i.delay)};k.prototype={_c:0,effect:function(e){var i=_[e]||o.effect;this._a=function(e,n){for(var s=0,o=this.length,r=this.$slides;o>s;++s)i.a.call(this,t(r[s]),s-e,n)},this.$el.css(i.c),this.$slides.css(i.s),this.slide(this.index,!0)},slide:function(e,t){var i=this,n=t?0:i._s;0>e&&(e=0),e>=i.length&&(e=i.length-1),i._c++&&i.index===e||(i.$el.trigger("slide",i.index=e),c(i._t),i._t=l(function(){i.$el.trigger("slideEnd",e)},n)),i._a(i.index,n),i.resume()},prev:function(){var e=this.index;0===e?this._w&&this.slide(this.length-1):this.slide(e-1)},next:function(){var e=this.index;e===this.length-1?this._w&&this.slide(0):this.slide(e+1)},resume:function(){var e=this;e.pause(),e._d>0&&(e._i=l(function(){t(e.$el).data(n)===e&&e.next()},e._d+e._s))},pause:function(){c(this._i)},start:function(e){this._d=e||this._d,this.resume()},stop:function(){this._d=0,this.pause()}},t.extend(y,e.Modernizr.touch?{touchstart:function(e){var t=e.originalEvent.touches;return t.length>1?y.touchcancel.call(this,e):void(this.touch={x:t[0].pageX,y:t[0].pageY,delta:0,dist:0,test:!0,time:b(),width:this.$el.width()})},touchmove:function(e){var t,i,n=this.touch,s=e.originalEvent.touches,o=this.index,a=this.length;if(n){if(t=s[0].pageX-n.x,n.dist+=r(t-n.delta),n.delta=t,n.test&&(i=s[0].pageY-n.y,n.test=!1,r(t)<r(i)))return y.touchcancel.call(this,e);e.preventDefault(),this.pause(),(0===o&&t>0||o===a-1&&0>t)&&(t/=r(t)/n.width+1),this._a(o-t/n.width)}},touchcancel:function(){this.touch=null,this.slide(this.index)},touchend:function(e){var t=this.touch,i=0;t&&((2*r(t.delta)>t.width||b()-t.time<250&&t.dist>20)&&(i=t.delta<0?1:-1),t.dist>20&&(e.preventDefault(),this.bust=b()),this.touch=null,this.slide(this.index+i))},click:function(e){this.bust&&b()-this.bust<250&&e.preventDefault()}}:{mouseenter:function(){this.pause()},mouseleave:function(){this.resume()}}),t.fn[n]=function(e){var i=arguments;return this.each(function(){var s,r=t(this);"string"==typeof e?(s=r.data(n),s[e].apply(s,Array.prototype.slice.call(i,1))):(e=t.extend({},o,e),r.data(n,new k(r,e)))})}}(this,jQuery),function(e){"use strict";var t=e.Disney,i=e.Math,n=e.jQuery;t.Style.fitToScreen=function(e){if(e){var t=e[0],s=t&&t.item,o=t.height/t.width||0,r=t.limitMax,a=e[1],l=e[2]&&e[2].height()||0,c=e[3],d=c&&c.height()||0,u=e[4]||.5,h=a.height(),f=h-l-d,p=a.width(),v=r?t.width:i.min(f/o,p),m=r?t.height:v*o,b=i.max(i.abs(f-m)*u,0),g=b+m;c.css({top:g}),s&&n(s).css({height:m,width:v,top:b})}}}(this),function(e){"use strict";var t=e.Grill,i=e.Disney,n=i.Style.breakpoints,s=e.Modernizr,o=e.Whiskers,r=e.Backbone,a=e.Tracker,l=e._,c=e.jQuery;t.ModuleView.register("image_gallery",{eventCategory:"SWImageGalleryModal",page:1,currentImage:0,currentSlide:0,resizeParams:{},adjacents:[],template:o.modules.image_gallery.image_gallery,events:{"click .modal-close":function(){this.closeModal()},"click .modal-overlay":function(){this.closeModal()},"click .banner_img, .open-gallery":function(e){e.preventDefault(),this.showImageAtIndex(0)},"click .gallery-item":function(e){e.preventDefault();var t=c(e.target).closest(".gallery-item").index(),i=t;this.showImageAtIndex(i)},"click .show_more_container":function(){this.loadMoreThumbs(),a&&this.cleanPageName&&a.page({pageName:this.cleanPageName+"_"+this.page})},"click .print":function(){e.print()}},initialize:function(){var e=this,i=this.model,n=l.first(i.get("data")),a=n.images;l.extend(this,{touchDevice:s.touch,allThumbs:a,numImages:a.length,modalImages:[],visibleThumbs:[],socialShare:i.collection&&i.collection.social_share_networks}),c.each(this.allThumbs,function(t,i){i.index=t,i.slide=e.modalImages.length,i.type="image",e.modalImages.push(i)}),this.numSlides=e.modalImages.length,this.modalCollection=new r.LazyCollection(this.modalImages),this.imageViewList=new t.ListView({className:"modal-slides",collection:this.modalCollection,template:{render:function(e){return l.extend(e,{imgSrc:function(){return r.Resize.width()<=568?this.get("mobile_image"):this.get("image")}}),o.modules.image_gallery.image_gallery_slide.render(e,{})}}}),this.shouldShowThumbnails()&&(this.updateVisibleThumbs(),this.thumbCollection=new r.LazyCollection(this.visibleThumbs),this.thumbViewList=new t.ListView({collection:this.thumbCollection,template:{render:function(e){return o.modules.image_gallery.gallery_thumb.render(e,{})}}})),c.each(this.imageViewList.views,function(e,t){t.printSrc=t.model.get("image")||null});var d=this.model.collection;d&&d.cto&&(this.cleanPageName=d.cto.pageName,d.cto.pageName+="_1",d.cto.breadcrumbs="image-gallery")},render:function(){var e=this.thumbViewList,t=this.imageViewList,n=this.deepLinkUrlForImageId(l.first(this.modalImages).id),s=encodeURIComponent(n),r=this.model.get("translations")||{},a={images:"Images"};l.defaults(r,a);var c=l.extend({numImages:this.numImages,hasMore:this.hasMore(),showThumbs:this.shouldShowThumbnails(),thumbViewList:i.placeHtml(e),imageViewList:i.placeHtml(t),translations:r,socialShare:this.socialShare,source:n,sourceEncoded:s},this.model);this.$el.html(this.template.render(c,{moduleStyles:o.partials.style_overrides.modules.image_gallery,socialShare:o.modules.shared_components.social_share})),i.placeSwap(this,e),i.placeSwap(this,t)},ready:function(){var t=this,n=this.slides=this.$(".modal-slides"),s=l.first(t.model.get("data")),o=s.images;n.swipeasaurus({arrows:!0,next:".arrow-next",prev:".arrow-prev",loop:!1,speed:500}),this.$(".content-container").css("visibility","hidden"),n.on("slide",function(e,i){t.onSlide(i)}),this.updateButton(!1),c("body").addClass(this.hoverClass),c("html").addClass("single-page-print");var r=27,a=37,d=39;c(e.document).keyup(function(e){switch(e.keyCode){case r:c(".modal-window .modal-close").trigger("click");break;case a:n.swipeasaurus("prev");break;case d:n.swipeasaurus("next")}}),this.socialShare&&this.socialShare.facebook&&i.Social.init("facebook");var u=e.location.search.substring(1);if(u.indexOf("dlid")>-1){var h=u.split("dlid=")[1].split("&")[0],f=-1;c.each(o,function(e,t){return t.id===h?(f=e,!1):void 0}),f>=0&&this.showImageAtIndex(f)}},showImageAtIndex:function(t){var i=this.model.get("cto"),n=this.viewForIndex(t),s=this.$(".modal-slides"),o=this.$(".modal-window");if(o.addClass("first-shown"),s.swipeasaurus("effect","fade"),this.onSlide(t),s.swipeasaurus("slide",t),s.swipeasaurus("effect","slide"),!o.hasClass("modal-show")){o.addClass("modal-show");var r={engagementMeta:i&&i.slug,engagementType:this.eventCategory+"_show",eventCategory:this.eventCategory,action:"show"};e.cto.trackEvent(r)}n.$el.css("visibility","visible")},dimensions:function(){var e=r.Resize.width(),t=e>=n.max?"desktop":e>=n.midHigh?"tablet":"mobile",i={desktop:4,tablet:3,mobile:2},s={desktop:3,tablet:3,mobile:3},o={cols:i[t],rows:s[t]};return o},numPerBatch:function(){return this.dimensions().rows*this.dimensions().cols},bindResize:function(t){var n=this,s=n.fetchAdjacents(),o=function(){i.Style.fitToScreen(n.fetchResizeParams(t)),s.length>0&&c(s).each(function(e,t){i.Style.fitToScreen(n.fetchResizeParams(t))})};c(e).on("resize."+this.cid+"slide"+t,l.debounce(o,100))},unbindResize:function(t){c(e).off("resize."+this.cid+"slide"+t)},setResizeParams:function(e,t){var i=t.$el,n=this.$(".modal-window"),s=this.$(".modal-header"),o=i.find(".image-info"),r=.46,a="item"+t.model.get("slide");return this.resizeParams[a]=[e,n,s,o,r],this.resizeParams[a]},fetchResizeParams:function(e){return this.resizeParams["item"+e]},fetchAdjacents:function(){return this.adjacents},itemLoaded:function(e){var t=!1;if(!e.model.get("ad")){var i=e.$el.find("img")[0];t=i&&!!i.src}return t},preloadItem:function(t){var i=this,n=t.model,s=r.Resize.width()<=568?n.get("mobile_image"):n.get("image"),o=new e.Image;o.className="gallery-image",o.src=s,o.complete?i.insertNewItem(t,o):c(o).on("load",function(){i.insertNewItem(t,o)})},insertNewItem:function(e,t){var i,n=e.$el.find("img")[0]||null;n&&t&&c(n).replaceWith(t),i=t,this.sizeItem(i,e),this.$(".modal-window").removeClass("loading")},onSlide:function(t){var n=this,s=this.$(".modal-window"),o=this.viewForIndex(t),r=o.model,d=t<this.numSlides-1?t+1:null,u=t>0?t-1:null,h={next:d,prev:u};n.itemLoaded(o)||(this.preloadItem(o),s.addClass("loading")),this.unbindResize(this.currentSlide),this.bindResize(t),this.adjacents=h,l.extend(this,{currentImage:r.get("index"),currentSlide:t,currentView:o}),this.$(".current").removeClass("current"),o.$el.addClass("current"),this.currentImage>=this.visibleThumbs.length&&this.loadMoreThumbs(),c.each(h,function(e,t){if(t){var s=n.viewForIndex(t);n.itemLoaded(s)?i.Style.fitToScreen(n.fetchResizeParams(t)):n.preloadItem(s)}}),this.setNewText(o),this.insertPrintData(o),this.updateFacebookUrl(o),this.updateTwitterUrl(o),this.updateGooglePlusUrl(o),o.$el.css("visibility","visible"),o.$el.css("opacity",1),s.hasClass("first-shown")&&e.setTimeout(function(){n.$(".modal-window").removeClass("first-shown")},800),i.Style.fitToScreen(n.fetchResizeParams(t)),a&&this.cleanPageName&&a.page({pageName:this.cleanPageName})},setNewText:function(e){var t=parseInt(e.model.get("index"),10),i=this.fetchAdjacents().next,n=this.fetchAdjacents().prev,s=i?this.viewForIndex(i).model:e.model,o=n?this.viewForIndex(n).model:e.model;this.$(".modal-window .current-count").html(t+1),this.$(".modal-window .arrow-prev").data({currentitem:i?s.get("index"):this.numSlides,viewtype:s.get("type")}),this.$(".modal-window .arrow-next").data({currentitem:n?o.get("index"):0,viewtype:o.get("type")})},updateFacebookUrl:function(e){var t=this.$(".modal-window"),i=e.model.get("id"),n=this.deepLinkUrlForImageId(i);t.find(".social-share.facebook").data("share-url",n)},updateTwitterUrl:function(e){var t=this.$(".modal-window"),i=e.model.get("id"),n=this.deepLinkUrlForImageId(i),s=encodeURIComponent(n),o=t.find(".social-share.twitter");if(o.length){var r=o.data("href").replace(/url=[^&]*/,"url="+s);o.data("href",r)}},updateGooglePlusUrl:function(e){var t=this.$(".modal-window"),i=e.model.get("id"),n=this.deepLinkUrlForImageId(i),s=encodeURIComponent(n),o=t.find(".social-share.google_plus");if(o.length){var r=o.data("href").replace(/url=[^&]*/,"url="+s);o.data("href",r)}},deepLinkUrlForImageId:function(e){var t=l.first(this.model.get("data")).href,i=t.indexOf("?")>=0?"&":"?",n="dlid="+e;return t+i+n},galleryStyle:function(){var e=this.model.get("schema_json")||{},t=e.gallery_style||"thumbnail_grid";return t},sizeItem:function(t,n){var s,o,r,a=new e.Image;a.src=t.src,s=a.height,o=a.width,r=!1;var l={height:s,width:o,limitMax:r,item:t};n.aspectRatio=s/o,i.Style.fitToScreen(this.setResizeParams(l,n))},closeModal:function(){var t=this.model.get("cto"),i={engagementMeta:t&&t.slug,engagementType:this.eventCategory+"_hide",eventCategory:this.eventCategory,action:"hide"};this.$(".modal-window .modal-close").data("currentitem",this.currentImage),this.$(".modal-window").removeClass("modal-show loading"),this.$(".gallery-item.active").removeClass("active"),this.$(".content-container").css("visibility","hidden"),this.updateThumbnailActiveState(),this.unbindResize(this.currentSlide),e.cto.trackEvent(i)},updateThumbnailActiveState:function(){var t=this;this.shouldShowThumbnails()&&(this.thumbViewList.collection.at(t.currentImage).set("active",!0),e.setTimeout(function(){t.thumbViewList.collection.at(t.currentImage).set("active",!1)},1200))},shouldShowThumbnails:function(){return"thumbnail_grid"===this.galleryStyle()},updateButton:function(e){this.$el.toggleClass("loading",e).toggleClass("has-more",this.hasMore())},hasMore:function(){return this.page*this.numPerBatch()<this.numImages},loadMoreThumbs:function(){this.shouldShowThumbnails()&&(this.page++,this.updateButton(!0),this.updateVisibleThumbs(),this.thumbViewList.collection.add(this.visibleThumbs),this.updateButton(!1))},updateVisibleThumbs:function(){this.visibleThumbs=this.allThumbs.slice(0,this.page*this.numPerBatch())},viewForIndex:function(e){return this.imageViewList.views[e]},remove:function(){this.unbindResize(this.currentSlide),c("body").removeClass(this.hoverClass),c("html").removeClass("single-page-print"),t.ModuleView.prototype.remove.call(this)},insertPrintData:function(e){var t=c("#print-image img")[0],i=e.printSrc,n=e.model.get("caption");t&&(t.src=i),c("#print-image .caption").html(n)}})}(this),Whiskers("modules.rich_image",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("image",e,t,1),e,t,0,10,329,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> '),i.s(i.f("header_data",e,t,1),e,t,0,47,65,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),i.b(" "),i.s(i.f("data",e,t,1),e,t,0,91,178,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,144,160,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),i.b(' <img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" class="'),i.b(i.v(i.d("schema_json.height_class",e,t,0))),i.b(" "),i.b(i.v(i.d("schema_json.mobile_height_class",e,t,0))),i.b('"> '),i.s(i.f("data",e,t,1),e,t,0,308,312,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </div> ")}),e.pop()),n.fl()}),Whiskers("modules.flex_image",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound image-'),n.b(n.v(n.d("schema_json.image_alignment",e,t,0))),n.b('"> '),n.s(n.f("header_data",e,t,1),e,t,0,74,92,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,118,205,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("target_blank",e,t,1),e,t,0,171,187,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' target="_blank"')}),e.pop()),i.b(">")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image_data",e,t,1),e,t,0,264,487,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("wide",e,t,1),e,t,0,274,367,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("desktop",e,t,1),e,t,0,286,355,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width='),i.b(i.v(i.f("width",e,t,0))),i.b(" height="),i.b(i.v(i.f("height",e,t,0))),i.b(">")}),e.pop())}),e.pop()),i.b(" "),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.s(i.f("mobile",e,t,1),e,t,0,397,466,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("src",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("title",e,t,0))),i.b('" width='),i.b(i.v(i.f("width",e,t,0))),i.b(" height="),i.b(i.v(i.f("height",e,t,0))),i.b(">")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image_data",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.d("schema_json.image_assets",e,t,1),e,t,0,583,654,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <img src="'),i.s(i.f("wide",e,t,1),e,t,0,603,614,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("desktop",e,t,0)))}),e.pop()),i.s(i.f("wide",e,t,1),e,t,1,0,0,"")||i.b(i.v(i.f("mobile",e,t,0))),i.b('"> ')}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,709,713,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=i.midHigh.toString(),s=e.Grill,o=e.Math,r=e.Whiskers,a=e.Backbone,l=e._,c=e.devicePixelRatio>1.5,d=s.ModuleView.extend({breakpoints:n,className:"module image_module",included_components:{module_header:r.modules.shared_components.module_header},load:function(){var e=this.model.get("cto"),t=e&&e.slug;this.$el.attr("data-slug",t)}});d.register("rich_image",{className:"module image_module full-height",template:r.modules.rich_image,render:function(){var e=a.Resize.width()>=i.midHigh,t=this,n=l.first(this.model.get("data")),s=t.model.get("style").images.foreground_image,o=null;if(s){var r=c&&s.retina_url?s.retina_url:s.url,d=c&&s.mobile_retina_url?s.mobile_retina_url:s.mobile_url?s.mobile_url:null;o=e?r:d}var u=l.extend({image:o?o:null,data:n?n:null},this.model);this.$el.html(this.template.render(u,this.included_components))}}),d.register("flex_image",{template:r.modules.flex_image,initialize:function(){var e=this.model.get("schema_json"),i=e&&e.image_assets;if(i){var n=["desktop","mobile"],s={};l.each(n,function(e){var n=i[e];if(n){var r=t.LumiereHelpers.nativeSize(n),a=o.ceil(r.height/2),l=o.ceil(r.width/2);s[e]={src:c?n:n+"&width="+l,height:a,width:l}}}),this.model.set("image_data",s)}},render:function(){var e=l.extend({wide:a.Resize.width()>=i.midHigh},this.model);this.$el.html(this.template.render(e,this.included_components))}})}(this),function(e){"use strict";var t=e.Disney;t.Utilities={stripQuery:function(e){return e.split("?")[0]},alog:function(t,i){e.console.log("**************************"),e.console.log(i),e.console.log(t),e.console.log("**************************")}}}(this),Whiskers("modules.links_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound '),n.s(n.f("section_class",e,t,1),e,t,0,36,61,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("section_class",e,t,0))),i.b("-content")}),e.pop()),n.b('"> <div class="module_header has-list"> '),n.s(n.f("hasTitle",e,t,1),e,t,0,132,293,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="module_title"> '),i.s(i.f("isPPN",e,t,1),e,t,0,171,186,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("linkHeading",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("isPPN",e,t,1),e,t,1,0,0,"")||i.s(i.d("header_data.title",e,t,1),e,t,0,229,252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" </span> ")}),e.pop()),n.b(" "),n.s(n.f("seeAll",e,t,1),e,t,0,318,461,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="header-divider module_title">//</span> <a class="see-all underline section-color" href="'),i.b(i.v(i.f("seeAll",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.see_all",e,t,0))),i.b("</a> ")}),e.pop()),n.b(" "),n.s(n.f("data",e,t,1),e,t,0,482,752,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <ul class="links-container"> '),i.s(i.f("pn_links",e,t,1),e,t,0,525,732,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="'),i.s(i.f("href",e,t,1),e,t,0,545,563,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("underline has-link")}),e.pop()),i.s(i.f("active",e,t,1),e,t,0,583,590,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"><span><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('" title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,654,675,"{{ }}")&&(i.rs(e,t,function(e,t,i){
i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),i.b(' class="section-color">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></span></li>")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),Whiskers("modules.links_dropdown",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound'),n.s(n.f("section_class",e,t,1),e,t,0,35,61,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("section_class",e,t,0))),i.b("-content")}),e.pop()),n.b('"> <div class="module_header has-list has-dropdown'),n.s(n.f("maxLinks",e,t,1),e,t,0,142,152,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" max-links")}),e.pop()),n.b('"> '),n.s(n.d("header_data.title",e,t,1),e,t,0,190,295,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <span class="module_title"> '),i.s(i.d("header_data.title",e,t,1),e,t,0,241,264,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.t(i.d("header_data.title",e,t,0)))}),e.pop()),i.b(" </span> ")}),e.pop()),n.b(' <div class="category-container"> <span class="module_title"> '),n.s(n.f("currTitle",e,t,1),e,t,0,393,406,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("currTitle",e,t,0)))}),e.pop()),n.b(" "),n.s(n.f("currTitle",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.default_text",e,t,0))),n.b(' </span> <span class="drop-expand"></span> </div> '),n.s(n.f("data",e,t,1),e,t,0,537,788,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <ul class="drop-container"> '),i.s(i.f("pn_links",e,t,1),e,t,0,579,768,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<li class="'),i.s(i.f("href",e,t,1),e,t,0,599,617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("underline has-link")}),e.pop()),i.s(i.f("active",e,t,1),e,t,0,637,644,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" active")}),e.pop()),i.b('"><span><a href="'),i.b(i.v(i.f("href",e,t,0))),i.b('"'),i.s(i.f("ping",e,t,1),e,t,0,690,711,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),i.b(' class="section-color">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a></span></li>")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Utilities,n=e.Grill,s=e.Whiskers,o=e._,r=n.ModuleView.extend({render:function(){var t,n,s=i.stripQuery(e.location.href),r=this.model.get("data"),a=o.first(r),l=a.pn_links||r,c=!!a.pn_links;"propertynav"===this.model.get("type")&&(t=a.title),o.each(l,function(e){i.stripQuery(e.href)===s&&(n=e.title,e.active=!0)});var d=o.extend({linkHeading:t,pn_links:l,isPPN:c,hasTitle:c||!!this.model.get("title"),section_class:l[0].section_class,currTitle:n,maxLinks:a.pn_links?a.pn_links.length>10:0},this.model.get("translations"),this.model);this.$el.html(this.template.render(d,{}))}});r.register("links_list",{template:s.modules.links_list}),r.register("links_dropdown",{className:"module flush-footer",template:s.modules.links_dropdown,events:{"click .has-dropdown .category-container":function(){this.$(".has-dropdown").toggleClass("active")}}})}(this),Whiskers("modules.play",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,943,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="game_wrapper"> <div class="bun_game '),i.b(i.v(i.f("createClass",e,t,0))),i.b('"> <div id="game_container_outer" class="inverted"> <noscript> <div class="player_error">'),i.b(i.v(i.f("no_javascript",e,t,0))),i.b('</div> </noscript> <div itemscope itemtype="http://schema.org/WebApplication"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("desc",e,t,0))),i.b('"> <meta itemprop="url" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> <meta itemprop="image" content="'),i.b(i.v(i.f("square",e,t,0))),i.b('"> <meta itemprop="applicationCategory" content="'),i.b(i.v(i.f("type",e,t,0))),i.b('"> <meta itemprop="applicationSubCategory" content="'),i.b(i.v(i.f("genres",e,t,0))),i.b(" "),i.b(i.v(i.f("type",e,t,0))),i.b('"> <div id="game_container" class="inverted"> <div id=\'StarWarsGame-'),i.b(i.v(i.f("id",e,t,0))),i.b("' contentid='"),i.b(i.v(i.f("id",e,t,0))),i.b('\'></div> </div> <div class="game_container_error"> <div class="orphan"><p class="message"></p></div> </div> </div> </div> </div> </div> <div class="content-metadata-container"> <div class="bedazzlement"></div> '),i.b(' <div id="meta"></div> </div> </div> ')}),e.pop()),n.fl()}),Whiskers("modules.shared_components.content_metadata",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div id="toolbar"> <div id="metadata"> <div class="module_body"> <div class="contentarea col-container"> <div class="content"> <div class="item"> <div class="productlink"> <h1>'),n.b(n.v(n.f("title",e,t,0))),n.b("</h1> "),n.s(n.f("contentMetadataTitleLink",e,t,1),e,t,0,220,253,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a href="'),i.b(i.v(i.f("url",e,t,0))),i.b('">'),i.b(i.v(i.f("title",e,t,0))),i.b("</a> ")}),e.pop()),n.b(' </div> <p itemprop="description">'),n.b(n.v(n.f("description",e,t,0))),n.b(n.v(n.f("rating",e,t,0))),n.b('</p> </div> </div> </div> </div> </div> </div> <div class="social-share-container"> '),n.b(n.rp("socialShare",e,t,"")),n.b(" "),n.s(n.f("shareUtility",e,t,1),e,t,0,459,476,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("shareUtility",e,t,""))}),e.pop()),n.b(" </div>"),n.fl()}),Whiskers("modules.shared_components.share_utility",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="social-share social-dropdown-btn '),n.b(n.v(n.f("share_type",e,t,0))),n.b('"> <div class="label" role="button"> <span class="social-icon '),n.b(n.v(n.f("share_type",e,t,0))),n.b('-icon"></span> <span>'),n.b(n.v(n.f("share_text",e,t,0))),n.b('</span> </div> <!-- dropdown area --> <div class="dropdown-panel"> <span class="dropdown-label">'),n.b(n.v(n.f("output_label",e,t,0))),n.b(':</span> <textarea rows="1" class="text-output">'),n.b(n.v(n.f("textarea_value",e,t,0))),n.b("</textarea> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.jQuery,s=e._,o=e.Whiskers;t.ContentMetadataView=i.View.extend({initialize:function(e){if(this.options=e||{},this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.render(),this.socialShare){var i=this.socialShare;i.facebook&&t.Social.init("facebook"),i.google_plus&&t.Social.init("google")}},render:function(){var t=s.first(this.model.get("data")),i=this.options.shareUtility;if(i){var n=e.location,r="http://"+n.host+"/embed/"+t.id,a='<iframe width="560" height="315" src="'+r+'" frameborder="0" allowfullscreen scrolling="no"></iframe><br/><a href="'+n.href+'">'+t.title+" on Disney Video</a>";s.each(i,function(e){switch(e.share_type){case"embed":e.textarea_value=a;break;case"share":e.textarea_value=n.href}})}var l=s.extend({socialShare:this.socialShare,content_id:t.id,shareUtility:i,source:t.href,sourceEncoded:encodeURIComponent(t.href),titleEncoded:encodeURIComponent(t.title)},t);this.$el.html(o.modules.shared_components.content_metadata.render(l,{socialShare:o.modules.shared_components.social_share,shareUtility:o.modules.shared_components.share_utility}))},remove:function(){n("body").off("click.watch"),n("#sharing").appendTo("body").remove()}})}(this),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=[i.midHigh,i.max],s=e.Grill,o=e.Backbone,r=e.Modernizr,a=e._,l=e.Whiskers,c=!1,d=!1,u=null,h=null,f=function(t){var i=e.onerror,n=e.console;n&&n.error&&n.error(t.stack||t.toString()),i&&i(t.toString())};s.ModuleView.register("play",{breakpoints:n.join(" "),template:l.modules.play,tabletSize:768,isMobile:r.mobile,assets:{scripts:["https://lumiere-a.akamaihd.net/v1/game_container/js/disneygames.js"]},render:function(){var t=a.first(this.model.get("data"));this.gameType=t.game_type,this.gameData={wmode:"transparent"},e.disneyGames.processConfig(t.game_data,this.gameData);var i=a.extend({},this.model.get("translations"),this.model);this.$el.html(this.template.render(i))},hideAllMessages:function(){this.$(".game_container_error").hide()},resize:function(){d?(this.$(".game_container_error").show(),this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(u)):this.isMobile||(this.$(".game_container_error").hide(),this.handleGameContainerShowHide(o.Resize.width()>=this.tabletSize))},handleGameContainerShowHide:function(t){var i=e.disneyGames;t?(c===!1?this.loadGameContainer():i.showGame(),this.$("#game_container").show(),this.$(".bun_game").removeClass("error_holder"),this.$(".game_container_error").hide()):(this.$(".bun_game").addClass("error_holder"),this.$(".game_container_error p.message").html(this.model.get("translations").too_small),this.$(".game_container_error").show(),c===!0&&i.hideGame(),this.$("#game_container").hide())},loadGameContainer:function(){var t=e.disneyGames,i=this.model.get("data")[0].id;c=!0,e.disneyGamesCommunication.addMessageListener(a.bind(this.handleMessage,this));var n={elementId:"StarWarsGame-"+i,contentId:this.getContentId(),gameData:this.gameData,iframePath:"/games/syndication/iframeGame.html"};t.addGame(n)},getContentId:function(){var e;return e=this.model.get("data")[0].go_pub_id?this.model.get("data")[0].go_pub_id:this.model.get("data")[0].id},handleMessage:function(t){var i=e.disneyGames,n=this.model.get("translations"),s={unsupportedDevice:"ios",flashFailed:"no_flash",gameNotFound:"game_not_found",installUnity:"install_unity",notAuthorizedToHostGame:"not_authorized_to_host_game",unsupportedBrowser:"unsupported_browser"};switch(t){case"startGame":o.Resize.width()<=this.tabletSize&&!this.isMobile&&h.resize();break;case"unsupportedDevice":case"flashFailed":case"gameNotFound":case"installUnity":case"notAuthorizedToHostGame":case"unsupportedBrowser":u=n[s[t]],d=!0,h.resize(),this.$("#game_container").hide(),c===!0&&i.hideGame();break;case"HTML5Works":this.$(".bun_game").css("padding","0")}},ready:function(){var e=this,i=e.model.get("translations");h=e,d=!1,u=null,new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:[{share_type:"share",share_text:i.share,output_label:i.quick_link}]}),c===!1&&this.loadGameContainer(),this.hideAllMessages(),this.resize()},remove:function(){try{e.disneyGamesCommunication.clearMessageListeners()}catch(t){f(t)}try{e.disneyGames.removeGame()}catch(t){f(t)}s.BunView.prototype.remove.call(this),c=!1}})}(this),function(e){"use strict";function t(){return n()||i("ctoVisitor","visitorId")||i("ctoLocalVisitor","localVisitorId")}function i(e,t){var i=o.get(e),n=JSON.parse(r(i||"{}"));return n[t]}function n(){var t=e.location.search,i=new RegExp(a+"=([^&]*)"),n=i.exec(t);return n?n[1]:null}var s=e.Disney,o=s.Cookie,r=e.decodeURIComponent,a="visitor_id";s.visitorId=t}(this),Whiskers("modules.poll",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="matches '),n.s(n.f("activePolls",e,t,1),e,t,0,107,113,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("active")}),e.pop()),n.b('"> '),n.s(n.f("activePolls",e,t,1),e,t,0,148,756,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("polls",e,t,1),e,t,0,159,745,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,166,738,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,173,731,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("active",e,t,1),e,t,0,185,719,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-round="'),i.b(i.v(i.f("round",e,t,0))),i.b('" data-title="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <div class="share-icon"></div> <div class="aspect"> <img src="'),i.b(i.v(i.d("image_poll.image_poll",e,t,0))),i.b('"> <div class="overlay"></div> </div><!-- .aspect --> '),i.s(i.f("voting_choices",e,t,1),e,t,0,429,677,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="option"> <span class="option-data" style="hidden" data-identifier="'),i.b(i.v(i.f("identifier",e,t,0))),i.b('" data-text="'),i.b(i.v(i.f("text",e,t,0))),i.b('" data-logo="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> </span> <span class="score">'),i.b(i.v(i.f("percentage",e,t,0))),i.b('%</span> <span class="name">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> </div><!-- .option --> ")}),e.pop()),i.b(" </div><!-- .match --> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" "),n.s(n.f("activePolls",e,t,1),e,t,1,0,0,"")||n.b(" <p>Sorry, there are no current match ups. </p> "),n.b(' </div><!-- .matchs --> <div class="sw-bracket"> <div class="bracket-header"> <div class="next"> <div class="arrow-right"></div> </div><!-- .next --> <div class="prev"> <div class="arrow-left"></div> </div><!-- .prev --> <div class="navigation"> <ul class="bracket-top-slider cs-hidden"> '),n.s(n.f("bracketRoundTitles",e,t,1),e,t,0,1164,1265,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class="round"> <div class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</div> <div class="desc">'),i.b(i.v(i.f("description",e,t,0))),i.b("</div> </li> ")}),e.pop()),n.b(' </ul> </div> <div class="content"> <ul class="bracket-content-slider cs-hidden"> '),n.s(n.f("polls",e,t,1),e,t,0,1380,2310,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li class="round"> '),i.s(i.d(".",e,t,1),e,t,0,1406,2297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match-container"> <div class="separator"> <div class="line"></div> </div> '),i.s(i.d(".",e,t,1),e,t,0,1499,2283,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="match '),i.s(i.f("state",e,t,1),e,t,0,1528,1537,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("state",e,t,0)))}),e.pop()),i.b('" data-status="'),i.s(i.f("state",e,t,1),e,t,0,1572,1581,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("state",e,t,0)))}),e.pop()),i.b('" data-pollid="'),i.b(i.v(i.f("id",e,t,0))),i.b('" > <div class="inner"> <div class="aspect"> <img class="active" src="'),i.b(i.v(i.d("image_poll.image_poll",e,t,0))),i.b('"> '),i.s(i.f("voting_choices",e,t,1),e,t,0,1729,1970,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("winner",e,t,1),e,t,0,1741,1862,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <img class="option winner" src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"/> <span class="score">WINNER</span> <span class="name winner">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> ")}),e.pop()),i.b(" "),i.s(i.f("winner",e,t,1),e,t,1,0,0,"")||(i.b(' <img class="option" src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"/> <span class="name">'),i.b(i.v(i.f("text",e,t,0))),i.b("</span> ")),i.b(" ")}),e.pop()),i.b(' <div class="overlay"></div> </div> '),i.s(i.f("inactive",e,t,1),e,t,0,2038,2255,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="caption"> <span>VOTING STARTS</span> <span> '),i.s(i.f("voting_start_time_local",e,t,1),e,t,0,2123,2150,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("voting_start_time_local",e,t,0)))}),e.pop()),i.b(" "),i.s(i.f("voting_start_time_local",e,t,1),e,t,1,0,0,"")||i.b("SOON"),i.b(" </span> </div> ")}),e.pop()),i.b(" </div> </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(" </li> ")}),e.pop()),n.b(' </ul> </div> <!-- . content --> </div><!-- .bracket-header --> </div><!-- .sw-bracket --> <div id="sw-poll-modal"> <div class="close"></div> <div class="modal-content"> '),n.s(n.f("polls",e,t,1),e,t,0,2500,3371,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,2507,3364,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.d(".",e,t,1),e,t,0,2514,3357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("active",e,t,1),e,t,0,2526,3345,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="options-section" data-id="'),i.b(i.v(i.f("id",e,t,0))),i.b('" data-poll-name="'),i.b(i.v(i.f("title",e,t,0))),i.b('" style="display: none;"> <h1 class="modal-title"> VOTE NOW </h1> <div class="options"> '),i.s(i.f("voting_choices",e,t,1),e,t,0,2705,3026,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="option" data-id="'),i.b(i.v(i.f("identifier",e,t,0))),i.b('" data-percentage="'),i.b(i.v(i.f("percentage",e,t,0))),i.b('" data-name="'),i.b(i.v(i.f("text",e,t,0))),i.b('" data-imgurl="'),i.b(i.v(i.f("logo",e,t,0))),i.b('"> <div class="aspect"> <img src="'),i.b(i.v(i.f("logo",e,t,0))),i.b('" alt="'),i.b(i.v(i.f("text",e,t,0))),i.b('" /> <span class="title">'),i.b(i.v(i.f("text",e,t,0))),i.b('</span> <span class="icon"></span> <div class="overlay"></div> </div><!-- .aspect ---> </div><!-- .option --> ')}),e.pop()),i.b(" </div><!-- .options --> "),i.s(i.f("commentary",e,t,1),e,t,0,3085,3297,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="commentary"> <div class="thumb" style="background-image: url('),i.b(i.v(i.d("image.image",e,t,0))),i.b(');"></div> <h2 class="title"> '),i.b(i.v(i.f("title",e,t,0))),i.b(' </h2> <div class="description"> '),i.b(i.t(i.f("description",e,t,0))),i.b(" </div> </div><!-- .comentary --> ")}),e.pop()),i.b(" </div><!-- .options-section --> ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' <div class="options-section recap" style="display: none;"> <h1 class="modal-title"> RECAP </h1> <div class="options"> <div class="option option1"> <div class="aspect"> <img src=""> <span class="winner" style="display: none;">Winner</span> <span class="score"></span> <span class="title"></span> </div><!-- .aspect ---> </div><!-- .option --> <div class="option option2"> <div class="aspect"> <img src=""> <span class="winner" style="display: none;">Winner</span> <span class="score"></span> <span class="title"></span> </div><!-- .aspect ---> </div><!-- .option --> </div><!-- .options --> <div class="commentary"> <div class="thumb" style=""></div> <h2 class="title"></h2> <div class="description"></div> </div><!-- .comentary --> </div> <div class="bs-social social" style="display: none;"> <div class="desc"> Share on</div> '),n.s(n.f("socialShare",e,t,1),e,t,0,4225,4241,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("socialShare",e,t,""))}),e.pop()),n.b(' <div class="continue-btn"> <button class="modal-continue-btn btn" type="button" name="button">continue</button> </div> </div><!-- .bs-social --> </div><!-- .modal-content --> </div><!-- .sw-poll-modal --> </div><!-- .bounds -->'),n.fl()}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var s,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" aria-required="false" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,s=e(t).data("slick")||{},o.options=e.extend({},o.defaults,n,s),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,"undefined"!=typeof document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.changeSlide=e.proxy(o.changeSlide,o),o.clickHandler=e.proxy(o.clickHandler,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):n?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):n===!0?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(t=-t),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),s.options.vertical===!1?(n[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(s.applyTransition(),t=Math.ceil(t),s.options.vertical===!1?n[s.animType]="translate3d("+t+"px, 0px, 0px)":n[s.animType]="translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,s,o,r,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),a.options.rows>1){for(r=a.options.slidesPerRow*a.options.rows,s=Math.ceil(o.length/r),e=0;s>e;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var c=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var d=e*r+(t*a.options.slidesPerRow+i);o.get(d)&&c.appendChild(o.get(d))}l.appendChild(c)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,s,o,r=this,a=!1,l=r.$slider.width(),c=window.innerWidth||e(window).width();if("window"===r.respondTo?o=c:"slider"===r.respondTo?o=l:"min"===r.respondTo&&(o=Math.min(c,l)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){s=null;for(n in r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(r.originalSettings.mobileFirst===!1?o<r.breakpoints[n]&&(s=r.breakpoints[n]):o>r.breakpoints[n]&&(s=r.breakpoints[n]));null!==s?null!==r.activeBreakpoint?(s!==r.activeBreakpoint||i)&&(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=e.extend({},r.originalSettings,r.breakpointSettings[s]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),a=s):(r.activeBreakpoint=s,"unslick"===r.breakpointSettings[s]?r.unslick(s):(r.options=e.extend({},r.originalSettings,r.breakpointSettings[s]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),a=s):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t),a=s),t||a===!1||r.$slider.trigger("breakpoint",[r,a])}},t.prototype.changeSlide=function(t,i){var n,s,o,r=this,a=e(t.currentTarget);switch(a.is("a")&&t.preventDefault(),a.is("li")||(a=a.closest("li")),o=r.slideCount%r.options.slidesToScroll!==0,n=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":s=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,i);break;case"next":s=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||a.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=i;break}i=t[s]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){
var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},t.prototype.getLeft=function(e){var t,i,n,s=this,o=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=i*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,o=(s.options.slidesToShow-(e-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,o=s.slideCount%s.options.slidesToScroll*i*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,o=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,o=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=s.options.vertical===!1?e*s.slideWidth*-1+s.slideOffset:e*i*-1+o,s.options.variableWidth===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,s.options.centerMode===!0&&(n=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=s.options.rtl===!0?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(s.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,s=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)s.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return s},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,s=this;return n=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(t,o){return o.offsetLeft-n+e(o).outerWidth()/2>-1*s.swipeLeft?(i=o,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,t])})},n.src=i})}var i,n,s,o,r=this;r.options.centerMode===!0?r.options.infinite===!0?(s=r.currentSlide+(r.options.slidesToShow/2+1),o=s+r.options.slidesToShow+2):(s=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),o=2+(r.options.slidesToShow/2+1)+r.currentSlide):(s=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,o=Math.ceil(s+r.options.slidesToShow),r.options.fade===!0&&(s>0&&s--,o<=r.slideCount&&o++)),i=r.$slider.find(".slick-slide").slice(s,o),t(i),r.slideCount<=r.options.slidesToShow?(n=r.$slider.find(".slick-slide"),t(n)):r.currentSlide>=r.slideCount-r.options.slidesToShow?(n=r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow),t(n)):0===r.currentSlide&&(n=r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(){var t,i,n=this;t=e("img[data-lazy]",n.$slider).length,t>0&&(i=e("img[data-lazy]",n.$slider).first(),i.attr("src",null),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad(),n.options.adaptiveHeight===!0&&n.setPosition()}).error(function(){i.removeAttr("data-lazy"),n.progressiveLazyLoad()}))},t.prototype.refresh=function(t){var i,n,s=this;n=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>n&&(s.currentSlide=n),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),i=s.currentSlide,s.destroy(!0),e.extend(s,s.initials,{currentSlide:i}),s.init(),t||s.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,s=this,o=s.options.responsive||null;if("array"===e.type(o)&&o.length){s.respondTo=s.options.respondTo||"window";for(t in o)if(n=s.breakpoints.length-1,i=o[t].breakpoint,o.hasOwnProperty(t)){for(;n>=0;)s.breakpoints[n]&&s.breakpoints[n]===i&&s.breakpoints.splice(n,1),n--;s.breakpoints.push(i),s.breakpointSettings[i]=o[t].settings}s.breakpoints.sort(function(e,t){return s.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,n.slideCount<1||0>e||e>n.slideCount-1?!1:(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,s={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",s[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(s):(s={},n.cssTransitions===!1?(s[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,s){t=i.slideWidth*n*-1,i.options.rtl===!0?e(s).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(s).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,s,o,r=this,a=!1;if("object"===e.type(arguments[0])?(n=arguments[0],a=arguments[1],o="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],s=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?o="responsive":"undefined"!=typeof arguments[1]&&(o="single")),"single"===o)r.options[n]=s;else if("multiple"===o)e.each(n,function(e,t){r.options[e]=t});else if("responsive"===o)for(i in s)if("array"!==e.type(r.options.responsive))r.options.responsive=[s[i]];else{for(t=r.options.responsive.length-1;t>=0;)r.options.responsive[t].breakpoint===s[i].breakpoint&&r.options.responsive.splice(t,1),t--;r.options.responsive.push(s[i])}a&&(r.unload(),r.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,s,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),o.options.centerMode===!0?(t=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(s=o.slideCount%o.options.slidesToShow,n=o.options.infinite===!0?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-s),n+s).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-n;t-=1)i=t-1,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),s=parseInt(n.attr("data-slick-index"));return s||(s=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(s),void i.asNavFor(s)):void i.slideHandler(s)},t.prototype.slideHandler=function(e,t,i){var n,s,o,r,a,l=null,c=this;if(t=t||!1,(c.animating!==!0||c.options.waitForAnimate!==!0)&&!(c.options.fade===!0&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow)){if(n=e,l=c.getLeft(n),r=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?r:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(0>e||e>c.getDotCount()*c.options.slidesToScroll))return void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(r,function(){c.postSlide(n)}):c.postSlide(n)));if(c.options.infinite===!1&&c.options.centerMode===!0&&(0>e||e>c.slideCount-c.options.slidesToScroll))return void(c.options.fade===!1&&(n=c.currentSlide,i!==!0?c.animateSlide(r,function(){c.postSlide(n)}):c.postSlide(n)));c.options.autoplay&&clearInterval(c.autoPlayTimer),s=0>n?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+n:n>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:n-c.slideCount:n,c.animating=!0;var d=jQuery.Event("beforeChange");return c.$slider.trigger(d,[c,c.currentSlide,s]),d.isDefaultPrevented()?(c.animating=!1,void(i!==!0?c.animateSlide(r,function(){c.postSlide(c.currentSlide)}):c.postSlide(c.currentSlide))):(t===!1&&c.asNavFor(e),o=c.currentSlide,c.currentSlide=s,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(a=c.getNavTarget(),a=a.slick("getSlick"),a.slideCount<=a.options.slidesToShow&&a.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),c.options.fade===!0?(i!==!0?(c.fadeSlideOut(o),c.fadeSlide(s,function(){c.postSlide(s)})):c.postSlide(s),void c.animateHeight()):void(i!==!0?c.animateSlide(l,function(){c.postSlide(s)}):c.postSlide(s)))}},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?s.options.rtl===!1?"left":"right":360>=n&&n>=315?s.options.rtl===!1?"left":"right":n>=135&&225>=n?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?n>=35&&135>=n?"left":"right":"vertical"},t.prototype.swipeEnd=function(e){var t,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=i.touchObject.swipeLength>10?!1:!0,void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,s,o,r=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!r.dragging||o&&1!==o.length?!1:(t=r.getLeft(r.currentSlide),r.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,r.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),r.options.verticalSwiping===!0&&(r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2)))),i=r.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&r.touchObject.swipeLength>4&&e.preventDefault(),s=(r.options.rtl===!1?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),r.options.verticalSwiping===!0&&(s=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,r.options.infinite===!1&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),r.options.vertical===!1?r.swipeLeft=t+n*s:r.swipeLeft=t+n*(r.$list.height()/r.listWidth)*s,r.options.verticalSwiping===!0&&(r.swipeLeft=t+n*s),r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft)):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,s=arguments[0],o=Array.prototype.slice.call(arguments,1),r=n.length;for(e=0;r>e;e++)if("object"==typeof s||"undefined"==typeof s?n[e].slick=new t(n[e],s):i=n[e].slick[s].apply(n[e].slick,o),"undefined"!=typeof i)return i;return n}}),function(e){"use strict";var t=e.Grill,i=e.Disney,n=e.Whiskers,s=e.moment,o=e.jQuery,r=e._,a=t.ModuleView.extend({className:"module starwars-poll",template:n.modules.poll,events:{"click .matches .match, .share-icon":"_initCurrentView","click .sw-bracket .match":"_initBracketView","click #sw-poll-modal .close":"_closeModal","click #sw-poll-modal .options-section:not(.recap) .option":"_submitPollVote"},initialize:function(){this._bindEvents()},render:function(){var e=this,t=e._setState(e.model.get("data")),n=e._getActiveAndCompletedPolls(t),o=e._getPollIds(n),a=e._getPollsCount(o);a.then(function(e){r.each(t,function(t){var i=e[t.poll_id]||{};if(r.each(t.voting_choices,function(e,t){var n=i[t+1]||{};e.count=n.count||0,e.percentage=Math.round(n.percentage)||0}),t.complete){var n=r.max(t.voting_choices,function(e){return e.count}).identifier;t.voting_choices[n-1].winner=!0}})}).always(function(){var n,o=r.map(r.groupBy(t,function(e){return e.round}),function(e){return e}),a=r.each(o,function(e,t,i){var o=r.groupBy(e,function(e,t){return e.active&&!n&&(n=e.round),e.inactive&&(e.voting_start_time_local=s.utc(e.voting_start_time).local().format("M.D.YY")),Math.floor(t/2)});i[t]=r.map(o,function(e){return e})});e.safeRender(a,n>0),e._initBracketSlider(n),i.Social.bindShareClick()})},safeRender:function(t,s){var o=this.model.collection&&this.model.collection.social_share_networks||{},a=e.location.href,l=this.model.collection.title||"This Is Madness: The Star Wars Character Tournament | www.StarWars.com",c=[{title:"Round 1",description:"Rule Of Thirty-Two"},{title:"Round 2",description:"Sixteen Strikes Back"},{title:"Round 3",description:"Duel Of The Eights"},{title:"Round 4",description:"Fate Of Four"},{title:"Round 5",description:"Championship"}],d=r.extend({activePolls:s,bracketRoundTitles:c,polls:t,socialShare:o,title:l,source:a,titleEncoded:encodeURIComponent(l),sourceEncoded:encodeURIComponent(a)},this.model);this.$el.html(this.template.render(d,{module_header:n.modules.shared_components.module_header,socialShare:n.modules.shared_components.social_share})),o.facebook&&i.Social.init("facebook")},_initBracketSlider:function(e){function t(e,t,i){var n=i-t||0,s=e.$slides,o=s.find(".match"),r=o.height(),a=o.find(".inner").height(),l=r/2,c=!0;s.filter(".slick-current").nextAll().andSelf().each(function(t,i){var o=s.index(i),d=s.eq(o+n),u=d.find(".match-container"),h=u.find(".separator"),f=h.find(".line"),p=u.find(".match"),v=Math.max(2*t-1,0),m=v*l;1===e.getOption("slidesToShow")&&(c=!1,s.find(".match").css("margin-bottom","5%")),c&&p.css({"margin-bottom":m}),p.css({"margin-top":m}),h.css({"margin-top":(v+1)*(a/2)+v*((r-a)/2),"margin-bottom":(v+1)*(a/2)+v*((r-a)/2)}),f.css({height:(v+1)*r})})}var i=this,n=this.$el.find(".bracket-top-slider"),s=this.$el.find(".bracket-content-slider");s.on("init",function(e){o(e.currentTarget).removeClass("cs-hidden")}),s.on("beforeChange",function(e,i,n,s){return s<=i.slideCount-i.getOption("slidesToShow")?void t(i,n,s):!1}),s.on("setPosition",function(e,n){var s=n.$slides.eq(n.currentSlide).height();i.$el.find(".bracket-content-slider").height(s),t(n)}),s.slick({accessibility:!0,arrows:!1,asNavFor:n,draggable:!0,infinite:!1,initialSlide:Math.min((e||1)-1,2),slidesToScroll:1,slidesToShow:3,swipeToSlide:!0,speed:750,swipe:!0,responsive:[{breakpoint:900,settings:{initialSlide:Math.min((e||1)-1,3),slidesToScroll:1,slidesToShow:2}},{breakpoint:480,settings:{initialSlide:Math.min((e||1)-1,4),slidesToScroll:1,slidesToShow:1}}]}),n.on("beforeChange",function(e,t,i,n){return n>t.slideCount-t.getOption("slidesToShow")?!1:void 0}),n.on("init",function(e){o(e.currentTarget).removeClass("cs-hidden")}),n.slick({accessibility:!0,asNavFor:s,draggable:!0,infinite:!1,initialSlide:Math.min((e||1)-1,2),nextArrow:this.$el.find(".next"),prevArrow:this.$el.find(".prev"),slidesToScroll:1,slidesToShow:3,swipeToSlide:!0,speed:750,swipe:!0,responsive:[{breakpoint:900,settings:{initialSlide:Math.min((e||1)-1,3),slidesToScroll:1,slidesToShow:2}},{breakpoint:480,settings:{initialSlide:Math.min((e||1)-1,4),slidesToScroll:1,slidesToShow:1}}]})},_getPollsCount:function(e){var t=this.model.get("cellophane_as_auth_key"),i=this.model.get("cellophane_as_base_uri")+"/disneynetwork/activitystream/v1/poll/count";return o.ajaxSettings.traditional=!0,o.ajax({url:i,headers:{Authorization:t},type:"GET",data:{pretty:!0,count:!0,pollId:e},dataType:"json"})},_submitPollVote:function(t){if(!o(t.currentTarget).closest(".options-section").hasClass("voted")){var n=this,s=o(t.currentTarget).closest(".options-section").data("id"),r=o(t.currentTarget).closest(".options-section").data("poll-name"),a=o(t.currentTarget).data("id"),l=o(t.currentTarget).data("name"),c=i.visitorId(),d=this.model.get("cellophane_as_auth_key"),u=this.model.get("cellophane_as_base_uri")+"/disneynetwork/activitystream/v2/publish/anonymous/starwars/submit/vote";o.ajax({url:u,headers:{Authorization:d},type:"POST",data:JSON.stringify({pollId:s,voteId:a,title:"Voted for "+l+" in the '"+r+"' poll!",voteDisplayName:l,pollDisplayName:r,anonymousid:c,pollType:this.model.get("type")}),dataType:"json"}).always(function(){var i,r,a=o(t.currentTarget),l=a.closest(".options-section"),c=a.closest(".modal-content");o(t.currentTarget).find(".overlay").addClass("voted"),o(t.currentTarget).find(".icon").fadeOut(),o(".match").filter(function(){return o(this).data("id")===s}).find(".overlay").addClass("voted"),o(t.currentTarget).closest(".options-section").addClass("voted"),e.setTimeout(function(){l.addClass("voted").removeClass("display").fadeOut(function(){i=o(".options-section").eq(0).hasClass("voted"),r=o(".options-section").eq(1).hasClass("voted")})},1e3),e.setTimeout(function(){c.find(".bs-social").show().fadeIn(),c.find(".modal-continue-btn").show(),i&&r&&c.find(".modal-continue-btn").text("Close")},2e3),o(".modal-continue-btn").on("click",function(){i&&r&&n._closeModal(),c.find(".bs-social").hide().fadeOut(),o(".options-section").not(".voted, .recap").show().fadeIn()})})}},_getActiveAndCompletedPolls:function(e){return r.filter(e,function(e){
return e.active||e.complete})},_getPollIds:function(e){return r.map(e,function(e){return e.poll_id})},_setState:function(e){return r.each(e,function(e){var t="inactive",i=s(e.current_date_time).isAfter(e.voting_start_time),n=s(e.current_date_time).isBefore(e.voting_end_time);i&&n?t="active":i&&(t="complete"),e.state=t,e[t]=!0}),e},_initModal:function(){o(e.document.body).addClass("no-scroll"),this.$el.addClass("modal-active")},_closeModal:function(){o(e.document.body).removeClass("no-scroll"),this.$el.removeClass("modal-active")},_initCurrentView:function(e){e.stopPropagation();var t=this,i=o(e.currentTarget),n=e.currentTarget.className,s=i.data("id"),r=this.$el.find("#sw-poll-modal .options-section"),a=this.$el.find(".bs-social"),l=this.$el.find(".modal-continue-btn");r.hide(),a.hide(),"match"===n?s&&r.each(function(e,i){o(i).data("id")===s&&(t._initModal(),o(i).show())}):(t._initModal(),l.hide(),a.show())},_initBracketView:function(e){e.stopPropagation();var t=this,i=t.model.get("data"),n=o(e.currentTarget),s=n.data("pollid"),a=n.data("status"),l=this.$el.find("#sw-poll-modal .options-section"),c=this.$el.find(".bs-social"),d=this.$el.find(".recap");if(l.hide(),c.hide(),s)switch(a){case"active":l.each(function(e,i){o(i).data("id")===s&&(t._initModal(),o(i).show())});break;case"complete":var u=r.filter(i,function(e){return e.id===s}),h=u[0];d.find(".option1 img").attr("src",h.voting_choices[0].logo),d.find(".option1 .title").text(h.voting_choices[0].text),d.find(".option1 .score").text(h.voting_choices[0].percentage+"%"),d.find(".option1 .winner").hide(),d.find(".option2 img").attr("src",h.voting_choices[1].logo),d.find(".option2 .title").text(h.voting_choices[1].text),d.find(".option2 .score").text(h.voting_choices[1].percentage+"%"),d.find(".option2 .winner").hide(),h.voting_choices[0].winner?d.find(".option1 .winner").show():d.find(".option2 .winner").show();var f=u[0].commentary;d.find(".commentary .thumb").css("background-image","url("+f.image.image+")"),d.find(".commentary .title").text(f.title),d.find(".commentary .description").html(f.description),t._initModal(),d.show()}},_bindEvents:function(){e.document.addEventListener("keyup",function(e){switch(e.keyCode){case 27:this._closeModal()}}.bind(this))}});a.register("poll")}(this),Whiskers("modules.rich_text",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="rich_text_container"> '),n.s(n.f("image",e,t,1),e,t,0,115,190,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich_text_image '),i.b(i.v(i.f("position",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.f("image",e,t,0))),i.b('"></div>')}),e.pop()),n.b(" "),n.b(" "),n.s(n.f("image",e,t,1),e,t,1,0,0,"")||(n.b(" "),n.s(n.f("style",e,t,1),e,t,0,246,402,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.s(i.f("images",e,t,1),e,t,0,257,391,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("foreground_image",e,t,1),e,t,0,278,370,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("url",e,t,1),e,t,0,286,362,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_image '),i.b(i.v(i.f("alignment",e,t,0))),i.b('_align"><img src="'),i.b(i.v(i.f("url",e,t,0))),i.b('"></div> ')}),e.pop())}),e.pop())}),e.pop())}),e.pop()),n.b(" ")),n.b(" "),n.s(n.f("rich_text",e,t,1),e,t,0,438,556,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="rich_text_body rich-text-enabled'),i.s(i.f("image",e,t,1),e,t,0,493,522,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" has-image "),i.b(i.v(i.f("position",e,t,0))),i.b("_align")}),e.pop()),i.b('">'),i.b(i.t(i.f("rich_text",e,t,0))),i.b("</div> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.Backbone,s=e.Disney,o=s.Style.breakpoints,r=o.midHigh.toString(),a=e.devicePixelRatio>1.5,l=e._;t.ModuleView.register("rich_text",{breakpoints:r,template:i.modules.rich_text,render:function(){var e,t=l.first(this.model.get("data")),s=this.model.get("style"),r=s&&s.images&&s.images.foreground_image,c=!(!r||!r.url&&!r.mobile_url),d=n.Resize.width()>=o.midHigh;if(c){var u=a&&r.retina_url?r.retina_url:r.url,h=a&&r.mobile_retina_url?r.mobile_retina_url:r.mobile_url;e=d?u:h}var f=l.extend({data:t,image:e,position:c&&r.alignment},this.model);this.$el.html(this.template.render(f,{module_header:i.modules.shared_components.module_header}))}})}(this),Whiskers("modules.search",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(' <div class="bound"> <form class="search-form nav-search mod-search" action="/search" method="GET"> <div class="bedazzlement-container"> <span class="bedazzlement"></span> </div> <div class="query-field"> <input name="q" type="text" placeholder="'),n.b(n.v(n.f("placeholder",e,t,0))),n.b('" spellcheck="false" autocorrect="off" autocapitalize="off"> '),n.s(n.f("filter",e,t,1),e,t,0,353,420,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <input type="hidden" value="'),i.b(i.v(i.f("filter",e,t,0))),i.b('" name="f[search_section]"> ')}),e.pop()),n.b(' <span class="search-button"> <input class="large button" type="submit" value="'),n.b(n.v(n.d("translations.search",e,t,0))),n.b('"> </span> </div> </form> </div>'),n.fl()}),function(e){"use strict";function t(){return e.window.location.pathname.split("/")[1].toLowerCase()}function i(e){switch(e){case"games_apps":return"Games+Apps";case"tv_shows":return"TV Shows";default:return n(e)}}function n(e){return e=e.toLowerCase(),e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})}function s(e,t){t=l.isUndefined(t)?"":t,e.target.placeholder=t}var o=e.Grill,r=e.NAV,a=e.Tracker,l=e._;o.ModuleView.register("search",{template:e.Whiskers.modules.search,initialize:function(){var e=this.model,n=e.get("title"),s=e.get("translations")||{},o="",r=t();this.placeholder_text=n?n:s.sw_placeholder,r&&"search"!==r&&r.indexOf("error")&&(o=l.invert(s)[r]||r,e.set("filter",i(o)))},ready:function(){r&&r.ac(this.el,"section/search_module",this.model.get("filter"))},render:function(){var e=this,t=l.extend({placeholder:e.placeholder_text},e.model);e.$el.html(e.template.render(t))},events:{"click input[name=q]":function(e){s(e)},"blur input[name=q]":function(e){s(e,this.placeholder_text),r.searchAttemptUsedPlacements={}},"onfocus input[name=q]":function(e){s(e)},"submit form.mod-search":function(){var e=t();a.link({linkName:e+"/searchbox/search_enter",linkPosition:e+"/searchbox"})}}})}(this),function(e){"use strict";var t=e.jQuery,i=e.document,n=e.Tracker;t(function(){t(i).on("click",".social-dropdown-btn .label",function(){var i=t(this).closest(".social-dropdown-btn"),s=function(e){t(e).removeClass("active"),t("body").off("click.watch"),t(e).hasClass("active")&&(t(e).removeClass("active"),o(e))},o=function(i){n&&n.event({eventCategory:"socialelement",action:"embed",label:e.location.href}),t(i).addClass("active"),t("body").on("click.watch",function(e){var n=t(e.target);0===n.closest(".dropdown-panel").length&&0===n.closest(".social-dropdown-btn").length&&s(i)})};i.hasClass("active")?s(i):(t.each(t(".social-dropdown-btn.active"),function(e,t){s(t)}),o(i))});var s=t(".dropdown-panel");t(i).on("click",s,function(){t(this).find(".text-output").select()})})}(this),Whiskers("modules.stats",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("data",e,t,1),e,t,0,29,420,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="stats-container cols-'),i.b(i.v(i.f("numCategories",e,t,0))),i.b('"> '),i.s(i.f("categories",e,t,1),e,t,0,98,397,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="category'),i.s(i.f("linebreaks",e,t,1),e,t,0,134,145,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" linebreaks")}),e.pop()),i.b('"> <div class="heading">'),i.b(i.v(i.f("name",e,t,0))),i.b("</div> <ul> "),i.s(i.f("properties",e,t,1),e,t,0,219,368,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <li class="data"> '),i.s(i.f("link",e,t,1),e,t,0,247,288,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b('<a class="section-color" href="'),i.b(i.v(i.f("link",e,t,0))),i.b('">')}),e.pop()),i.b(" "),i.b(i.v(i.f("name",e,t,0))),i.b('<span class="separator">,</span> '),i.s(i.f("link",e,t,1),e,t,0,348,352,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("</a>")}),e.pop()),i.b(" </li> ")}),e.pop()),i.b(" </ul> </div> ")}),e.pop()),i.b(" </div> ")}),e.pop()),n.b(" </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=t.Style.breakpoints,n=i.midHigh.toString(),s=e.Grill,o=e.Whiskers,r=e._;s.ModuleView.register("stats",{breakpoints:n,template:o.modules.stats,render:function(){var e=r.first(this.model.get("data")),t=e.categories||[],i=r.extend({numCategories:t.length},this.model);this.$el.html(this.template.render(i,{}))}})}(this),Whiskers("modules.this_is_madness",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<!--[if lte IE 9]><iframe class='unsupported' scrolling='"),n.b(n.v(n.f("scrolling",e,t,0))),n.b("' src='"),n.b(n.v(n.f("source",e,t,0))),n.b("'></iframe><![endif]--> <!--[if (gt IE 9)|(!IE)]><!--> <iframe scrolling='"),n.b(n.v(n.f("scrolling",e,t,0))),n.b("' src='"),n.b(n.v(n.f("source",e,t,0))),n.b("'></iframe> <!--<![endif]-->"),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.$,s=e._;t.ModuleView.register("this_is_madness",{template:i.modules.this_is_madness,render:function(){var t=this,i=t.queryParams.stage,o=i?"/proxy/this-is-madness?stage="+i:"/proxy/this-is-madness",r=s.extend({scrolling:"no",source:o},this.model),a=this.template.render(r);this.$el.html(a),this.$el.children("iframe").hasClass("unsupported")&&n("#browser_warning").css({opacity:1,visibility:"visible"}),this.$el.children("iframe").load(function(){var i=t.$el.children("iframe"),o=i.get(0).contentWindow;n(o.document).ready(function(){var r=i.contents(),a=r.find("body");!function l(){if(void 0!==o.GlobalsObj){var t=e.location.protocol+"//"+e.location.host+e.location.pathname;"/"!==t.substr(-1)&&(t+="/"),o.GlobalsObj.ROOT_LOCATION=t}else e.setTimeout(l,100)}(),a.on("click","#bracket-nav > li > button",function(){t.resizeIframe.call(t)}),a.find("#bracket-nav > li:first > button").click(),a.on("click",".char",t.fixModalPosition(i,"#vote-confirm-content-box")),a.on("click",".recap",t.fixModalPosition(i,"#recap .matchup")),t.disableScrollingWithModal(r),n(e).on("orientationchange",function(){t.resizeIframe.call(t)}),n(e).on("resize",s.debounce(function(){t.resizeIframe.call(t)},100))})})},setIframeWidth:function(){var t=this.$el.children("iframe");n("#main").css("max-width","1201px");var i=s.min([n(e).width(),1201]);t.width(i)},setIframeHeight:function(){var e=10;this.$el.children("iframe").height(this.getInnerHeight()+e)},resizeIframe:function(){var t=this,i=t.getInnerHeight();i!==t.heightHistory.last()?(t.heightHistory.save(i),e.setTimeout(function(){t.resizeIframe.call(t)},100)):(t.setIframeWidth(),t.setIframeHeight(),t.heightHistory.reset())},heightHistory:function(){var e=[];return{save:function(t){e.push(t)},reset:function(){e=[]},last:function(){return e[e.length-1]}}}(),getInnerHeight:function(){return this.$el.children("iframe").contents().find("#container").height()},fixModalPosition:function(t,i){return function(){var s=t.contents(),o=s.find(i),r=o.height(),a=n("#nav-inner-container").height(),l=n(e).height(),c=l-a,d=n(e).scrollTop()+a,u=d+c/2,h=t.offset().top;o.offset({top:u-r/2-h})}},disableScrollingWithModal:function(t){var i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=new i(function(e){var t=s.any(e,function(e){return n(e.target).is(":visible")});t?n("body").addClass("no-scroll"):n("body").removeClass("no-scroll")}),r=t.find("#vote-confirm").get(0);o.observe(r,{attributes:!0}),r=t.find("#recap").get(0),o.observe(r,{attributes:!0})}},queryParams:function(){var t=e.location.search.substring(1);return t?s.chain(t.split("&")).map(function(e){var t=e.split("=");return[t[0],decodeURIComponent(t[1])]}).object().value():{}}()})}(this),Whiskers("modals.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<style type='text/css'> "),n.s(n.f("image",e,t,1),e,t,0,34,264,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,47,118,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .modal.timed-item-list .header{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,142,252,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 768px){ .modal.timed-item-list .header{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),n.b(" </style> <div class='modal-content'> <div class='header'></div> "),n.s(n.f("header_data",e,t,1),e,t,0,355,389,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<h1 class='title'>"),i.b(i.t(i.f("title",e,t,0))),i.b("</h1>")}),e.pop()),n.b(" "),n.s(n.f("items_by_group",e,t,1),e,t,0,425,655,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" <h2 class='date'>"),i.b(i.v(i.f("group_header",e,t,0))),i.b("</h1> <ul> "),i.s(i.f("items",e,t,1),e,t,0,480,638,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" <li class='item'> <div class='headline'><p>"),i.b(i.v(i.f("headline",e,t,0))),i.b("</p></div> <div class='description'> <h1>"),i.b(i.v(i.f("display_title",e,t,0))),i.b("</h1> <p>"),i.b(i.t(i.f("description",e,t,0))),i.b("</p> </div> </li> ")}),e.pop()),i.b(" </ul> ")}),e.pop()),n.b(" </div> </div>"),n.fl()}),function(e){"use strict";function t(e,t){for(var i,n=[],o={},r=0;r<e.length;r++){var a=e[r],l=a[t];l!==i&&(s.isEmpty(o)||n.push(o),i=l,o={},o[t]=i,o.items=[]),o.items.push(a)}return s.isEmpty(o)||n.push(o),n}var i=e.Grill,n=e.Whiskers,s=e._;i.TimedItemListModalView=i.ModalView.extend({options:{name:"timed-item-list",template:n.modals.timed_item_list},render:function(){var i=new Date,n=this.model.get("module_style_options"),o=n&&n.timed_item_list&&n.timed_item_list.modal_header_image||{},r=e.devicePixelRatio>1.5,a=s.select(this.model.get("data"),function(e){var t=new Date(e.expires_at);return t.getTime()>=i.getTime()}),l=s.extend({items_by_group:t(a,"group_header"),image:{desktop:r&&o.desktop_retina?o.desktop_retina:o.desktop,mobile:r&&o.mobile_retina?o.mobile_retina:o.mobile}},this.model);return this.options.template.render(l)}})}(this),Whiskers("modules.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<style type="text/css">'),n.b(n.rp("module_styles",e,t,"")),n.b('</style> <div class="bound '),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("entity_type",e,t,0))),n.b('"> <div class="timed-item-list-container"> '),n.s(n.f("header_data",e,t,1),e,t,0,151,169,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="category-container cols-5"> '),n.s(n.f("items",e,t,1),e,t,0,236,426,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="category"> <div class="content"> <div class="heading">'),i.b(i.v(i.f("headline",e,t,0))),i.b('</div> <h1 class="title">'),i.b(i.v(i.f("display_title",e,t,0))),i.b('</h1> <div class="description">'),i.b(i.t(i.f("description",e,t,0))),i.b("</div> </div> </div> ")}),e.pop()),n.b(" </div> </div> </div>"),n.fl()}),Whiskers("partials.style_overrides.modules.timed_item_list",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("module_style_options",e,t,1),e,t,0,25,1886,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enabled",e,t,1),e,t,0,38,318,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("bg_color",e,t,1),e,t,0,52,151,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container{ background-color: "),i.b(i.v(i.f("bg_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("title_color",e,t,1),e,t,0,181,301,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .module_title{ color: "),i.b(i.v(i.f("title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("timed_item_list",e,t,1),e,t,0,351,1865,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("header_image",e,t,1),e,t,0,369,693,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("desktop",e,t,1),e,t,0,382,500,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),i.b(i.v(i.f("desktop",e,t,0))),i.b("); } ")}),e.pop()),i.b(" "),i.s(i.f("mobile",e,t,1),e,t,0,524,681,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" @media screen and (max-width: 768px){ #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header{ background-image: url("),i.b(i.v(i.f("mobile",e,t,0))),i.b("); } } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" "),i.s(i.f("enable_color_options",e,t,1),e,t,0,736,1839,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("module_link_color",e,t,1),e,t,0,759,991,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .see-all{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description a{ color: "),i.b(i.v(i.f("module_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("module_link_hover_color",e,t,1),e,t,0,1042,1298,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .module_header .see-all:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description a:hover{ color: "),i.b(i.v(i.f("module_link_hover_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_headline_color",e,t,1),e,t,0,1351,1459,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .heading{ color: "),i.b(i.v(i.f("item_headline_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_title_color",e,t,1),e,t,0,1505,1647,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .timed-item-list-container .category-container .category .content .title{ color: "),i.b(i.v(i.f("item_title_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("item_description_color",e,t,1),e,t,0,1696,1811,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" #ref-"),i.b(i.v(i.f("ref",e,t,0))),i.b(".module.timed-item-list .cols-5 .category .content .description{ color: "),i.b(i.v(i.f("item_description_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.fl()}),function(e){"use strict";function t(t){var i=new Date,r=e.devicePixelRatio>1.5,a=t.model.get("module_style_options"),l=a&&a.timed_item_list&&a.timed_item_list.module_header_image||{},c=t.model.get("translations")||{},d=s.extend({header_image:{desktop:r&&l.desktop_retina?l.desktop_retina:l.desktop,mobile:r&&l.mobile_retina?l.mobile_retina:l.mobile},seeAll:c.see_all},t.model);d.items=s.select(d.get("data"),function(e){var t=new Date(e.expires_at);return t.getTime()>=i.getTime()}),d.items=d.items.slice(0,o),t.$el.html(t.template.render(d,{module_header:n.modules.shared_components.module_header,module_styles:n.partials.style_overrides.modules.timed_item_list}))}var i=e.Grill,n=e.Whiskers,s=e._,o=5,r=15e3;i.ModuleView.register("timed-item-list",{template:n.modules.timed_item_list,events:{"click .see-all":function(e){this.modal.show({event:e,render:!0})}},initialize:function(){var e=this.model.get("cto");this.modal=new i.TimedItemListModalView({model:this.model,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWTimedItemListModal"}})},render:function(){var i=this;t(i),e.setInterval(function(){t(i)},r)}})}(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){var i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(t,i,n){var s,o,r,a,l={},c=t.split(".")[0];t=t.split(".")[1],s=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(i){for(var s,o,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(s in r[a])o=r[a][s],r[a].hasOwnProperty(s)&&o!==t&&(e.isPlainObject(o)?i[s]=e.isPlainObject(i[s])?e.widget.extend({},i[s],o):e.widget.extend({},o):i[s]=o);return i},e.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;e.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),c=this;return r=!a&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,s=e.data(this,o);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(n=s[r].apply(s,l),n!==s&&n!==t?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(r||{})._init():e.data(this,o,new s(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,n){var s,o,r,a=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(a={},s=i.split("."),i=s.shift(),s.length){for(o=a[i]=e.widget.extend({},this.options[i]),r=0;r<s.length-1;r++)o[s[r]]=o[s[r]]||{},o=o[s[r]];if(i=s.pop(),n===t)return o[i]===t?null:o[i];o[i]=n}else{if(n===t)return this.options[i]===t?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?s.delegate(d,c,a):i.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})}),function(e){"use strict";function t(e,t){var n,s=new c.Deferred,r=new i(t.options&&t.options.Cookie);this.get=function(i){return"resolved"!==s.state()&&(i?e.then(function(e){e.campaigns.get({id:i}).then(function(e){s.resolve(e)},function(e){t.reportError(e),s.reject(o(t.options,e))})},function(e){t.reportError(e),s.reject(o(t.options,e))}):(t.reportError({message:"Campaign ID not set."}),s.reject(o(t.options,{response:{status:404,statusText:"Not Found"}})))),s},this.prepare=function(e,i){return n=new c.Deferred,this.get().then(function(s){var a=s&&s.constraints||{},l=parseInt(a.uploadSize,10)||1/0,c=1048576*l;if(c>e.size){var d={filename:e.name,mediaType:e.type,metadata:i};s.submissions.prepare(d,t.configuration).then(function(e){t.track("SWFFA_UploadBegin"),n.resolve(e)},function(e){(429===e.statusCode||429===e.response.status)&&r.set(t.getGuest().current,s),t.reportError(e),n.reject(o(t.options,e))})}else{var u=o(t.options,{response:{status:413}})+" (< "+a.uploadSize+")";n.reject(u)}}),n},this.upload=function(e,i){var s=new c.Deferred;return n.then(function(n){n._upload(e,c.extend({},t.configuration,i||{})).then(function(e){t.track("SWFFA_UploadComplete"),r.set(t.getGuest().current,e),s.resolve(e)},function(e){t.track("SWFFA_UploadFail"),t.reportError(e),s.reject(o(t.options,e))})}),s},this.submissionAllowed=function(e,t){if(e&&t){var i=r.get(e,t);return i?!Boolean(i):!0}}}function i(e){function t(e){if(r){var t=e.constraints||{},i=t.intervalLimit||t.calendarLimit,n=t.submissionLimit;if(i){var s=i.period,o=i.value;return o?r().add(o,s).toDate():r().endOf(s).toDate()}return n?r().add(1,"year").toDate():void 0}}this.get=function(t,i){return e&&"object"==typeof e&&t&&i?e.get(this._cookieKey(t,i)):void 0},this.set=function(i,n){var s=n&&n.campaignID||n.id;if(e&&"object"==typeof e&&i&&s){var o="function"==typeof e.domain&&e.domain(),r=t(n);if(r){var a=this._cookieKey(i,s),l=this._cookieValue(n);e.set(a,l,{domain:o,expires:r})}}},this._cookieKey=function(e,t){var i=e&&e.profile&&e.profile.swid;return t&&i?"ugcCampaign<"+t+">:"+i:void 0},this._cookieValue=function(e){var t=parseInt(this.get(e.campaignID),10);if(t){var i=e.constraints||{},n=i.submissionLimit;return n&&t>n?t+=1:!0}return!0}}function n(e,t){c.getScript(s()).done(e).fail(function(){c.getScript(s(!0)).done(e).fail(t)})}function s(e){var t="https",i="//a.dilcdn.com/",n="//a.dilcdn.com/",s="sa/ugc/wisp-client/ugcAPI-browser.js";return e?t+":"+n+s:t+":"+i+s}function o(e,t){var i=t.response.status||t.statusCode||0,n=e&&e.translations||{},s=n["error_"+i]||t.response.statusText||t.message;return s}var r=e.moment,a=e.cto,l=e.NREUM,c=e.$,d=c.Deferred();e.UGC=function(i,s){this.configuration={headers:{}},this.options=s||{},this.campaign=new t(d,this),this.initialize=function(){var e=this.getGuest().retain();e&&(e.on("refresh",this._refreshAuth,this),e.on("login",this._refreshAuth,this)),"resolved"!==d.state()&&n(this._setupClient.bind(this),this._rejectClient.bind(this))},this.destroy=function(){this.getGuest()&&this.getGuest().release()},this.getGuest=function(){return this.options&&this.options.guest},this.reportError=function(e){if(l){var t=this.getGuest().current;if(t&&"object"==typeof t){var i="",n=t.profile||{};i+="ageBand: <"+n.ageBand+">, ",i+="legalCountry: <"+(n.region||n.countryCodeDetected)+">, ",i+="referenceId: <"+n.referenceId+">",e.message+=" Guest Info ("+i+")"}l.noticeError(e)}},this.track=function(t,i){if(a){var n={engagementType:t,label:e.location.href};i&&(n.engagementMeta=i),a.trackEvent(n)}},this._refreshAuth=function(e){var t=this.options.cellophane_auth_key;if(t){var i=e&&e.tokens&&e.tokens.access;return i&&(t+=", DisneyID token="+i),this.configuration.headers.Authorization=t,this.configuration}},this._rejectClient=function(e){d.reject({response:e})},this._setupClient=function(){var t=this,n=t.options.cellophane_base_uri+i,r=t._refreshAuth(t.getGuest()&&t.getGuest().current);e.ugcAPI.discover(n,r).then(function(e){d.resolve(e)},function(e){t.reportError(e),d.reject(o(s,e))})},this.initialize(i,s)}}(this),Whiskers("modules.user_upload",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b(" "),n.s(n.f("schema_json",e,t,1),e,t,0,74,1061,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> '),i.s(i.f("header_color",e,t,1),e,t,0,116,180,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info h1{ color: "),i.b(i.v(i.f("header_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("button_color",e,t,1),e,t,0,215,533,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ background-color: "),i.b(i.v(i.f("button_color",e,t,0))),i.b('; position: relative; overflow: hidden; } .module.user_upload .button:hover{ opacity: 0.9; } .module.user_upload .button:before{ content: ""; background-color: rgba(0, 0, 0, 0.08); z-index: -1; position: absolute; top: 0; left: 0; right: 0; bottom: 0; } ')}),e.pop()),i.b(" "),i.s(i.f("button_text_color",e,t,1),e,t,0,573,635,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .button{ color: "),i.b(i.v(i.f("button_text_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("tips_link_color",e,t,1),e,t,0,678,755,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .module.user_upload .stunt-info .tips-button{ color: "),i.b(i.v(i.f("tips_link_color",e,t,0))),i.b("; } ")}),e.pop()),i.b(" "),i.s(i.f("progress_color",e,t,1),e,t,0,795,881,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices .slice, .progress-slices:before{ border-color: "),i.b(i.v(i.f("progress_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" "),i.s(i.f("progress_wheel_bg_color",e,t,1),e,t,0,929,1023,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" .progress-slices, .progress-slices .slice.cover{ border-color: "),i.b(i.v(i.f("progress_wheel_bg_color",e,t,0))),i.b(";} ")}),e.pop()),i.b(" </style> ")}),e.pop()),n.b(" "),n.b(" "),n.s(n.d("style.images.background_image",e,t,1),e,t,0,1179,1278,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <style type="text/css"> .module.user_upload .bg-image{ background-image: url('),i.b(i.v(i.f("url",e,t,0))),i.b("); } </style> ")}),e.pop()),n.b(' <div class="'),n.b(n.v(n.f("type",e,t,0))),n.b(" "),n.b(n.v(n.f("entityType",e,t,0))),n.b(' bound"> <div class="content-container inner-container"> <div class="bedazzlement bg-image"></div> <div class="stunt-info rich-text-enabled'),n.s(n.d("style.images.foreground_image.url",e,t,1),e,t,1,0,0,"")||n.b(" no-logo"),n.b('"> <div class="details-container"> '),n.s(n.d("style.images.foreground_image.url",e,t,1),e,t,0,1644,1716,"{{ }}")&&(n.rs(e,t,function(e,t,i){
i.b(' <img class="contest-logo" src="'),i.b(i.v(i.d("style.images.foreground_image.url",e,t,0))),i.b('"> ')}),e.pop()),n.b(" <h1>"),n.b(n.t(n.d("schema_json.start_header",e,t,0))),n.b('</h1> <div class="description">'),n.b(n.t(n.d("schema_json.start_description",e,t,0))),n.b("</div> "),n.s(n.f("has_tips",e,t,1),e,t,0,1875,1924,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <a class="tips-button">'),i.b(i.v(i.d("schema_json.tips",e,t,0))),i.b("</a> ")}),e.pop()),n.b(' </div> </div> <div class="form-container rich-text-enabled"> <div class="login form-mask"> '),n.b(n.t(n.d("schema_json.login",e,t,0))),n.b(' <div class="button large disid-button"> '),n.s(n.d("schema_json.start_button_text",e,t,1),e,t,0,2127,2162,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.start_button_text",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.start_button_text",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.start",e,t,0))),n.b(" </div> "),n.s(n.d("schema_json.ie9_text",e,t,1),e,t,0,2320,2370,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="no-fileapi">'),i.b(i.v(i.d("schema_json.ie9_text",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> <div class="asset-pack form-mask disabled"> '),n.s(n.d("schema_json.asset_pack_info",e,t,1),e,t,0,2479,2512,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.asset_pack_info",e,t,0)))}),e.pop()),n.b(' <div class="button large"> '),n.s(n.d("schema_json.go_to_upload_file_button_text",e,t,1),e,t,0,2618,2665,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.go_to_upload_file_button_text",e,t,0)))}),e.pop()),n.b(' </div> </div> <div class="ineligible form-mask hidden"></div> <div class="progress"> <div class="progress-indicator"> <div class="progress-slices"> <div class="slice slice-1"></div> <div class="slice cover"></div> <div class="slice slice-2"></div> </div> </div> <div class="uploading"> <h3>'),n.b(n.v(n.d("schema_json.uploading",e,t,0))),n.b('</h3> </div> <div class="thank-you rich-text-enabled"> '),n.s(n.d("schema_json.thank_you_header",e,t,1),e,t,0,3115,3158,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("<h3>"),i.b(i.t(i.d("schema_json.thank_you_header",e,t,0))),i.b("</h3>")}),e.pop()),n.b(" "),n.s(n.d("schema_json.thank_you_text",e,t,1),e,t,0,3223,3286,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="description">'),i.b(i.t(i.d("schema_json.thank_you_text",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> </div> </div> </div> <div class="tips-bound"> <div class="close-icon close-tips"></div> <div class="bound"> '),n.s(n.d("schema_json.helpful_tip_header",e,t,1),e,t,0,3468,3545,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<span class="tip-header"><h2>'),i.b(i.t(i.d("schema_json.helpful_tip_header",e,t,0))),i.b("</h2></span>")}),e.pop()),n.b(' <div class="tips"> <div class="tips-container left"> <h3 class="tips-header"> '),n.s(n.d("schema_json.dos_header",e,t,1),e,t,0,3686,3714,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.dos_header",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.dos_header",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.do",e,t,0))),n.b(" </h3> "),n.s(n.d("schema_json.dos",e,t,1),e,t,0,3842,3900,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.d("schema_json.dos",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> <div class="tips-container right"> <h3 class="tips-header"> '),n.s(n.d("schema_json.donts_header",e,t,1),e,t,0,4017,4047,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.t(i.d("schema_json.donts_header",e,t,0)))}),e.pop()),n.b(" "),n.s(n.d("schema_json.donts_header",e,t,1),e,t,1,0,0,"")||n.b(n.v(n.d("translations.dont",e,t,0))),n.b(" </h3> "),n.s(n.d("schema_json.donts",e,t,1),e,t,0,4185,4245,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="rich-text-enabled">'),i.b(i.t(i.d("schema_json.donts",e,t,0))),i.b("</div>")}),e.pop()),n.b(' </div> <div class="button small close-button close-tips">'),n.b(n.v(n.d("translations.close_button",e,t,0))),n.b("</div> </div> "),n.s(n.d("schema_json.helpful_tip_footnote",e,t,1),e,t,0,4405,4472,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<p class="tips-footnote">'),i.b(i.t(i.d("schema_json.helpful_tip_footnote",e,t,0))),i.b("</p>")}),e.pop()),n.b(' </div> </div> <div class="container-mask"></div> </div>'),n.fl()}),Whiskers("modules.shared_components.character_countdown",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<input type='text' class='char-counter has-count' name='"),n.b(n.v(n.f("key",e,t,0))),n.b("' placeholder='"),n.b(n.v(n.f("title",e,t,0))),n.b("' maxlength='"),n.s(n.f("maxLength",e,t,1),e,t,0,114,127,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.v(i.f("maxLength",e,t,0)))}),e.pop()),n.b("' "),n.s(n.f("required",e,t,1),e,t,0,156,164,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b("required")}),e.pop()),n.b(" /> <span class='char-counter count-remaining'></span>"),n.fl()}),Whiskers("partials.forms.user_upload_form",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<form action="'),n.b(n.v(n.f("form_action",e,t,0))),n.b('"> <fieldset class="info-fs"> <legend>'),n.b(n.t(n.d("schema_json.submission_info",e,t,0))),n.b("</legend> "),n.s(n.f("fields",e,t,1),e,t,0,121,224,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("string",e,t,1),e,t,0,133,212,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.s(i.f("enum",e,t,1),e,t,1,0,0,"")||(i.b(" <div class='input-group'> "),i.b(i.rp("character_countdown",e,t,"")),i.b(" </div> ")),i.b(" ")}),e.pop()),i.b(" ")}),e.pop()),n.b(' </fieldset> <div class="file-name-container"> <div class="file-name"></div> <span class="delete-file"></span> </div> <div class="button small select-file visible"> '),n.b(n.v(n.d("schema_json.select_file_button_text",e,t,0))),n.b(' <input type="file" name="file" required /> </div> <div class="button small begin-upload"> '),n.b(n.v(n.d("schema_json.upload_file_button_text",e,t,0))),n.b(' </div> <div class="notification"></div> '),n.s(n.d("schema_json.footnotes",e,t,1),e,t,0,636,710,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<div class="footnotes rich-text-enabled">'),i.b(i.t(i.d("schema_json.footnotes",e,t,0))),i.b("</div>")}),e.pop()),n.b(" </form>"),n.fl()}),function(e){"use strict";var t,i=e.Backbone,n=e.Disney,s=e.Grill,o=e.UGC,r=e.Whiskers,a=e.jQuery,l=e._,c=new a.Deferred,d="/ugc/kidsascreators/v1";s.ModuleView.register("user_upload",{messaging:{age_band_violation:"Sorry, you are ineligible to participate.",country_violation:"Sorry, your country is ineligible to participate.",file_not_included_violation:"Sorry, please select a file.",file_type_violation:"Sorry, this file type is not allowed.",is_required_violation:"is required",login_violation:"Sorry, you must log in to participate.",unexpected_error:"Sorry, an unexpected error has occurred. Please try again later."},progressConfig:{stepPercent:1,minimumMilliseconds:800},template:r.modules.user_upload,events:{"click .disid-button":function(){this.handleGetStartedClick()},"click .asset-pack .button":function(){this.showForm()},"click .begin-upload":function(){this.beginUpload()},"click .cancel-upload":function(){this.handleCancelUploadClick()},"click .tips-button":function(){this.handleTipsClick()},"click .close-tips":function(){this.handleTipsClose()},"click .delete-file":function(){this.handleFileNameClick()},'change input[type="file"]':function(e){this.updateSelectedFile(e)},"change select":function(){this.updateSelect()},'keypress input[name="name"]':function(e){if(0!==e.which&&8!==e.which){var t=String.fromCharCode(e.which);/[a-z0-9]/i.test(t)||e.preventDefault()}},'change input[name="name"]':function(e){var t=a(e.currentTarget),i=t.val()||"";t.val(i.replace(/[^a-z0-9]/gi,""))}},initialize:function(){var e=100/this.progressConfig.stepPercent;l.extend(this,{messaging:l.extend(this.messaging,this.model.get("schema_json")),progressConfig:l.extend(this.progressConfig,{minimumInterval:this.progressConfig.minimumMilliseconds/e})}),l.bindAll.apply(l,[this].concat(l.functions(this))),t=new o(d,{cellophane_auth_key:this.model.get("cellophane_auth_key"),cellophane_base_uri:this.model.get("cellophane_base_uri"),Cookie:n.Cookie,guest:this._getGuest(),translations:this.model.get("translations")})},render:function(){var e=this.template||{};if(e&&"function"==typeof e.render){var t=this.model.toJSON(),i=t.schema_json||{};l.extend(t,{has_tips:!(l.isEmpty(i.dos)&&l.isEmpty(i.donts))}),this.$el.html(e.render(t)),this.setupGuest()}},renderCampaign:function(e,t){var i=r.partials.forms.user_upload_form||{};if(i&&"function"==typeof i.render){var n=this.$el.find(".form-container");if(!n.find("form").length){var s=this.model.toJSON();l.extend(s,t,{fields:this.generateFields(e),form_action:this.model.get("cellophane_base_uri")+d}),n.append(i.render(s,{character_countdown:r.modules.shared_components.character_countdown})),this.countdown()}this.showAssetPack()}},setupCampaign:function(e){if("resolved"!==c.state())if(e){var i=this._getCampaignContent(e);i?this._isAllowedAgeBand(e,i)?t.campaign.submissionAllowed(e,i.id)?t.campaign.get(i.id).then(function(e){c.resolve(e)}).fail(function(e){c.reject(e)}):c.reject("submission_limit_reached"):(c.reject("age_band_violation"),t.track("SWFFA_Ineligible_UnderAge",this._getGuestAgeBand(e))):(c.reject("country_violation"),t.track("SWFFA_Ineligible_WrongCountry",this._getGuestLegalCountry(e)))}else c.reject("login_violation");return c},setupGuest:function(){var t=this,i=t._getGuest();i.on("login",function(e){t.setupCampaign(e).then(t.renderCampaign,t.toggleIneligible)}),i.on("logout",function(){t.hideForm(),t.showLogin(),t.$(".asset-pack.form-mask").removeClass("hidden").addClass("disabled"),e.location.reload()})},updateSelect:function(){this.$("select").each(function(){var e=a(this),t=e.find("option:selected"),i=0===t.index();e.toggleClass("empty",i&&""===e.val())})},updateSelectedFile:function(e){if(this.activeFile=e&&e.currentTarget,this.resetAlert(),this.activeFile){var t=this.activeFile.files[0],i=t.name;this.$(".file-name-container").addClass("visible"),this.$(".file-name").text(i),this.$(".select-file").removeClass("visible"),this.$(".begin-upload").addClass("visible"),this.$(".extra-fs").addClass("file-show"),this.$(".footnotes").addClass("visible")}else this.$('form input[type="file"]')[0].value=null,this.$(".file-name-container").removeClass("visible"),this.$(".file-name").text(""),this.$(".select-file").addClass("visible"),this.$(".begin-upload").removeClass("visible"),this.$(".extra-fs").removeClass("file-show"),this.$(".footnotes").removeClass("visible")},showAssetPack:function(){this.$(".login.form-mask").fadeOut(150),this.$(".container-mask").fadeOut(150),this.$(".asset-pack.form-mask").removeClass("disabled")},hideForm:function(){this.$(".container-mask, .form-mask").addClass("hidden"),this.$(".form-container form").removeClass("visible")},showForm:function(){this.$(".asset-pack.form-mask").addClass("hidden"),this.$(".form-container form").addClass("visible"),this.$(":input:visible:first").focus(),t.track("SWFFA_Eligible")},showLogin:function(){this.hideForm(),this.$(".container-mask, .login.form-mask").fadeIn(150)},toggleIneligible:function(e,t){switch(this.hideForm(),e){case"submission_limit_reached":this.showProgress(),this.updateProgressIndicator(100),this.revealSuccess(),this.$(".container-mask").fadeOut(150);break;default:var i=this.$(".ineligible.form-mask");i.toggleClass(e).toggleClass("hidden",!!t),i.html(this.messaging[e]||e||this.messaging.unexpected_error)}},beginUpload:function(){this.$(".uploading").addClass("visible"),this.resetAlert(),this.setupCampaign().then(this.validateForm,this.showAlert).then(this.prepareUpload,this.showAlert).then(this.showProgress,this.showAlert).then(this.upload,this.showAlert).then(this.handleUploadSuccess,this.handleUploadFailure)},prepareUpload:function(e,i){var n=l.first(this.activeFile.files),s=l.inject(i,function(e,t){return e[t.key]=t.value,e},{});return t.campaign.prepare(n,s)},upload:function(){var e=l.first(this.activeFile.files);return t.campaign.upload(e,{progressCallback:this.updateProgressIndicator})},validateForm:function(e){for(var t=new a.Deferred,i=this.generateFields(e),n=this.activeFile&&l.first(this.activeFile.files),s=0;s<i.length;s++){var o=this.$("form").find('[name="'+i[s].key+'"]').val();if(o)i[s].value=o;else if(i[s].required)return t.reject(i[s].title+" "+this.messaging.is_required_violation)}return n?l.contains(e.allowedTypes,n.type)?t.resolve(e,i):t.reject(this.messaging.file_type_violation):t.reject(this.messaging.file_not_included_violation)},showProgress:function(){this.resetProgressIndicator(),this.$("form").addClass("hide"),this.$(".progress").addClass("visible")},hideProgress:function(){this.$(".progress").removeClass("visible"),this.$("form").delay(1e3).removeClass("hide"),this.resetProgressIndicator()},updateProgressIndicator:function(e){var t=e>1?e:100*e,i=this.progressConfig&&this.progressConfig.stepPercent,n=i*Math.round(t/i),s=this.$(".progress-indicator");s.attr("data-loading",100>n),s.attr("data-progress",n)},resetProgressIndicator:function(){var e=this.$(".progress-indicator");e.attr("data-loading","false"),e.attr("data-progress","0"),e.removeClass("upload-success")},handleUploadSuccess:function(){var t,i=this,n=parseInt(this.$(".progress-indicator").attr("data-progress"),10),s=this.progressConfig;100===n?i.revealSuccess():t=e.setInterval(function(){n+=s.stepPercent,i.updateProgressIndicator(n),100===n&&(i.revealSuccess(),e.clearInterval(t),i.$(".progress-indicator").attr("data-loading","false"))},s.minimumInterval)},revealSuccess:function(){this.$(".progress-indicator").addClass("upload-success"),this.$(".thank-you").addClass("visible"),this.$(".uploading").removeClass("visible")},handleUploadFailure:function(e){this.$(".uploading").removeClass("visible"),this.revealError(e)},revealError:function(e){this.hideProgress(),this.showAlert(e),this.resetProgressIndicator()},showAlert:function(e){this.$(".notification").removeClass("notice").addClass("alert").stop(!0).hide().text(e).slideDown(500)},resetAlert:function(){this.$(".notification").addClass("notice").removeClass("alert").hide()},handleFileNameClick:function(){this.updateSelectedFile(null)},handleTipsClick:function(){a(".tips-bound").addClass("visible"),a(".modal-overlay").addClass("ugc-show")},handleTipsClose:function(){a(".tips-bound").removeClass("visible"),a(".modal-overlay").removeClass("ugc-show")},handleGetStartedClick:function(){this._getGuest().login()},countdown:function(){var e=this.$(".has-count");n.FormElements.characterCountdown.onReady(e)},generateFields:function(e){var t=e.submissionMetadata;return l.inject(t.properties,function(e,i,n){var s=l.extend(i,{key:n,required:l.contains(t.required,n),maxLength:i.maxLength||300});return s[i.type]=!0,e.push(s),e},[])},destroy:function(){t&&t.destroy()},_getCampaignContent:function(e){var t=this._getGuestLegalCountry(e);return l.find(this.model.get("data")||[],function(e){return!n.vis.geoExcluded(new i.Model(e),t)})},_getGuest:function(){return this.options&&this.options.guest},_getGuestAgeBand:function(e){return e&&e.profile&&e.profile.ageBand},_getGuestLegalCountry:function(e){var t=e&&e.profile||{};return t.region||t.countryCodeDetected||"unknown"},_isAllowedAgeBand:function(e,t){var i=this._getGuestAgeBand(e),n=(t&&t.age_bands||{}).allowed;return l.contains(n,i)}})}(this),Whiskers("modals.video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='modal-close top-right'></div> <div class='modal-content'> <div class=\"thumb\" style=\"background-image: url( "),n.s(n.f("video",e,t,1),e,t,0,129,156,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b(" ")}),e.pop()),n.b(' ); background-repeat: no-repeat; background-size: cover;"> <div class="thumb-sizer"></div> </div> '),n.s(n.f("video",e,t,1),e,t,0,275,716,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="details"> <div class="content"> <h3 class="title">'),i.b(i.v(i.f("title",e,t,0))),i.b('</h3> <div class="author">'),i.b(i.v(i.f("short_description",e,t,0))),i.b('</div> <div class="description">'),i.b(i.v(i.f("description",e,t,0))),i.b('</div> </div> <div class="modal-vote-btn-container"> <button type="button" class="modal-voting-btn" data-modal-video-slug="'),i.b(i.v(i.f("slug_base",e,t,0))),i.b('"> <span class="modal-voting-icon"></span> <span class="modal-voting-text">'),i.b(i.v(i.d("translations.voting_btn_text",e,t,0))),i.b("</span> </button> </div> </div> ")}),e.pop()),n.b(" </div> <div id='social-buttons' class='large-social'> "),n.b(n.rp("socialShare",e,t,"")),n.b(" </div>"),n.fl()}),Whiskers("modules.voting_player",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div id="voting-video"> <div class="aspect"> <!-- Orphan video markup --> '),n.s(n.f("expired",e,t,1),e,t,1,0,0,"")||n.b(' <div id="voting_video_player" class="voting-video-player"></div> '),n.b(" "),n.s(n.f("expired",e,t,1),e,t,0,177,242,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(" <!-- /Orphan video markup --> </div> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.Backbone,s=t.Utilities,o=e.Modernizr,r=t.Style.breakpoints,a=e.jQuery,l=e._,c=e.Whiskers;i.VideoModalView=i.ModalView.extend({options:{name:"video",events:{onkeyup:!1,onclick:!1},template:c.modals.video},events:{"click .modal-voting-btn":function(){this.handleVoteClick()},"click .modal-close":function(){this.removePlayer()}},initialize:function(){this.options.guest.retain(),this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this)},render:function(){var t=this.model.get("data"),i=this.model.get("translations")||{},n=e.location.hash.substring(1),s=l.filter(t,function(e){return l.findWhere(e.video,{slug_base:n})});this.video=s[0].video[0],this.poll=s[0].poll[0];var o={voting_btn_text:"vote",voting_pre_login_text:"Login to vote for all your favorite videos.",voting_post_login_text:"You can vote for each film once per day",voting_success_default:"Let your friends know you voted!",voting_error_maxnum:"You've already voted today.",voting_error_default:"Oops! Something went wrong. Try again later."};l.defaults(i,o);var r=l.extend({video:this.video,translations:i,title:this.video.title,source:this.video.url,titleEncoded:encodeURIComponent(this.video.title),sourceEncoded:encodeURIComponent(this.video.url),socialShare:this.model.collection&&this.model.collection.social_share_networks},this.model);return this.options.template.render(r,{socialShare:c.modules.shared_components.social_share})},ready:function(){this.initVideoPlayer()},handleVoteClick:function(){var e=this;this.options&&this.options.guest&&this.options.guest.current?e.makeVoteRequest(this.options.guest.retain()):this.options.guest.login().then(function(t){t||e.makeVoteRequest(t)})},makeVoteRequest:function(e){var t=this,i=t.model.get("translations"),n=t.model.collection&&t.model.collection.config_translations||{};l.defaults(i,n);var s=this.poll.id,o=this.poll.title,r=this.poll.voting_choices[0].identifier,c=this.poll.voting_choices[0].text,d=e.current.profile.swid,u=e.current.tokens.access,h=this.model.get("cellophane_as_auth_key"),f=this.model.get("cellophane_as_base_uri")+"/disneynetwork/activitystream/v2/publish/auth/starwars/submit/vote",p=i.voting_success_default,v=i.voting_error_default,m=i.voting_error_maxnum,b=i.voting_pre_login_text,g=a(".modal-voting-btn"),_=a("ul").find("[data-video-poll-id='"+this.poll.id+"']"),y=JSON.stringify({pollId:s,voteId:r,title:"Voted for "+c+" in the '"+o+"' poll!",voteDisplayName:c,pollDisplayName:o,swid:d,pollType:this.model.get("type")});a.ajax({url:f,headers:{Authorization:h+", Bearer "+u},type:"POST",data:y,dataType:"json"}).always(function(e){switch(e.status){case 202:g.addClass("voted").text(p),_.find("notivications").addClass("active").find(".content h3").text(p);break;case 429:g.text(m);break;case 409:g.text(m);break;case 401:g.text(b);break;case 403:g.text(b);break;default:g.text(v)}})},removePlayer:function(){this.player&&this.player.remove()},initVideoPlayer:function(){var e=this,i=this.video;if(this.removePlayer(),this.player=new d({model:i}),t.Social.bindShareClick(),this.$el.find(".thumb-sizer").html(this.player.render()),this.player.init(i),o.mobile){var a=this.player.$el.find("video");a.play(),n.Resize.width()<r.midHigh&&(s.toggleFullScreen(a,!0),s.onFullScreenChange(function(){s.isFullScreen()||(a.pause(),e.playerView&&(e.playerView.remove(),e.playerView=null,e.$voteItem=null),s.offFullScreenChange())}))}}});var d=i.ModuleView.register("video-player",{className:"modal-voting-video-container",template:c.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(e){this.player=new t.StarWarsVideoPlayer("voting_video_player",{video:e,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".modal-voting-video-container").remove(),this.player&&(this.player.cleanup(),this.player.destroy(),this.player=null),i.BunView.prototype.remove.call(this)}})}(this),Whiskers("modules.voting",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> '),n.s(n.f("header_data",e,t,1),e,t,0,36,54,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(i.rp("module_header",e,t,""))}),e.pop()),n.b(' <div class="voting-info-wrap"> <button type="button" class="voting-login"> '),n.b(n.v(n.d("translations.voting_pre_login_text",e,t,0))),n.b(' </button> <div class="voting-rules"> <p>'),n.b(n.v(n.d("header_data.desc",e,t,0))),n.b('</p> </div> </div> <ul class="voting-items"> '),n.s(n.f("randData",e,t,1),e,t,0,303,1696,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <li data-video-poll-id="'),i.s(i.f("poll",e,t,1),e,t,0,337,343,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("id",e,t,0)))}),e.pop()),i.b('" data-video-poll-slug="'),i.s(i.f("poll",e,t,1),e,t,0,385,393,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("slug",e,t,0)))}),e.pop()),i.b('" data-video-poll-title="'),i.s(i.f("poll",e,t,1),e,t,0,436,445,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b('" data-option-id="'),i.s(i.f("poll",e,t,1),e,t,0,481,533,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("voting_choices",e,t,1),e,t,0,500,514,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("identifier",e,t,0)))}),e.pop())}),e.pop()),i.b('" data-option-name="'),i.s(i.f("poll",e,t,1),e,t,0,571,617,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("voting_choices",e,t,1),e,t,0,590,598,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("text",e,t,0)))}),e.pop())}),e.pop()),i.b('" data-video-id="'),i.s(i.f("video",e,t,1),e,t,0,653,659,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("id",e,t,0)))}),e.pop()),i.b('" data-video-slug="'),i.s(i.f("video",e,t,1),e,t,0,698,711,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("slug_base",e,t,0)))}),e.pop()),i.b('" data-video-title="'),i.s(i.f("video",e,t,1),e,t,0,751,760,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("title",e,t,0)))}),e.pop()),i.b('" data-video-url="'),i.s(i.f("video",e,t,1),e,t,0,798,805,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.v(i.f("url",e,t,0)))}),e.pop()),i.b('"> <div class="bedazzlement"></div> <div class="item-container"> <div class="item-head"> <div class="thumb" style="background-image: url( '),i.s(i.f("video",e,t,1),e,t,0,963,990,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("asset_thumbnail_image",e,t,0))),i.b(" ")}),e.pop()),i.b(' );"> <span class="thumb-sizer"></span> </div> <button type="button" class="voting-btn"> <span class="vote-text">'),i.b(i.v(i.d("translations.voting_btn_text",e,t,0))),i.b('</span> <span class="voted-icon"></span> </button> </div> <div class="item-body"> <div class="details"> <h3 class="title">'),i.s(i.f("video",e,t,1),e,t,0,1277,1288,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("title",e,t,0))),i.b(" ")}),e.pop()),i.b('</h3> <div class="author">'),i.s(i.f("video",e,t,1),e,t,0,1334,1357,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("short_description",e,t,0))),i.b(" ")}),e.pop()),i.b('</div> <div class="description">'),i.s(i.f("video",e,t,1),e,t,0,1409,1426,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(" "),i.b(i.v(i.f("description",e,t,0))),i.b(" ")}),e.pop()),i.b('</div> </div> </div> </div> <div class="notifications"> <div class="bedazzlement"></div> <span class="close-icon"></span> <div class="content"> <h3>'),i.b(i.v(i.d("translations.voting_success_default",e,t,0))),i.b("</h3> "),i.b(i.rp("socialShare",e,t,"")),i.b(' </div> </div> <span class="bg-fill"></span> </li> ')}),e.pop()),n.b(" </ul> </div>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e.Backbone,s=t.Utilities,o=e.Modernizr,r=t.Style.breakpoints,a=e.jQuery,l=e._,c=e.Whiskers;i.ModuleView.register("voting-sw",{template:c.modules.voting,assets:{scripts:["https://a.dilcdn.com/sw/videoplayer-8cfdc1e41412.js"]},events:{"click .voting-login":function(){this.options.guest.login()},"click .voting-btn":function(e){this.$voteItem=a(e.currentTarget).closest("li"),this.handleVoteClick()},"click .thumb":function(e){var t=a(e.currentTarget),i=t.closest("li"),n=i.data("video-id");this.thumbParent=i,this.thumbParentID=n,t.hasClass("active")||(a(".thumb.active").removeClass("active"),t.addClass("active"),this.initInlineVideoPlayer())},"click .close-icon":function(e){this.closeInlineModal(a(e.currentTarget).closest("div"))}},initialize:function(){this.options.guest.retain(),this.options.guest.on("login",this.login,this),this.options.guest.on("logout",this.logout,this)},render:function(){var i=this,n=this.model.get("data"),s=this.model.get("translations"),o=l.shuffle(n);this.model.set("randData",o);var r={voting_btn_text:"vote",voting_pre_login_text:"Login to vote for all your favorite videos.",voting_post_login_text:"You can vote for each film once per day",voting_success_default:"Let your friends know you voted!",voting_error_maxnum:"You've already voted today.",voting_error_default:"Oops! Something went wrong. Try again later."};l.defaults(s,r);var a=l.extend({translations:s,socialShare:this.model.collection&&this.model.collection.social_share_networks},this.model);t.Social.init("facebook"),this.$el.html(this.template.render(a,{module_header:c.modules.shared_components.module_header,socialShare:c.modules.shared_components.social_share})),e.setTimeout(function(){i.rewriteSocialLinks(),i.initDeepLink()},2e3)},handleVoteClick:function(){var e=this;this.options.guest.current?e.makeVoteRequest(this.options.guest.retain()):this.options.guest.login().then(function(t){t||e.makeVoteRequest(t)})},initDeepLink:function(){if(e.location.hash){var t=e.location.hash.substring(1),i=a(".voting-items").find('[data-video-slug="'+t+'"]'),n=140;a("html,body").animate({scrollTop:i.offset().top-n},1e3),o.mobile?i.find(".thumb").trigger("click"):this.initModal()}},rewriteSocialLinks:function(){var e=a(".voting-items li");a.each(e,function(e,t){var i=a(t),n=i.data("video-title"),s=i.data("video-url"),o=encodeURIComponent(n),r=encodeURIComponent(s);i.find(".social-share").attr("data-text",n),i.find(".social-share.facebook").attr("data-share-url",s),i.find(".social-share.twitter").attr("data-href","https://twitter.com/intent/tweet?url="+r+"&text="+o+"&hashtags=SWFanFilms"),i.find(".social-share.google_plus").attr("data-href","https://plus.google.com/share?url="+r)})},makeVoteRequest:function(e){var t=this,i=t.model.get("translations"),n=t.model.collection&&t.model.collection.config_translations||{};l.defaults(i,n);var s=this.$voteItem.closest("li").data("video-poll-id"),o=this.$voteItem.closest("li").data("video-poll-slug"),r=this.$voteItem.data("option-id"),c=this.$voteItem.data("option-name"),d=e.current.profile.swid,u=e.current.tokens.access,h=this.model.get("cellophane_as_auth_key"),f=this.model.get("cellophane_as_base_uri")+"/disneynetwork/activitystream/v2/publish/auth/starwars/submit/vote",p=i.voting_success_default,v=i.voting_error_default,m=i.voting_error_maxnum,b=i.voting_pre_login_text,g=JSON.stringify({pollId:s,voteId:r,title:"Voted for "+c+" in the '"+o+"' poll!",voteDisplayName:c,pollDisplayName:o,swid:d,pollType:this.model.get("type")});a.ajax({url:f,headers:{Authorization:h+", Bearer "+u},type:"POST",data:g,dataType:"json"}).always(function(e){switch(e.status){case 202:t.animateVoteSuccess(p);break;case 429:t.animateVoteFail(m);break;case 409:t.animateVoteFail(m);break;case 401:t.animateVoteFail(b);break;case 403:t.animateVoteFail(b);break;default:t.animateVoteFail(v)}})},animateVoteSuccess:function(t){var i=this;i.$voteItem.addClass("selected"),i.$voteItem.find(".social-share-links").show(),e.setTimeout(function(){i.initInlineModal(t)},500)},animateVoteFail:function(e){this.initInlineModal(e),this.$voteItem.find(".social-share-links").hide()},destroy:function(){this.options.guest&&this.options.guest.release()},initInlineModal:function(e){this.$voteItem.find(".notifications").addClass("active").find("h3").text(e)},closeInlineModal:function(e){e.removeClass("active")},login:function(){this.$el.addClass("loggedin")},logout:function(){this.$el.removeClass("loggedin")},initModal:function(){var e=this.model.get("cto");this.modal=new i.VideoModalView({guest:this.options.guest,model:this.model,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWVideoPlayerModal"}}),a(this.modal).remove(),this.modal.show()},initInlineVideoPlayer:function(){var e=this,t=l.filter(this.model.get("data"),function(t){return l.findWhere(t.video,{id:e.thumbParentID})}),i=t[0].video[0];if(this.player&&this.player.remove(),this.player=new d({model:i}),a(this.thumbParent).find(".thumb-sizer").html(this.player.render()),this.player.init(i),o.mobile){var c=this.player.$el.find("video");c.play(),n.Resize.width()<r.midHigh&&(s.toggleFullScreen(c,!0),s.onFullScreenChange(function(){s.isFullScreen()||(c.pause(),e.playerView&&(e.playerView.remove(),e.playerView=null,e.$voteItem=null),s.offFullScreenChange())}))}}});var d=i.ModuleView.register("video-player",{className:"voting-video-container",template:c.modules.voting_player,render:function(){return this.$el.html(this.template.render()),this.el},init:function(e){this.player=new t.StarWarsVideoPlayer("voting_video_player",{video:e,autoPlay:!0,clickToPlay:!0,showTitle:!0,ads:{enabled:!1,context:!1}})},remove:function(){this.$(".voting-video-container").remove(),this.player&&(this.player.destroy(),this.player=null),i.BunView.prototype.remove.call(this)}})}(this),Whiskers("modals.social_share",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b("<div class='modal-content'> <div class='modal-close top-right'></div> <p class='modal-header top-left'>"),n.b(n.v(n.d("config_translations.share_modal_header",e,t,0))),n.b("</p> <div id='social-buttons' class='large-social'> "),n.b(n.rp("socialShare",e,t,"")),n.b(" </div> <div id='share-links'> <p class='link-text'>"),n.b(n.v(n.d("config_translations.share_modal_link",e,t,0))),n.b("</p> <input type='text' value='"),n.b(n.v(n.f("source",e,t,0))),n.b("'> </div> <div class='decal'></div> </div>"),n.fl()}),Whiskers("modules.watch",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.s(n.f("data",e,t,1),e,t,0,9,2789,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div itemprop="video" itemscope itemtype="http://schema.org/VideoObject" class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-'),i.b(i.v(i.f("aspect_ratio",e,t,0))),i.b('"></div> <div id="frame"> <!-- Orphan video markup --> <meta itemprop="duration" content="'),i.b(i.v(i.f("duration_iso",e,t,0))),i.b('"> <meta itemprop="thumbnail" content="'),i.b(i.v(i.f("thumb",e,t,0))),i.b('"> <meta itemprop="name" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="embedId" content="'),i.b(i.v(i.f("id",e,t,0))),i.b('"> <meta itemprop="title" content="'),i.b(i.v(i.f("title",e,t,0))),i.b('"> <meta itemprop="description" content="'),i.b(i.v(i.f("description",e,t,0))),i.b('"> <meta itemprop="URL" content="'),i.b(i.v(i.f("href",e,t,0))),i.b('"> '),i.s(i.f("embedURL",e,t,1),e,t,0,691,742,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <meta itemprop="embedURL" content="'),i.b(i.v(i.f("embedURL",e,t,0))),i.b('"> ')}),e.pop()),i.b(" "),i.s(i.f("expired",e,t,1),e,t,1,0,0,"")||(i.b(' <div id="player" class="player"> <noscript> <div class="player_error">'),i.b(i.v(i.d("translations.no_javascript",e,t,0))),i.b("</div> </noscript> </div> ")),i.b(" "),i.s(i.f("expired",e,t,1),e,t,0,920,985,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="orphan"><p>'),i.b(i.v(i.d("translations.video_expired",e,t,0))),i.b("</p></div> ")}),e.pop()),i.b(' <!-- /Orphan video markup --> <div id="card" class="card watch skip-styles"> '),i.s(i.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="card_header"> <div class="btn_replay"> <span class="button"> '),
i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b(' <div class="bedazzlement"></div> </span> </div> <p class="countdown_intro">'),i.b(i.v(i.d("translations.next_video_start",e,t,0))),i.b(' <span class="countdown">10</span><span class="autoplay">'),i.b(i.v(i.d("translations.autoplay_off",e,t,0))),i.b("</span></p> "),i.s(i.f("upNext",e,t,1),e,t,0,1417,1554,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="btn_next"> <a class="button" href="'),i.b(i.v(i.f("href",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.watch_next_video",e,t,0))),i.b(' <div class="bedazzlement"></div> </a> </div> ')}),e.pop()),i.b(' </div> <div class="suggested"> <ul> '),i.s(i.f("upNext",e,t,1),e,t,0,1613,1635,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("entity",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" "),i.s(i.f("suggested",e,t,1),e,t,0,1661,1683,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b("<li> "),i.b(i.rp("entity",e,t,"")),i.b(" </li>")}),e.pop()),i.b(" </ul> </div> ")),i.b(" "),i.s(i.f("standalonePlayer",e,t,1),e,t,0,1754,2257,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="card-content"> <div class="btn_replay replay_btn_teaser"> <span class="icon-replay"></span> <span>'),i.b(i.v(i.d("translations.replay_video",e,t,0))),i.b("</span> </div> "),i.s(i.f("hasSocial",e,t,1),e,t,0,1923,2235,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="spacer"></div> <div class="share-text">'),i.b(i.v(i.d("translations.share_this",e,t,0))),i.b('</div> <div class="large-social">'),i.b(i.rp("socialShare",e,t,"")),i.b('</div> <div class="share-links"> <p class="link-text">'),i.b(i.v(i.d("translations.quick_link",e,t,0))),i.b('</p> <input type="text" value="'),i.b(i.v(i.f("source",e,t,0))),i.b('"> </div> '),i.s(i.f("shareUtility",e,t,1),e,t,0,2200,2217,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(i.rp("shareUtility",e,t,""))}),e.pop()),i.b(" ")}),e.pop()),i.b(" </div> ")}),e.pop()),i.b(' </div> </div> </div> <!-- End of video_wrapper --> </div> <div class="content-metadata-container"> '),i.s(i.f("standalonePlayer",e,t,1),e,t,1,0,0,"")||(i.b(' <div class="bedazzlement"></div> '),i.b(' <div id="meta"></div> ')),i.b(" "),i.s(i.f("standalonePlayer",e,t,1),e,t,0,2521,2719,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.s(i.f("schema_json",e,t,1),e,t,0,2537,2703,"{{ }}")&&(i.rs(e,t,function(e,t,i){i.b(' <div class="site-link-container"> <a class="underline" href="'),i.b(i.v(i.d("schema_json.visit_link",e,t,0))),i.b('">'),i.b(i.v(i.d("translations.visit_link",e,t,0))),i.b('</a> </div> <div id="share-btn-container"></div> ')}),e.pop())}),e.pop()),i.b(" </div> </div> </div> </div> </div> <!-- End --> ")}),e.pop()),n.fl()}),Whiskers("entities.video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<!-- TODO This is pulled from matterhorn and needs to be set up for StarWars --> <a href="'),n.b(n.v(n.f("href",e,t,0))),n.b('"'),n.s(n.f("ping",e,t,1),e,t,0,108,129,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' data-ping="'),i.b(i.v(i.f("ping",e,t,0))),i.b('"')}),e.pop()),n.b(' class="skip-styles"> <div class="thumb-box"><div class="aspect"> <img src="'),n.b(n.v(n.f("default_thumb",e,t,0))),n.b('" class="thumb" alt="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> '),n.s(n.f("badge",e,t,1),e,t,0,274,316,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b('<img src="'),i.b(i.v(i.f("badge",e,t,0))),i.b('" class="badge" alt="">')}),e.pop()),n.b(" "),n.s(n.f("duration",e,t,1),e,t,0,340,389,"{{ }}")&&(n.rs(e,t,function(e,t,i){i.b(' <div class="duration"><p>'),i.b(i.v(i.f("duration",e,t,0))),i.b("</p></div> ")}),e.pop()),n.b(' </div></div> <div class="thumb-title"> <h3 class="overlay-title" aria-hidden="true">'),n.b(n.v(n.f("title",e,t,0))),n.b("</h3> </div> </a>"),n.fl()}),Whiskers("modules.shared_components.share_btn",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<button type="button" class="social-share-btn button" data-source="'),n.b(n.v(n.f("href",e,t,0))),n.b('" data-title="'),n.b(n.v(n.f("title",e,t,0))),n.b('"> <span class="icon-share"></span> <span class="social-share-title">'),n.b(n.v(n.d("translations.share",e,t,0))),n.b("</span> </button>"),n.fl()}),function(e){"use strict";var t=e.Disney,i=e.Backbone,n=e.Grill,s=e.Whiskers,o=e._,r=e.jQuery,a=i.View.extend({el:"#share-btn-container",render:function(){var e=o.extend({translations:this.options.translations},this.options.share_object);this.$el.html(s.modules.shared_components.share_btn.render(e,{}))}});n.SocialShareModalView=n.ModalView.extend({options:{name:"social-share",template:s.modals.social_share},initialize:function(e){if(this.socialShare=e&&e.model.collection&&e.model.collection.social_share_networks,this.socialShareButton=new a({share_object:e.share_object,translations:e.translations}),this.socialShare){var i=this.socialShare;i.facebook&&t.Social.init("facebook"),i.google_plus&&t.Social.init("google")}this.socialShareButton.render()},render:function(){var e=o.first(this.model.get("data")),t=r(".social-share-btn"),i=t.data("source"),n=t.data("title"),a=o.extend({socialShare:this.socialShare,source:i,sourceEncoded:encodeURIComponent(i),titleEncoded:encodeURIComponent(n),translations:this.options.translations,config_translations:this.options.config_translations},e);return this.options.template.render(a,{socialShare:s.modules.shared_components.social_share})},ready:function(){this._bindEvents()},_bindEvents:function(){t.Social.bindShareClick()}})}(this),function(e){"use strict";var t=e.Disney,i=e.jQuery,n=e.flashembed,s=t.Capabilities={MIN_FP_VERSION:[9,0],isHTML5Capable:function(){return e.Modernizr.canvas},isFlashCapable:function(e){var t=e||s.MIN_FP_VERSION;return n.isSupported(t)},isMobileBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad|android|silk|iemobile)/i)?!0:!1},isiOSBrowser:function(){return e.navigator.userAgent.match(/(ipod|iphone|ipad)/i)?!0:!1},isAndroidBrowser:function(){return e.navigator.userAgent.match(/(android)/i)?!0:!1},isKindleBrowser:function(){return e.navigator.userAgent.match(/(kindle|silk)/i)?!0:!1},isIE8:function(){return i.browser.msie&&8===parseInt(i.browser.version,10)}}}(this),function(e){"use strict";var t=e.Disney,i=e.Grill,n=e._,s=e.jQuery,o=e.Whiskers,r=e.Math,a=null,l=e.sessionStorage,c=e.JSON,d=i.ModuleView.extend({assets:{scripts:["https://a.dilcdn.com/sw/videoplayer-8cfdc1e41412.js"]},events:{"click .social-share-btn":function(e){this.modal.show({event:e})}},initialize:function(){var t=this,i="true"===this.model.collection.disable_video_endcard,o=this.model.collection&&this.model.collection.social_share_networks;n.extend(this,{disableEndCard:i,socialShare:o,hasSocial:!!o,share_object:this.pointSocialToPage?this.model.collection:n.first(this.model.get("data"))}),t.h=s(e).on("resize."+t.cid,n.throttle(function(){var i=s(e).height();i!==t.h&&(t.h=i,t.layout())},100)).height()},render:function(){var e=this.share_object,t=this.model.get("schema_json"),i=t?t.aspect_ratio:"";this.isStandalonePlayer="standalone_player"===this.model.get("view");var s=n.extend({tags:this.model.get("data")[0].tags,contenttype:this.model.get("data")[0].contenttype,upNext:this.upNext(),cds:!1,hasSocial:this.hasSocial,socialShare:this.socialShare,source:e.href,sourceEncoded:encodeURIComponent(e.href),titleEncoded:encodeURIComponent(e.title),standalonePlayer:this.isStandalonePlayer,aspect_ratio:i},this.model.toJSON());this.$el.html(o.modules.watch.render(s,{entity:o.entities.video,socialShare:o.modules.shared_components.social_share})),a=s.data[0],this.layout()},ready:function(){var e=this.model.get("cto"),s=this.model.get("translations");new t.ContentMetadataView({el:this.$("#meta"),model:this.model,shareUtility:this.shareUtility()}),this.modal=new i.SocialShareModalView({closeElement:".modal-close",config_translations:this.model.collection&&this.model.collection.config_translations,model:this.model,share_object:this.share_object,tracking:{engagementMeta:e&&e.slug,eventCategory:"SWSocialShareModal"},translations:s});var o=n.first(this.model.get("data"));this.isStandalonePlayer&&o.default_thumb&&(o.poster=o.default_thumb),n.extend(this.playerConfig,{video:o,translations:s}),this.player=new t.StarWarsVideoPlayer("player",this.playerConfig)},upNext:function(){var e=n.first(this.model.get("data")),t=l&&c.parse(l.getItem("videoHistoryOnDisneyVideo")||"[]"),i=e.next||[],s=[];n.each(i,function(e){s.push(e.id)});var o=n.first(n.difference(s,t)),r=n.find(i,function(e){return e.id===o});r||(r=n.first(i)),t.push(e.id),t.length>10&&t.shift();try{l.setItem("videoHistoryOnDisneyVideo",c.stringify(t))}catch(a){}return r},layout:function(){var e=r.ceil((this.h-120)/.5625),t=r.max(320,e),i=r.min(1024,t),n=this.$("#video_wrapper .bound");n.css("maxWidth",i)},remove:function(){this.player&&(this.player.destroy(),this.player=null),i.ModuleView.prototype.remove.call(this),s(e).off("resize."+this.cid)}});d.register("watch",{playerConfig:{autoPlay:!0,showTitle:!1,showDuration:!0,ads:{enabled:!1}},shareUtility:function(){var e=this.model.get("translations"),t=[{share_type:"embed",share_text:e.embed,output_label:e.embed},{share_type:"share",share_text:e.share,output_label:e.quick_link}];return this.playerConfig.showEndCard=!this.disableEndCard,this.playerConfig.clickToPlay=this.disableEndCard,t}}),d.register("watch_2",{className:"module watch",playerConfig:{autoPlay:!1,clickToPlay:!0,showTitle:!1,showDuration:!1,showEndCard:!1,ads:{enabled:!1},skinUrl:"https://a.dilcdn.com/sw/audioplayer_assets_starwars-0f9a1453eef2.swf"},shareUtility:function(){return!1}}),d.register("standalone_player",{pointSocialToPage:!0,playerConfig:{autoPlay:!1,clickToPlay:!1,showTitle:!1,showDuration:!1,showEndCard:!0,ads:{enabled:!1}},shareUtility:function(){return!1}})}(this),Whiskers("modules.watch_video",function(e,t,i){"use strict";var n=this;return n.b(i=i||""),n.b('<div class="bound"> <div class="watch-container"> <div class="watch-aspect"> <div class="watch-padding"> <div class="watch-wrapper"> <div id="video_wrapper" class="inverted"> <div class="scaler ratio-16x9"></div> '),n.b(n.rp("player",e,t,"")),n.b(' </div> </div> </div> </div> </div> </div> <div class="module-spinner"> <span class="loader"></span> </div>'),n.fl()}),function(e){"use strict";var t=e.Grill,i=e.Whiskers,n=e.jQuery,s=e._,o=t.ModuleView.extend({className:"module video-player",template:i.modules.watch_video,initialize:function(){this.el.className+=" "+this._playerType(),s.extend(this,{partials:{player:i.modules.shared_components[this._playerType()]}})},render:function(){var e=this.model,t=s.first(e.get("data")),i=s.extend({nowlive_id:e.get("nowlive_id")},t);this._playerType()&&this.$el.html(this.template.render(i,this.partials))},ready:function(){if(this._playerType()){var e=this.$(".watch-padding").outerHeight(),t=this.$(".watch-container").position().top,i=this.$(".bound").css("padding-top");e>0&&this.$(".module-spinner").css("top",e/2+t+i),this.$(".youtube-inline-player iframe, .nowlive-inline-player iframe").on("load",function(){n(this).addClass("loaded")})}},_playerType:function(){var e=s.first(this.model.get("data"))||{};return e.youtube_id?"youtube_player":this.model.get("nowlive_id")?"nowlive_player":void 0}});o.register("starwars_standalone_youtube_player")}(this);